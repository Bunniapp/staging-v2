(self.webpackChunkinterface=self.webpackChunkinterface||[]).push([[212],{35972:(ni,at,ke)=>{"use strict";at.Xx=at._w=at.aP=at.KS=at.jQ=void 0;ke(25465);const pr=ke(56713);ke(43403);function we(G){const Q=new Float64Array(16);if(G)for(let K=0;K<G.length;K++)Q[K]=G[K];return Q}at.jQ=64,at.KS=64,at.aP=32,new Uint8Array(32)[0]=9;const dt=we(),Ue=we([1]),We=(we([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),we([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222])),Hn=we([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),en=we([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]);we([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Ze(G,Q){for(let K=0;K<16;K++)G[K]=0|Q[K]}function $n(G){let Q=1;for(let K=0;K<16;K++){let v=G[K]+Q+65535;Q=Math.floor(v/65536),G[K]=v-65536*Q}G[0]+=Q-1+37*(Q-1)}function ii(G,Q,K){const v=~(K-1);for(let U=0;U<16;U++){const Ne=v&(G[U]^Q[U]);G[U]^=Ne,Q[U]^=Ne}}function mn(G,Q){const K=we(),v=we();for(let U=0;U<16;U++)v[U]=Q[U];$n(v),$n(v),$n(v);for(let U=0;U<2;U++){K[0]=v[0]-65517;for(let Ke=1;Ke<15;Ke++)K[Ke]=v[Ke]-65535-(K[Ke-1]>>16&1),K[Ke-1]&=65535;K[15]=v[15]-32767-(K[14]>>16&1);const Ne=K[15]>>16&1;K[14]&=65535,ii(v,K,1-Ne)}for(let U=0;U<16;U++)G[2*U]=255&v[U],G[2*U+1]=v[U]>>8}function yi(G){const Q=new Uint8Array(32);return mn(Q,G),1&Q[0]}function ce(G,Q,K){for(let v=0;v<16;v++)G[v]=Q[v]+K[v]}function Mr(G,Q,K){for(let v=0;v<16;v++)G[v]=Q[v]-K[v]}function tt(G,Q,K){let v,U,Ne=0,Ke=0,Et=0,mr=0,vt=0,Mt=0,rn=0,Sn=0,zr=0,Jr=0,Rr=0,Cr=0,Er=0,qt=0,kt=0,lr=0,Ye=0,Nr=0,vn=0,Mn=0,yn=0,Pn=0,Gn=0,_n=0,Rn=0,Or=0,qn=0,Ns=0,io=0,Os=0,Ts=0,Tr=K[0],Dr=K[1],Fr=K[2],yr=K[3],nn=K[4],on=K[5],Wr=K[6],an=K[7],hr=K[8],Lr=K[9],Ir=K[10],Lt=K[11],un=K[12],cn=K[13],Qr=K[14],ln=K[15];v=Q[0],Ne+=v*Tr,Ke+=v*Dr,Et+=v*Fr,mr+=v*yr,vt+=v*nn,Mt+=v*on,rn+=v*Wr,Sn+=v*an,zr+=v*hr,Jr+=v*Lr,Rr+=v*Ir,Cr+=v*Lt,Er+=v*un,qt+=v*cn,kt+=v*Qr,lr+=v*ln,v=Q[1],Ke+=v*Tr,Et+=v*Dr,mr+=v*Fr,vt+=v*yr,Mt+=v*nn,rn+=v*on,Sn+=v*Wr,zr+=v*an,Jr+=v*hr,Rr+=v*Lr,Cr+=v*Ir,Er+=v*Lt,qt+=v*un,kt+=v*cn,lr+=v*Qr,Ye+=v*ln,v=Q[2],Et+=v*Tr,mr+=v*Dr,vt+=v*Fr,Mt+=v*yr,rn+=v*nn,Sn+=v*on,zr+=v*Wr,Jr+=v*an,Rr+=v*hr,Cr+=v*Lr,Er+=v*Ir,qt+=v*Lt,kt+=v*un,lr+=v*cn,Ye+=v*Qr,Nr+=v*ln,v=Q[3],mr+=v*Tr,vt+=v*Dr,Mt+=v*Fr,rn+=v*yr,Sn+=v*nn,zr+=v*on,Jr+=v*Wr,Rr+=v*an,Cr+=v*hr,Er+=v*Lr,qt+=v*Ir,kt+=v*Lt,lr+=v*un,Ye+=v*cn,Nr+=v*Qr,vn+=v*ln,v=Q[4],vt+=v*Tr,Mt+=v*Dr,rn+=v*Fr,Sn+=v*yr,zr+=v*nn,Jr+=v*on,Rr+=v*Wr,Cr+=v*an,Er+=v*hr,qt+=v*Lr,kt+=v*Ir,lr+=v*Lt,Ye+=v*un,Nr+=v*cn,vn+=v*Qr,Mn+=v*ln,v=Q[5],Mt+=v*Tr,rn+=v*Dr,Sn+=v*Fr,zr+=v*yr,Jr+=v*nn,Rr+=v*on,Cr+=v*Wr,Er+=v*an,qt+=v*hr,kt+=v*Lr,lr+=v*Ir,Ye+=v*Lt,Nr+=v*un,vn+=v*cn,Mn+=v*Qr,yn+=v*ln,v=Q[6],rn+=v*Tr,Sn+=v*Dr,zr+=v*Fr,Jr+=v*yr,Rr+=v*nn,Cr+=v*on,Er+=v*Wr,qt+=v*an,kt+=v*hr,lr+=v*Lr,Ye+=v*Ir,Nr+=v*Lt,vn+=v*un,Mn+=v*cn,yn+=v*Qr,Pn+=v*ln,v=Q[7],Sn+=v*Tr,zr+=v*Dr,Jr+=v*Fr,Rr+=v*yr,Cr+=v*nn,Er+=v*on,qt+=v*Wr,kt+=v*an,lr+=v*hr,Ye+=v*Lr,Nr+=v*Ir,vn+=v*Lt,Mn+=v*un,yn+=v*cn,Pn+=v*Qr,Gn+=v*ln,v=Q[8],zr+=v*Tr,Jr+=v*Dr,Rr+=v*Fr,Cr+=v*yr,Er+=v*nn,qt+=v*on,kt+=v*Wr,lr+=v*an,Ye+=v*hr,Nr+=v*Lr,vn+=v*Ir,Mn+=v*Lt,yn+=v*un,Pn+=v*cn,Gn+=v*Qr,_n+=v*ln,v=Q[9],Jr+=v*Tr,Rr+=v*Dr,Cr+=v*Fr,Er+=v*yr,qt+=v*nn,kt+=v*on,lr+=v*Wr,Ye+=v*an,Nr+=v*hr,vn+=v*Lr,Mn+=v*Ir,yn+=v*Lt,Pn+=v*un,Gn+=v*cn,_n+=v*Qr,Rn+=v*ln,v=Q[10],Rr+=v*Tr,Cr+=v*Dr,Er+=v*Fr,qt+=v*yr,kt+=v*nn,lr+=v*on,Ye+=v*Wr,Nr+=v*an,vn+=v*hr,Mn+=v*Lr,yn+=v*Ir,Pn+=v*Lt,Gn+=v*un,_n+=v*cn,Rn+=v*Qr,Or+=v*ln,v=Q[11],Cr+=v*Tr,Er+=v*Dr,qt+=v*Fr,kt+=v*yr,lr+=v*nn,Ye+=v*on,Nr+=v*Wr,vn+=v*an,Mn+=v*hr,yn+=v*Lr,Pn+=v*Ir,Gn+=v*Lt,_n+=v*un,Rn+=v*cn,Or+=v*Qr,qn+=v*ln,v=Q[12],Er+=v*Tr,qt+=v*Dr,kt+=v*Fr,lr+=v*yr,Ye+=v*nn,Nr+=v*on,vn+=v*Wr,Mn+=v*an,yn+=v*hr,Pn+=v*Lr,Gn+=v*Ir,_n+=v*Lt,Rn+=v*un,Or+=v*cn,qn+=v*Qr,Ns+=v*ln,v=Q[13],qt+=v*Tr,kt+=v*Dr,lr+=v*Fr,Ye+=v*yr,Nr+=v*nn,vn+=v*on,Mn+=v*Wr,yn+=v*an,Pn+=v*hr,Gn+=v*Lr,_n+=v*Ir,Rn+=v*Lt,Or+=v*un,qn+=v*cn,Ns+=v*Qr,io+=v*ln,v=Q[14],kt+=v*Tr,lr+=v*Dr,Ye+=v*Fr,Nr+=v*yr,vn+=v*nn,Mn+=v*on,yn+=v*Wr,Pn+=v*an,Gn+=v*hr,_n+=v*Lr,Rn+=v*Ir,Or+=v*Lt,qn+=v*un,Ns+=v*cn,io+=v*Qr,Os+=v*ln,v=Q[15],lr+=v*Tr,Ye+=v*Dr,Nr+=v*Fr,vn+=v*yr,Mn+=v*nn,yn+=v*on,Pn+=v*Wr,Gn+=v*an,_n+=v*hr,Rn+=v*Lr,Or+=v*Ir,qn+=v*Lt,Ns+=v*un,io+=v*cn,Os+=v*Qr,Ts+=v*ln,Ne+=38*Ye,Ke+=38*Nr,Et+=38*vn,mr+=38*Mn,vt+=38*yn,Mt+=38*Pn,rn+=38*Gn,Sn+=38*_n,zr+=38*Rn,Jr+=38*Or,Rr+=38*qn,Cr+=38*Ns,Er+=38*io,qt+=38*Os,kt+=38*Ts,U=1,v=Ne+U+65535,U=Math.floor(v/65536),Ne=v-65536*U,v=Ke+U+65535,U=Math.floor(v/65536),Ke=v-65536*U,v=Et+U+65535,U=Math.floor(v/65536),Et=v-65536*U,v=mr+U+65535,U=Math.floor(v/65536),mr=v-65536*U,v=vt+U+65535,U=Math.floor(v/65536),vt=v-65536*U,v=Mt+U+65535,U=Math.floor(v/65536),Mt=v-65536*U,v=rn+U+65535,U=Math.floor(v/65536),rn=v-65536*U,v=Sn+U+65535,U=Math.floor(v/65536),Sn=v-65536*U,v=zr+U+65535,U=Math.floor(v/65536),zr=v-65536*U,v=Jr+U+65535,U=Math.floor(v/65536),Jr=v-65536*U,v=Rr+U+65535,U=Math.floor(v/65536),Rr=v-65536*U,v=Cr+U+65535,U=Math.floor(v/65536),Cr=v-65536*U,v=Er+U+65535,U=Math.floor(v/65536),Er=v-65536*U,v=qt+U+65535,U=Math.floor(v/65536),qt=v-65536*U,v=kt+U+65535,U=Math.floor(v/65536),kt=v-65536*U,v=lr+U+65535,U=Math.floor(v/65536),lr=v-65536*U,Ne+=U-1+37*(U-1),U=1,v=Ne+U+65535,U=Math.floor(v/65536),Ne=v-65536*U,v=Ke+U+65535,U=Math.floor(v/65536),Ke=v-65536*U,v=Et+U+65535,U=Math.floor(v/65536),Et=v-65536*U,v=mr+U+65535,U=Math.floor(v/65536),mr=v-65536*U,v=vt+U+65535,U=Math.floor(v/65536),vt=v-65536*U,v=Mt+U+65535,U=Math.floor(v/65536),Mt=v-65536*U,v=rn+U+65535,U=Math.floor(v/65536),rn=v-65536*U,v=Sn+U+65535,U=Math.floor(v/65536),Sn=v-65536*U,v=zr+U+65535,U=Math.floor(v/65536),zr=v-65536*U,v=Jr+U+65535,U=Math.floor(v/65536),Jr=v-65536*U,v=Rr+U+65535,U=Math.floor(v/65536),Rr=v-65536*U,v=Cr+U+65535,U=Math.floor(v/65536),Cr=v-65536*U,v=Er+U+65535,U=Math.floor(v/65536),Er=v-65536*U,v=qt+U+65535,U=Math.floor(v/65536),qt=v-65536*U,v=kt+U+65535,U=Math.floor(v/65536),kt=v-65536*U,v=lr+U+65535,U=Math.floor(v/65536),lr=v-65536*U,Ne+=U-1+37*(U-1),G[0]=Ne,G[1]=Ke,G[2]=Et,G[3]=mr,G[4]=vt,G[5]=Mt,G[6]=rn,G[7]=Sn,G[8]=zr,G[9]=Jr,G[10]=Rr,G[11]=Cr,G[12]=Er,G[13]=qt,G[14]=kt,G[15]=lr}function Ur(G,Q){tt(G,Q,Q)}function Vn(G,Q){const K=we(),v=we(),U=we(),Ne=we(),Ke=we(),Et=we(),mr=we(),vt=we(),Mt=we();Mr(K,G[1],G[0]),Mr(Mt,Q[1],Q[0]),tt(K,K,Mt),ce(v,G[0],G[1]),ce(Mt,Q[0],Q[1]),tt(v,v,Mt),tt(U,G[3],Q[3]),tt(U,U,We),tt(Ne,G[2],Q[2]),ce(Ne,Ne,Ne),Mr(Ke,v,K),Mr(Et,Ne,U),ce(mr,Ne,U),ce(vt,v,K),tt(G[0],Ke,Et),tt(G[1],vt,mr),tt(G[2],mr,Et),tt(G[3],Ke,vt)}function ai(G,Q,K){for(let v=0;v<4;v++)ii(G[v],Q[v],K)}function ae(G,Q){const K=we(),v=we(),U=we();(function jr(G,Q){const K=we();let v;for(v=0;v<16;v++)K[v]=Q[v];for(v=253;v>=0;v--)Ur(K,K),2!==v&&4!==v&&tt(K,K,Q);for(v=0;v<16;v++)G[v]=K[v]})(U,Q[2]),tt(K,Q[0],U),tt(v,Q[1],U),mn(G,v),G[31]^=yi(K)<<7}function cr(G,Q){const K=[we(),we(),we(),we()];Ze(K[0],Hn),Ze(K[1],en),Ze(K[2],Ue),tt(K[3],Hn,en),function ue(G,Q,K){Ze(G[0],dt),Ze(G[1],Ue),Ze(G[2],Ue),Ze(G[3],dt);for(let v=255;v>=0;--v){const U=K[v/8|0]>>(7&v)&1;ai(G,Q,U),Vn(Q,G),Vn(G,G),ai(G,Q,U)}}(G,K,Q)}at._w=function xr(G){if(G.length!==at.aP)throw new Error(`ed25519: seed must be ${at.aP} bytes`);const Q=(0,pr.hash)(G);Q[0]&=248,Q[31]&=127,Q[31]|=64;const K=new Uint8Array(32),v=[we(),we(),we(),we()];cr(v,Q),ae(K,v);const U=new Uint8Array(64);return U.set(G),U.set(K,32),{publicKey:K,secretKey:U}};const de=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Se(G,Q){let K,v,U,Ne;for(v=63;v>=32;--v){for(K=0,U=v-32,Ne=v-12;U<Ne;++U)Q[U]+=K-16*Q[v]*de[U-(v-32)],K=Math.floor((Q[U]+128)/256),Q[U]-=256*K;Q[U]+=K,Q[v]=0}for(K=0,U=0;U<32;U++)Q[U]+=K-(Q[31]>>4)*de[U],K=Q[U]>>8,Q[U]&=255;for(U=0;U<32;U++)Q[U]-=K*de[U];for(v=0;v<32;v++)Q[v+1]+=Q[v]>>8,G[v]=255&Q[v]}function Vr(G){const Q=new Float64Array(64);for(let K=0;K<64;K++)Q[K]=G[K];for(let K=0;K<64;K++)G[K]=0;Se(G,Q)}at.Xx=function Pr(G,Q){const K=new Float64Array(64),v=[we(),we(),we(),we()],U=(0,pr.hash)(G.subarray(0,32));U[0]&=248,U[31]&=127,U[31]|=64;const Ne=new Uint8Array(64);Ne.set(U.subarray(32),32);const Ke=new pr.SHA512;Ke.update(Ne.subarray(32)),Ke.update(Q);const Et=Ke.digest();Ke.clean(),Vr(Et),cr(v,Et),ae(Ne,v),Ke.reset(),Ke.update(Ne.subarray(0,32)),Ke.update(G.subarray(32)),Ke.update(Q);const mr=Ke.digest();Vr(mr);for(let vt=0;vt<32;vt++)K[vt]=Et[vt];for(let vt=0;vt<32;vt++)for(let Mt=0;Mt<32;Mt++)K[vt+Mt]+=mr[vt]*U[Mt];return Se(Ne.subarray(32),K),Ne}},56713:(ni,at,ke)=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});var S=ke(99546),ur=ke(43403);at.DIGEST_LENGTH=64,at.BLOCK_SIZE=128;var pr=function(){function dt(){this.digestLength=at.DIGEST_LENGTH,this.blockSize=at.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return dt.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},dt.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},dt.prototype.clean=function(){ur.wipe(this._buffer),ur.wipe(this._tempHi),ur.wipe(this._tempLo),this.reset()},dt.prototype.update=function(Ue,Te){if(void 0===Te&&(Te=Ue.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var We=0;if(this._bytesHashed+=Te,this._bufferLength>0){for(;this._bufferLength<at.BLOCK_SIZE&&Te>0;)this._buffer[this._bufferLength++]=Ue[We++],Te--;this._bufferLength===this.blockSize&&(we(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(Te>=this.blockSize&&(We=we(this._tempHi,this._tempLo,this._stateHi,this._stateLo,Ue,We,Te),Te%=this.blockSize);Te>0;)this._buffer[this._bufferLength++]=Ue[We++],Te--;return this},dt.prototype.finish=function(Ue){if(!this._finished){var Te=this._bytesHashed,We=this._bufferLength,Hn=Te/536870912|0,en=Te<<3,$r=Te%128<112?128:256;this._buffer[We]=128;for(var Ze=We+1;Ze<$r-8;Ze++)this._buffer[Ze]=0;S.writeUint32BE(Hn,this._buffer,$r-8),S.writeUint32BE(en,this._buffer,$r-4),we(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,$r),this._finished=!0}for(Ze=0;Ze<this.digestLength/8;Ze++)S.writeUint32BE(this._stateHi[Ze],Ue,8*Ze),S.writeUint32BE(this._stateLo[Ze],Ue,8*Ze+4);return this},dt.prototype.digest=function(){var Ue=new Uint8Array(this.digestLength);return this.finish(Ue),Ue},dt.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},dt.prototype.restoreState=function(Ue){return this._stateHi.set(Ue.stateHi),this._stateLo.set(Ue.stateLo),this._bufferLength=Ue.bufferLength,Ue.buffer&&this._buffer.set(Ue.buffer),this._bytesHashed=Ue.bytesHashed,this._finished=!1,this},dt.prototype.cleanSavedState=function(Ue){ur.wipe(Ue.stateHi),ur.wipe(Ue.stateLo),Ue.buffer&&ur.wipe(Ue.buffer),Ue.bufferLength=0,Ue.bytesHashed=0},dt}();at.SHA512=pr;var vi=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function we(dt,Ue,Te,We,Hn,en,$r){for(var ae,ue,cr,xr,Me,ge,de,Se,Ze=Te[0],$n=Te[1],ii=Te[2],mn=Te[3],kr=Te[4],Ci=Te[5],yi=Te[6],si=Te[7],ce=We[0],Mr=We[1],tt=We[2],Ur=We[3],jr=We[4],oi=We[5],Vn=We[6],ai=We[7];$r>=128;){for(var Vr=0;Vr<16;Vr++)dt[Vr]=S.readUint32BE(Hn,Pr=8*Vr+en),Ue[Vr]=S.readUint32BE(Hn,Pr+4);for(Vr=0;Vr<80;Vr++){var v,rn,tn=$n,xo=ii,Gr=mn,G=kr,Q=Ci,K=yi,Ne=Mr,Ke=tt,Et=Ur,mr=jr,vt=oi,Mt=Vn;if(Me=65535&(ue=ai),ge=ue>>>16,de=65535&(ae=si),Se=ae>>>16,Me+=65535&(ue=(jr>>>14|kr<<18)^(jr>>>18|kr<<14)^(kr>>>9|jr<<23)),ge+=ue>>>16,de+=65535&(ae=(kr>>>14|jr<<18)^(kr>>>18|jr<<14)^(jr>>>9|kr<<23)),Se+=ae>>>16,Me+=65535&(ue=jr&oi^~jr&Vn),ge+=ue>>>16,de+=65535&(ae=kr&Ci^~kr&yi),Se+=ae>>>16,Me+=65535&(ue=vi[2*Vr+1]),ge+=ue>>>16,de+=65535&(ae=vi[2*Vr]),Se+=ae>>>16,ge+=(ue=Ue[Vr%16])>>>16,de+=65535&(ae=dt[Vr%16]),Se+=ae>>>16,de+=(ge+=(Me+=65535&ue)>>>16)>>>16,Me=65535&(ue=xr=65535&Me|ge<<16),ge=ue>>>16,de=65535&(ae=cr=65535&de|(Se+=de>>>16)<<16),Se=ae>>>16,Me+=65535&(ue=(ce>>>28|Ze<<4)^(Ze>>>2|ce<<30)^(Ze>>>7|ce<<25)),ge+=ue>>>16,de+=65535&(ae=(Ze>>>28|ce<<4)^(ce>>>2|Ze<<30)^(ce>>>7|Ze<<25)),Se+=ae>>>16,ge+=(ue=ce&Mr^ce&tt^Mr&tt)>>>16,de+=65535&(ae=Ze&$n^Ze&ii^$n&ii),Se+=ae>>>16,v=65535&(de+=(ge+=(Me+=65535&ue)>>>16)>>>16)|(Se+=de>>>16)<<16,rn=65535&Me|ge<<16,Me=65535&(ue=Et),ge=ue>>>16,de=65535&(ae=Gr),Se=ae>>>16,ge+=(ue=xr)>>>16,de+=65535&(ae=cr),Se+=ae>>>16,$n=Ze,ii=tn,mn=xo,kr=Gr=65535&(de+=(ge+=(Me+=65535&ue)>>>16)>>>16)|(Se+=de>>>16)<<16,Ci=G,yi=Q,si=K,Ze=v,Mr=ce,tt=Ne,Ur=Ke,jr=Et=65535&Me|ge<<16,oi=mr,Vn=vt,ai=Mt,ce=rn,Vr%16==15)for(var Pr=0;Pr<16;Pr++)Me=65535&(ue=Ue[Pr]),ge=ue>>>16,de=65535&(ae=dt[Pr]),Se=ae>>>16,Me+=65535&(ue=Ue[(Pr+9)%16]),ge+=ue>>>16,de+=65535&(ae=dt[(Pr+9)%16]),Se+=ae>>>16,Me+=65535&(ue=((xr=Ue[(Pr+1)%16])>>>1|(cr=dt[(Pr+1)%16])<<31)^(xr>>>8|cr<<24)^(xr>>>7|cr<<25)),ge+=ue>>>16,de+=65535&(ae=(cr>>>1|xr<<31)^(cr>>>8|xr<<24)^cr>>>7),Se+=ae>>>16,ge+=(ue=((xr=Ue[(Pr+14)%16])>>>19|(cr=dt[(Pr+14)%16])<<13)^(cr>>>29|xr<<3)^(xr>>>6|cr<<26))>>>16,de+=65535&(ae=(cr>>>19|xr<<13)^(xr>>>29|cr<<3)^cr>>>6),Se+=ae>>>16,dt[Pr]=65535&(de+=(ge+=(Me+=65535&ue)>>>16)>>>16)|(Se+=de>>>16)<<16,Ue[Pr]=65535&Me|ge<<16}Me=65535&(ue=ce),ge=ue>>>16,de=65535&(ae=Ze),Se=ae>>>16,ge+=(ue=We[0])>>>16,de+=65535&(ae=Te[0]),Se+=ae>>>16,Te[0]=Ze=65535&(de+=(ge+=(Me+=65535&ue)>>>16)>>>16)|(Se+=de>>>16)<<16,We[0]=ce=65535&Me|ge<<16,Me=65535&(ue=Mr),ge=ue>>>16,de=65535&(ae=$n),Se=ae>>>16,ge+=(ue=We[1])>>>16,de+=65535&(ae=Te[1]),Se+=ae>>>16,Te[1]=$n=65535&(de+=(ge+=(Me+=65535&ue)>>>16)>>>16)|(Se+=de>>>16)<<16,We[1]=Mr=65535&Me|ge<<16,Me=65535&(ue=tt),ge=ue>>>16,de=65535&(ae=ii),Se=ae>>>16,ge+=(ue=We[2])>>>16,de+=65535&(ae=Te[2]),Se+=ae>>>16,Te[2]=ii=65535&(de+=(ge+=(Me+=65535&ue)>>>16)>>>16)|(Se+=de>>>16)<<16,We[2]=tt=65535&Me|ge<<16,Me=65535&(ue=Ur),ge=ue>>>16,de=65535&(ae=mn),Se=ae>>>16,ge+=(ue=We[3])>>>16,de+=65535&(ae=Te[3]),Se+=ae>>>16,Te[3]=mn=65535&(de+=(ge+=(Me+=65535&ue)>>>16)>>>16)|(Se+=de>>>16)<<16,We[3]=Ur=65535&Me|ge<<16,Me=65535&(ue=jr),ge=ue>>>16,de=65535&(ae=kr),Se=ae>>>16,ge+=(ue=We[4])>>>16,de+=65535&(ae=Te[4]),Se+=ae>>>16,Te[4]=kr=65535&(de+=(ge+=(Me+=65535&ue)>>>16)>>>16)|(Se+=de>>>16)<<16,We[4]=jr=65535&Me|ge<<16,Me=65535&(ue=oi),ge=ue>>>16,de=65535&(ae=Ci),Se=ae>>>16,ge+=(ue=We[5])>>>16,de+=65535&(ae=Te[5]),Se+=ae>>>16,Te[5]=Ci=65535&(de+=(ge+=(Me+=65535&ue)>>>16)>>>16)|(Se+=de>>>16)<<16,We[5]=oi=65535&Me|ge<<16,Me=65535&(ue=Vn),ge=ue>>>16,de=65535&(ae=yi),Se=ae>>>16,ge+=(ue=We[6])>>>16,de+=65535&(ae=Te[6]),Se+=ae>>>16,Te[6]=yi=65535&(de+=(ge+=(Me+=65535&ue)>>>16)>>>16)|(Se+=de>>>16)<<16,We[6]=Vn=65535&Me|ge<<16,Me=65535&(ue=ai),ge=ue>>>16,de=65535&(ae=si),Se=ae>>>16,ge+=(ue=We[7])>>>16,de+=65535&(ae=Te[7]),Se+=ae>>>16,Te[7]=si=65535&(de+=(ge+=(Me+=65535&ue)>>>16)>>>16)|(Se+=de>>>16)<<16,We[7]=ai=65535&Me|ge<<16,en+=128,$r-=128}return en}at.hash=function gr(dt){var Ue=new pr;Ue.update(dt);var Te=Ue.digest();return Ue.clean(),Te}},41212:(ni,at,ke)=>{"use strict";ke.r(at),ke.d(at,{EthereumProvider:()=>w3,OPTIONAL_EVENTS:()=>o0,OPTIONAL_METHODS:()=>s0,REQUIRED_EVENTS:()=>lc,REQUIRED_METHODS:()=>cc,default:()=>dc});var S=ke(15861),ur=ke(82016),pr=ke.n(ur),vi=function(r,e,t){if(t||2===arguments.length)for(var u,s=0,a=e.length;s<a;s++)(u||!(s in e))&&(u||(u=Array.prototype.slice.call(e,0,s)),u[s]=e[s]);return r.concat(u||Array.prototype.slice.call(e))},we=function r(e,t,s){this.name=e,this.version=t,this.os=s,this.type="browser"},gr=function r(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},dt=function r(e,t,s,a){this.name=e,this.version=t,this.os=s,this.bot=a,this.type="bot-device"},Ue=function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},Te=function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},Hn=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,en=3,$r=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],Ze=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function kr(r){var e=function ii(r){return""!==r&&$r.reduce(function(e,t){var s=t[0];if(e)return e;var u=t[1].exec(r);return!!u&&[s,u]},!1)}(r);if(!e)return null;var t=e[0],s=e[1];if("searchbot"===t)return new Ue;var a=s[1]&&s[1].split(".").join("_").split("_").slice(0,3);a?a.length<en&&(a=vi(vi([],a,!0),function si(r){for(var e=[],t=0;t<r;t++)e.push("0");return e}(en-a.length),!0)):a=[];var u=a.join("."),l=function Ci(r){for(var e=0,t=Ze.length;e<t;e++){var s=Ze[e],a=s[0];if(s[1].exec(r))return a}return null}(r),d=Hn.exec(r);return d&&d[1]?new dt(t,u,l,d[1]):new we(t,u,l)}var ce=ke(35409),Mr=ke(20439),tt=ke(66534),Ur=ke(10133),jr=ke(79026),oi=ke(81028),Vn=ke(25465),ai=ke(31033),ae=ke(28467);function cr(r=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(r):new Uint8Array(r)}function xr(r,e){e||(e=r.reduce((a,u)=>a+u.length,0));const t=cr(e);let s=0;for(const a of r)t.set(a,s),s+=a.length;return t}var Me=ke(19187);function ge(r,e,t,s){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:s}}}const de=ge("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),Se=ge("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{const e=cr((r=r.substring(1)).length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),Pr={utf8:de,"utf-8":de,hex:Me.gh.base16,latin1:Se,ascii:Se,binary:Se,...Me.gh};function Qe(r,e="utf8"){const t=Pr[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?t.decoder.decode(`${t.prefix}${r}`):globalThis.Buffer.from(r,"utf8")}function tn(r,e="utf8"){const t=Pr[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?t.encoder.encode(r).substring(1):globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8")}var xo=ke(24443);const Gr=":";function G(r){const[e,t]=r.split(Gr);return{namespace:e,reference:t}}function Mt(r,e=[]){const t=[];return Object.keys(r).forEach(s=>{e.length&&!e.includes(s)||t.push(...r[s].accounts)}),t}function zr(r,e){return r.includes(":")?[r]:e.chains||[]}var Jr=Object.defineProperty,Rr=Object.getOwnPropertySymbols,Cr=Object.prototype.hasOwnProperty,Er=Object.prototype.propertyIsEnumerable,qt=(r,e,t)=>e in r?Jr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,kt=(r,e)=>{for(var t in e||(e={}))Cr.call(e,t)&&qt(r,t,e[t]);if(Rr)for(var t of Rr(e))Er.call(e,t)&&qt(r,t,e[t]);return r};const lr="ReactNative",Ye={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Gn="js";function _n(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Rn(){return!(0,Mr.getDocument)()&&!!(0,Mr.getNavigator)()&&navigator.product===lr}function Or(){return!_n()&&!!(0,Mr.getNavigator)()&&!!(0,Mr.getDocument)()}function qn(){return Rn()?Ye.reactNative:_n()?Ye.node:Or()?Ye.browser:Ye.unknown}function Fr(r,e,t){const s=function Tr(){if(qn()===Ye.reactNative&&typeof global<"u"&&typeof(null==global?void 0:global.Platform)<"u"){const{OS:t,Version:s}=global.Platform;return[t,s].join("-")}const r=function $n(r){return r?kr(r):typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product?new Te:typeof navigator<"u"?kr(navigator.userAgent):function yi(){return typeof process<"u"&&process.version?new gr(process.version.slice(1)):null}()}();if(null===r)return"unknown";const e=r.os?r.os.replace(" ","").toLowerCase():"unknown";return"browser"===r.type?[e,r.name,r.version].join("-"):[e,r.version].join("-")}(),a=function Dr(){var r;const e=qn();return e===Ye.browser?[e,(null==(r=(0,Mr.getLocation)())?void 0:r.host)||"unknown"].join(":"):e}();return[[r,e].join("-"),[Gn,t].join("-"),s,a].join("/")}function hr(r,e){return r.filter(t=>e.includes(t)).length===r.length}function Ir(r){return Object.fromEntries(r.entries())}function Lt(r){return new Map(Object.entries(r))}function Ds(r=ce.FIVE_MINUTES,e){const t=(0,ce.toMiliseconds)(r||ce.FIVE_MINUTES);let s,a,u;return{resolve:l=>{u&&s&&(clearTimeout(u),s(l))},reject:l=>{u&&a&&(clearTimeout(u),a(l))},done:()=>new Promise((l,d)=>{u=setTimeout(()=>{d(new Error(e))},t),s=l,a=d})}}function kn(r,e,t){return new Promise(function(){var s=(0,S.Z)(function*(a,u){const l=setTimeout(()=>u(new Error(t)),e);try{a(yield r)}catch(d){u(d)}clearTimeout(l)});return function(a,u){return s.apply(this,arguments)}}())}function xu(r,e){if("string"==typeof e&&e.startsWith(`${r}:`))return e;if("topic"===r.toLowerCase()){if("string"!=typeof e)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}if("id"===r.toLowerCase()){if("number"!=typeof e)throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${r}`)}function Eu(r){const[e,t]=r.split(":"),s={id:void 0,topic:void 0};if("topic"===e&&"string"==typeof t)s.topic=t;else{if("id"!==e||!Number.isInteger(Number(t)))throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);s.id=Number(t)}return s}function hn(r,e){return(0,ce.fromMiliseconds)((e||Date.now())+(0,ce.toMiliseconds)(r))}function Un(r){return Date.now()>=(0,ce.toMiliseconds)(r)}function rt(r,e){return`${r}${e?`:${e}`:""}`}function _i(r=[],e=[]){return[...new Set([...r,...e])]}function Ca(){return(Ca=(0,S.Z)(function*({id:r,topic:e,wcDeepLink:t}){try{if(!t)return;let a=("string"==typeof t?JSON.parse(t):t)?.href;if("string"!=typeof a)return;a.endsWith("/")&&(a=a.slice(0,-1));const u=`${a}/wc?requestId=${r}&sessionTopic=${e}`,l=qn();l===Ye.browser?u.startsWith("https://")||u.startsWith("http://")?window.open(u,"_blank","noreferrer noopener"):window.open(u,"_self","noreferrer noopener"):l===Ye.reactNative&&typeof(null==global?void 0:global.Linking)<"u"&&(yield global.Linking.openURL(u))}catch(s){console.error(s)}})).apply(this,arguments)}function so(){return(so=(0,S.Z)(function*(r,e){try{return(yield r.getItem(e))||(Or()?localStorage.getItem(e):void 0)}catch(t){console.error(t)}})).apply(this,arguments)}var r,Su=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mu={exports:{}};r=Mu,function(){var e="input is invalid type",s="object"==typeof window,a=s?window:{};a.JS_SHA3_NO_WINDOW&&(s=!1);var u=!s&&"object"==typeof self;!a.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?a=Su:u&&(a=self);var d=!a.JS_SHA3_NO_COMMON_JS&&r.exports,y=!a.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",g="0123456789abcdef".split(""),I=[4,1024,262144,67108864],B=[0,8,16,24],H=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],W=[224,256,384,512],le=[128,256],Ie=["hex","buffer","arrayBuffer","array","digest"],Ae={128:168,256:136};(a.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(A){return"[object Array]"===Object.prototype.toString.call(A)}),y&&(a.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(A){return"object"==typeof A&&A.buffer&&A.buffer.constructor===ArrayBuffer});for(var _e=function(A,te,J){return function(re){return new C(A,te,A).update(re)[J]()}},ve=function(A,te,J){return function(re,be){return new C(A,te,be).update(re)[J]()}},xe=function(A,te,J){return function(re,be,me,ye){return _["cshake"+A].update(re,be,me,ye)[J]()}},Fe=function(A,te,J){return function(re,be,me,ye){return _["kmac"+A].update(re,be,me,ye)[J]()}},Be=function(A,te,J,re){for(var be=0;be<Ie.length;++be){var me=Ie[be];A[me]=te(J,re,me)}return A},gt=function(A,te){var J=_e(A,te,"hex");return J.create=function(){return new C(A,te,A)},J.update=function(re){return J.create().update(re)},Be(J,_e,A,te)},f=[{name:"keccak",padding:[1,256,65536,16777216],bits:W,createMethod:gt},{name:"sha3",padding:[6,1536,393216,100663296],bits:W,createMethod:gt},{name:"shake",padding:[31,7936,2031616,520093696],bits:le,createMethod:function(A,te){var J=ve(A,te,"hex");return J.create=function(re){return new C(A,te,re)},J.update=function(re,be){return J.create(be).update(re)},Be(J,ve,A,te)}},{name:"cshake",padding:I,bits:le,createMethod:function(A,te){var J=Ae[A],re=xe(A,0,"hex");return re.create=function(be,me,ye){return me||ye?new C(A,te,be).bytepad([me,ye],J):_["shake"+A].create(be)},re.update=function(be,me,ye,Ce){return re.create(me,ye,Ce).update(be)},Be(re,xe,A,te)}},{name:"kmac",padding:I,bits:le,createMethod:function(A,te){var J=Ae[A],re=Fe(A,0,"hex");return re.create=function(be,me,ye){return new Oe(A,te,me).bytepad(["KMAC",ye],J).bytepad([be],J)},re.update=function(be,me,ye,Ce){return re.create(be,ye,Ce).update(me)},Be(re,Fe,A,te)}}],_={},x=[],R=0;R<f.length;++R)for(var T=f[R],k=T.bits,Z=0;Z<k.length;++Z){var N=T.name+"_"+k[Z];if(x.push(N),_[N]=T.createMethod(k[Z],T.padding),"sha3"!==T.name){var m=T.name+k[Z];x.push(m),_[m]=_[N]}}function C(A,te,J){this.blocks=[],this.s=[],this.padding=te,this.outputBits=J,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(A<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=J>>5,this.extraBytes=(31&J)>>3;for(var re=0;re<50;++re)this.s[re]=0}function Oe(A,te,J){C.call(this,A,te,J)}C.prototype.update=function(A){if(this.finalized)throw new Error("finalize already called");var te,J=typeof A;if("string"!==J){if("object"!==J)throw new Error(e);if(null===A)throw new Error(e);if(y&&A.constructor===ArrayBuffer)A=new Uint8Array(A);else if(!(Array.isArray(A)||y&&ArrayBuffer.isView(A)))throw new Error(e);te=!0}for(var fe,yt,re=this.blocks,be=this.byteCount,me=A.length,ye=this.blockCount,Ce=0,He=this.s;Ce<me;){if(this.reset)for(this.reset=!1,re[0]=this.block,fe=1;fe<ye+1;++fe)re[fe]=0;if(te)for(fe=this.start;Ce<me&&fe<be;++Ce)re[fe>>2]|=A[Ce]<<B[3&fe++];else for(fe=this.start;Ce<me&&fe<be;++Ce)(yt=A.charCodeAt(Ce))<128?re[fe>>2]|=yt<<B[3&fe++]:yt<2048?(re[fe>>2]|=(192|yt>>6)<<B[3&fe++],re[fe>>2]|=(128|63&yt)<<B[3&fe++]):yt<55296||yt>=57344?(re[fe>>2]|=(224|yt>>12)<<B[3&fe++],re[fe>>2]|=(128|yt>>6&63)<<B[3&fe++],re[fe>>2]|=(128|63&yt)<<B[3&fe++]):(yt=65536+((1023&yt)<<10|1023&A.charCodeAt(++Ce)),re[fe>>2]|=(240|yt>>18)<<B[3&fe++],re[fe>>2]|=(128|yt>>12&63)<<B[3&fe++],re[fe>>2]|=(128|yt>>6&63)<<B[3&fe++],re[fe>>2]|=(128|63&yt)<<B[3&fe++]);if(this.lastByteIndex=fe,fe>=be){for(this.start=fe-be,this.block=re[ye],fe=0;fe<ye;++fe)He[fe]^=re[fe];Pe(He),this.reset=!0}else this.start=fe}return this},C.prototype.encode=function(A,te){var J=255&A,re=1,be=[J];for(J=255&(A>>=8);J>0;)be.unshift(J),J=255&(A>>=8),++re;return te?be.push(re):be.unshift(re),this.update(be),be.length},C.prototype.encodeString=function(A){var te,J=typeof A;if("string"!==J){if("object"!==J)throw new Error(e);if(null===A)throw new Error(e);if(y&&A.constructor===ArrayBuffer)A=new Uint8Array(A);else if(!(Array.isArray(A)||y&&ArrayBuffer.isView(A)))throw new Error(e);te=!0}var re=0;if(te)re=A.length;else for(var me=0;me<A.length;++me){var ye=A.charCodeAt(me);ye<128?re+=1:ye<2048?re+=2:ye<55296||ye>=57344?re+=3:(ye=65536+((1023&ye)<<10|1023&A.charCodeAt(++me)),re+=4)}return re+=this.encode(8*re),this.update(A),re},C.prototype.bytepad=function(A,te){for(var J=this.encode(te),re=0;re<A.length;++re)J+=this.encodeString(A[re]);var me=[];return me.length=te-J%te,this.update(me),this},C.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var A=this.blocks,te=this.lastByteIndex,J=this.blockCount,re=this.s;if(A[te>>2]|=this.padding[3&te],this.lastByteIndex===this.byteCount)for(A[0]=A[J],te=1;te<J+1;++te)A[te]=0;for(A[J-1]|=2147483648,te=0;te<J;++te)re[te]^=A[te];Pe(re)}},C.prototype.toString=C.prototype.hex=function(){this.finalize();for(var Ce,A=this.blockCount,te=this.s,J=this.outputBlocks,re=this.extraBytes,be=0,me=0,ye="";me<J;){for(be=0;be<A&&me<J;++be,++me)ye+=g[(Ce=te[be])>>4&15]+g[15&Ce]+g[Ce>>12&15]+g[Ce>>8&15]+g[Ce>>20&15]+g[Ce>>16&15]+g[Ce>>28&15]+g[Ce>>24&15];me%A==0&&(Pe(te),be=0)}return re&&(ye+=g[(Ce=te[be])>>4&15]+g[15&Ce],re>1&&(ye+=g[Ce>>12&15]+g[Ce>>8&15]),re>2&&(ye+=g[Ce>>20&15]+g[Ce>>16&15])),ye},C.prototype.buffer=C.prototype.arrayBuffer=function(){this.finalize();var Ce,A=this.blockCount,te=this.s,J=this.outputBlocks,re=this.extraBytes,be=0,me=0,ye=this.outputBits>>3;Ce=re?new ArrayBuffer(J+1<<2):new ArrayBuffer(ye);for(var He=new Uint32Array(Ce);me<J;){for(be=0;be<A&&me<J;++be,++me)He[me]=te[be];me%A==0&&Pe(te)}return re&&(He[be]=te[be],Ce=Ce.slice(0,ye)),Ce},C.prototype.digest=C.prototype.array=function(){this.finalize();for(var Ce,He,A=this.blockCount,te=this.s,J=this.outputBlocks,re=this.extraBytes,be=0,me=0,ye=[];me<J;){for(be=0;be<A&&me<J;++be,++me)ye[Ce=me<<2]=255&(He=te[be]),ye[Ce+1]=He>>8&255,ye[Ce+2]=He>>16&255,ye[Ce+3]=He>>24&255;me%A==0&&Pe(te)}return re&&(ye[Ce=me<<2]=255&(He=te[be]),re>1&&(ye[Ce+1]=He>>8&255),re>2&&(ye[Ce+2]=He>>16&255)),ye},(Oe.prototype=new C).finalize=function(){return this.encode(this.outputBits,!0),C.prototype.finalize.call(this)};var Pe=function(A){var te,J,re,be,me,ye,Ce,He,fe,yt,Ht,ht,bs,$t,_t,dn,wt,It,Ls,At,Vt,xi,mt,Rt,Ji,Ct,Nt,Wi,Ot,Tt,Qi,Dt,Gt,Zs,Jt,Ut,ws,Wt,Qt,Ks,Yt,jt,Hs,Xt,er,Yi,tr,Ft,$s,rr,nr,Vs,ir,sr,Gs,or,zt,As,xs,Es,Is,Ss,Ms;for(re=0;re<48;re+=2)be=A[0]^A[10]^A[20]^A[30]^A[40],me=A[1]^A[11]^A[21]^A[31]^A[41],He=A[4]^A[14]^A[24]^A[34]^A[44],fe=A[5]^A[15]^A[25]^A[35]^A[45],yt=A[6]^A[16]^A[26]^A[36]^A[46],Ht=A[7]^A[17]^A[27]^A[37]^A[47],J=(bs=A[9]^A[19]^A[29]^A[39]^A[49])^((Ce=A[3]^A[13]^A[23]^A[33]^A[43])<<1|(ye=A[2]^A[12]^A[22]^A[32]^A[42])>>>31),A[0]^=te=(ht=A[8]^A[18]^A[28]^A[38]^A[48])^(ye<<1|Ce>>>31),A[1]^=J,A[10]^=te,A[11]^=J,A[20]^=te,A[21]^=J,A[30]^=te,A[31]^=J,A[40]^=te,A[41]^=J,J=me^(fe<<1|He>>>31),A[2]^=te=be^(He<<1|fe>>>31),A[3]^=J,A[12]^=te,A[13]^=J,A[22]^=te,A[23]^=J,A[32]^=te,A[33]^=J,A[42]^=te,A[43]^=J,J=Ce^(Ht<<1|yt>>>31),A[4]^=te=ye^(yt<<1|Ht>>>31),A[5]^=J,A[14]^=te,A[15]^=J,A[24]^=te,A[25]^=J,A[34]^=te,A[35]^=J,A[44]^=te,A[45]^=J,J=fe^(bs<<1|ht>>>31),A[6]^=te=He^(ht<<1|bs>>>31),A[7]^=J,A[16]^=te,A[17]^=J,A[26]^=te,A[27]^=J,A[36]^=te,A[37]^=J,A[46]^=te,A[47]^=J,J=Ht^(me<<1|be>>>31),A[8]^=te=yt^(be<<1|me>>>31),A[9]^=J,A[18]^=te,A[19]^=J,A[28]^=te,A[29]^=J,A[38]^=te,A[39]^=J,A[48]^=te,A[49]^=J,_t=A[1],Yi=A[11]<<4|A[10]>>>28,tr=A[10]<<4|A[11]>>>28,Wi=A[20]<<3|A[21]>>>29,Ot=A[21]<<3|A[20]>>>29,Es=A[31]<<9|A[30]>>>23,Is=A[30]<<9|A[31]>>>23,jt=A[40]<<18|A[41]>>>14,Hs=A[41]<<18|A[40]>>>14,Zs=A[2]<<1|A[3]>>>31,Jt=A[3]<<1|A[2]>>>31,wt=A[12]<<12|A[13]>>>20,Ft=A[22]<<10|A[23]>>>22,$s=A[23]<<10|A[22]>>>22,Tt=A[33]<<13|A[32]>>>19,Qi=A[32]<<13|A[33]>>>19,Ss=A[42]<<2|A[43]>>>30,Ms=A[43]<<2|A[42]>>>30,sr=A[5]<<30|A[4]>>>2,Gs=A[4]<<30|A[5]>>>2,Ut=A[14]<<6|A[15]>>>26,ws=A[15]<<6|A[14]>>>26,Ls=A[24]<<11|A[25]>>>21,rr=A[34]<<15|A[35]>>>17,nr=A[35]<<15|A[34]>>>17,Dt=A[45]<<29|A[44]>>>3,Gt=A[44]<<29|A[45]>>>3,Rt=A[6]<<28|A[7]>>>4,Ji=A[7]<<28|A[6]>>>4,or=A[17]<<23|A[16]>>>9,zt=A[16]<<23|A[17]>>>9,Wt=A[26]<<25|A[27]>>>7,Qt=A[27]<<25|A[26]>>>7,At=A[36]<<21|A[37]>>>11,Vt=A[37]<<21|A[36]>>>11,Vs=A[47]<<24|A[46]>>>8,ir=A[46]<<24|A[47]>>>8,Xt=A[8]<<27|A[9]>>>5,er=A[9]<<27|A[8]>>>5,Ct=A[18]<<20|A[19]>>>12,Nt=A[19]<<20|A[18]>>>12,As=A[29]<<7|A[28]>>>25,xs=A[28]<<7|A[29]>>>25,Ks=A[38]<<8|A[39]>>>24,Yt=A[39]<<8|A[38]>>>24,xi=A[48]<<14|A[49]>>>18,mt=A[49]<<14|A[48]>>>18,A[0]=($t=A[0])^~(dn=A[13]<<12|A[12]>>>20)&(It=A[25]<<11|A[24]>>>21),A[1]=_t^~wt&Ls,A[10]=Rt^~Ct&Wi,A[11]=Ji^~Nt&Ot,A[20]=Zs^~Ut&Wt,A[21]=Jt^~ws&Qt,A[30]=Xt^~Yi&Ft,A[31]=er^~tr&$s,A[40]=sr^~or&As,A[41]=Gs^~zt&xs,A[2]=dn^~It&At,A[3]=wt^~Ls&Vt,A[12]=Ct^~Wi&Tt,A[13]=Nt^~Ot&Qi,A[22]=Ut^~Wt&Ks,A[23]=ws^~Qt&Yt,A[32]=Yi^~Ft&rr,A[33]=tr^~$s&nr,A[42]=or^~As&Es,A[43]=zt^~xs&Is,A[4]=It^~At&xi,A[5]=Ls^~Vt&mt,A[14]=Wi^~Tt&Dt,A[15]=Ot^~Qi&Gt,A[24]=Wt^~Ks&jt,A[25]=Qt^~Yt&Hs,A[34]=Ft^~rr&Vs,A[35]=$s^~nr&ir,A[44]=As^~Es&Ss,A[45]=xs^~Is&Ms,A[6]=At^~xi&$t,A[7]=Vt^~mt&_t,A[16]=Tt^~Dt&Rt,A[17]=Qi^~Gt&Ji,A[26]=Ks^~jt&Zs,A[27]=Yt^~Hs&Jt,A[36]=rr^~Vs&Xt,A[37]=nr^~ir&er,A[46]=Es^~Ss&sr,A[47]=Is^~Ms&Gs,A[8]=xi^~$t&dn,A[9]=mt^~_t&wt,A[18]=Dt^~Rt&Ct,A[19]=Gt^~Ji&Nt,A[28]=jt^~Zs&Ut,A[29]=Hs^~Jt&ws,A[38]=Vs^~Xt&Yi,A[39]=ir^~er&tr,A[48]=Ss^~sr&or,A[49]=Ms^~Gs&zt,A[0]^=H[re],A[1]^=H[re+1]};if(d)r.exports=_;else for(R=0;R<x.length;++R)a[x[R]]=_[x[R]]}();var il=Mu.exports;let Pu=!1,Ru=!1;const Vo={debug:1,default:2,info:2,warning:3,error:4,off:5};let Eo=Vo.default,Na=null;const Oa=function Io(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}();var Go,bi;!function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"}(Go||(Go={})),function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"}(bi||(bi={}));const Cu="0123456789abcdef";class Ve{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const s=e.toLowerCase();null==Vo[s]&&this.throwArgumentError("invalid log level name","logLevel",e),!(Eo>Vo[s])&&console.log.apply(console,t)}debug(...e){this._log(Ve.levels.DEBUG,e)}info(...e){this._log(Ve.levels.INFO,e)}warn(...e){this._log(Ve.levels.WARNING,e)}makeError(e,t,s){if(Ru)return this.makeError("censored error",t,{});t||(t=Ve.errors.UNKNOWN_ERROR),s||(s={});const a=[];Object.keys(s).forEach(y=>{const g=s[y];try{if(g instanceof Uint8Array){let w="";for(let I=0;I<g.length;I++)w+=Cu[g[I]>>4],w+=Cu[15&g[I]];a.push(y+"=Uint8Array(0x"+w+")")}else a.push(y+"="+JSON.stringify(g))}catch{a.push(y+"="+JSON.stringify(s[y].toString()))}}),a.push(`code=${t}`),a.push(`version=${this.version}`);const u=e;let l="";switch(t){case bi.NUMERIC_FAULT:{l="NUMERIC_FAULT";const y=e;switch(y){case"overflow":case"underflow":case"division-by-zero":l+="-"+y;break;case"negative-power":case"negative-width":l+="-unsupported";break;case"unbound-bitwise-result":l+="-unbound-result"}break}case bi.CALL_EXCEPTION:case bi.INSUFFICIENT_FUNDS:case bi.MISSING_NEW:case bi.NONCE_EXPIRED:case bi.REPLACEMENT_UNDERPRICED:case bi.TRANSACTION_REPLACED:case bi.UNPREDICTABLE_GAS_LIMIT:l=t}l&&(e+=" [ See: https://links.ethers.org/v5-errors-"+l+" ]"),a.length&&(e+=" ("+a.join(", ")+")");const d=new Error(e);return d.reason=u,d.code=t,Object.keys(s).forEach(function(y){d[y]=s[y]}),d}throwError(e,t,s){throw this.makeError(e,t,s)}throwArgumentError(e,t,s){return this.throwError(e,Ve.errors.INVALID_ARGUMENT,{argument:t,value:s})}assert(e,t,s,a){e||this.throwError(t,s,a)}assertArgument(e,t,s,a){e||this.throwArgumentError(t,s,a)}checkNormalize(e){Oa&&this.throwError("platform missing String.prototype.normalize",Ve.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Oa})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Ve.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Ve.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,s){s=s?": "+s:"",e<t&&this.throwError("missing argument"+s,Ve.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+s,Ve.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||null==e)&&this.throwError("missing new",Ve.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Ve.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||null==e)&&this.throwError("missing new",Ve.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Na||(Na=new Ve("logger/5.7.0")),Na}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Ve.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Pu){if(!e)return;this.globalLogger().throwError("error censorship permanent",Ve.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Ru=!!e,Pu=!!t}static setLogLevel(e){const t=Vo[e.toLowerCase()];null!=t?Eo=t:Ve.globalLogger().warn("invalid log level - "+e)}static from(e){return new Ve(e)}}Ve.errors=bi,Ve.levels=Go;const _r=new Ve("bytes/5.7.0");function Nu(r){return!!r.toHexString}function oo(r){return r.slice||(r.slice=function(){const e=Array.prototype.slice.call(arguments);return oo(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function So(r){return"number"==typeof r&&r==r&&r%1==0}function wi(r){if(null==r)return!1;if(r.constructor===Uint8Array)return!0;if("string"==typeof r||!So(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){const t=r[e];if(!So(t)||t<0||t>=256)return!1}return!0}function br(r,e){if(e||(e={}),"number"==typeof r){_r.checkSafeUint53(r,"invalid arrayify value");const t=[];for(;r;)t.unshift(255&r),r=parseInt(String(r/256));return 0===t.length&&t.push(0),oo(new Uint8Array(t))}if(e.allowMissingPrefix&&"string"==typeof r&&"0x"!==r.substring(0,2)&&(r="0x"+r),Nu(r)&&(r=r.toHexString()),Jn(r)){let t=r.substring(2);t.length%2&&("left"===e.hexPad?t="0"+t:"right"===e.hexPad?t+="0":_r.throwArgumentError("hex data is odd-length","value",r));const s=[];for(let a=0;a<t.length;a+=2)s.push(parseInt(t.substring(a,a+2),16));return oo(new Uint8Array(s))}return wi(r)?oo(new Uint8Array(r)):_r.throwArgumentError("invalid arrayify value","value",r)}function Jn(r,e){return!("string"!=typeof r||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}const Ta="0123456789abcdef";function Cn(r,e){if(e||(e={}),"number"==typeof r){_r.checkSafeUint53(r,"invalid hexlify value");let t="";for(;r;)t=Ta[15&r]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof r)return(r=r.toString(16)).length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&"string"==typeof r&&"0x"!==r.substring(0,2)&&(r="0x"+r),Nu(r))return r.toHexString();if(Jn(r))return r.length%2&&("left"===e.hexPad?r="0x0"+r.substring(2):"right"===e.hexPad?r+="0":_r.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(wi(r)){let t="0x";for(let s=0;s<r.length;s++){let a=r[s];t+=Ta[(240&a)>>4]+Ta[15&a]}return t}return _r.throwArgumentError("invalid hexlify value","value",r)}function Tu(r,e,t){return"string"!=typeof r?r=Cn(r):(!Jn(r)||r.length%2)&&_r.throwArgumentError("invalid hexData","value",r),e=2+2*e,null!=t?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}function bn(r,e){for("string"!=typeof r?r=Cn(r):Jn(r)||_r.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&_r.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}function Da(r){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(function Ou(r){return Jn(r)&&!(r.length%2)||wi(r)}(r)){let t=br(r);64===t.length?(e.v=27+(t[32]>>7),t[32]&=127,e.r=Cn(t.slice(0,32)),e.s=Cn(t.slice(32,64))):65===t.length?(e.r=Cn(t.slice(0,32)),e.s=Cn(t.slice(32,64)),e.v=t[64]):_r.throwArgumentError("invalid signature string","signature",r),e.v<27&&(0===e.v||1===e.v?e.v+=27:_r.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=Cn(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,null!=e._vs){const a=function is(r,e){(r=br(r)).length>e&&_r.throwArgumentError("value out of range","value",arguments[0]);const t=new Uint8Array(e);return t.set(r,e-r.length),oo(t)}(br(e._vs),32);e._vs=Cn(a);const u=a[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=u:e.recoveryParam!==u&&_r.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),a[0]&=127;const l=Cn(a);null==e.s?e.s=l:e.s!==l&&_r.throwArgumentError("signature v mismatch _vs","signature",r)}null==e.recoveryParam?null==e.v?_r.throwArgumentError("signature missing v and recoveryParam","signature",r):e.recoveryParam=0===e.v||1===e.v?e.v:1-e.v%2:null==e.v?e.v=27+e.recoveryParam:e.recoveryParam!==(0===e.v||1===e.v?e.v:1-e.v%2)&&_r.throwArgumentError("signature recoveryParam mismatch v","signature",r),null!=e.r&&Jn(e.r)?e.r=bn(e.r,32):_r.throwArgumentError("signature missing or invalid r","signature",r),null!=e.s&&Jn(e.s)?e.s=bn(e.s,32):_r.throwArgumentError("signature missing or invalid s","signature",r);const t=br(e.s);t[0]>=128&&_r.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(t[0]|=128);const s=Cn(t);e._vs&&(Jn(e._vs)||_r.throwArgumentError("signature invalid _vs","signature",r),e._vs=bn(e._vs,32)),null==e._vs?e._vs=s:e._vs!==s&&_r.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function Fa(r){return"0x"+il.keccak_256(br(r))}var Mo={exports:{}},ll=function ns(r){var e=r.default;if("function"==typeof e){var t=function(){return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(s){var a=Object.getOwnPropertyDescriptor(r,s);Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:function(){return r[s]}})}),t}(Object.freeze({__proto__:null,default:{}}));!function(r){!function(e,t){function s(f,_){if(!f)throw new Error(_||"Assertion failed")}function a(f,_){f.super_=_;var x=function(){};x.prototype=_.prototype,f.prototype=new x,f.prototype.constructor=f}function u(f,_,x){if(u.isBN(f))return f;this.negative=0,this.words=null,this.length=0,this.red=null,null!==f&&(("le"===_||"be"===_)&&(x=_,_=10),this._init(f||0,_||10,x||"be"))}var l;"object"==typeof e?e.exports=u:t.BN=u,u.BN=u,u.wordSize=26;try{l=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:ll.Buffer}catch{}function d(f,_){var x=f.charCodeAt(_);return x>=48&&x<=57?x-48:x>=65&&x<=70?x-55:x>=97&&x<=102?x-87:void s(!1,"Invalid character in "+f)}function y(f,_,x){var R=d(f,x);return x-1>=_&&(R|=d(f,x-1)<<4),R}function g(f,_,x,R){for(var T=0,k=0,Z=Math.min(f.length,x),N=_;N<Z;N++){var m=f.charCodeAt(N)-48;T*=R,k=m>=49?m-49+10:m>=17?m-17+10:m,s(m>=0&&k<R,"Invalid character"),T+=k}return T}function w(f,_){f.words=_.words,f.length=_.length,f.negative=_.negative,f.red=_.red}if(u.isBN=function(f){return f instanceof u||null!==f&&"object"==typeof f&&f.constructor.wordSize===u.wordSize&&Array.isArray(f.words)},u.max=function(f,_){return f.cmp(_)>0?f:_},u.min=function(f,_){return f.cmp(_)<0?f:_},u.prototype._init=function(f,_,x){if("number"==typeof f)return this._initNumber(f,_,x);if("object"==typeof f)return this._initArray(f,_,x);"hex"===_&&(_=16),s(_===(0|_)&&_>=2&&_<=36);var R=0;"-"===(f=f.toString().replace(/\s+/g,""))[0]&&(R++,this.negative=1),R<f.length&&(16===_?this._parseHex(f,R,x):(this._parseBase(f,_,R),"le"===x&&this._initArray(this.toArray(),_,x)))},u.prototype._initNumber=function(f,_,x){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[67108863&f],this.length=1):f<4503599627370496?(this.words=[67108863&f,f/67108864&67108863],this.length=2):(s(f<9007199254740992),this.words=[67108863&f,f/67108864&67108863,1],this.length=3),"le"===x&&this._initArray(this.toArray(),_,x)},u.prototype._initArray=function(f,_,x){if(s("number"==typeof f.length),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var T,k,Z=0;if("be"===x)for(R=f.length-1,T=0;R>=0;R-=3)this.words[T]|=(k=f[R]|f[R-1]<<8|f[R-2]<<16)<<Z&67108863,this.words[T+1]=k>>>26-Z&67108863,(Z+=24)>=26&&(Z-=26,T++);else if("le"===x)for(R=0,T=0;R<f.length;R+=3)this.words[T]|=(k=f[R]|f[R+1]<<8|f[R+2]<<16)<<Z&67108863,this.words[T+1]=k>>>26-Z&67108863,(Z+=24)>=26&&(Z-=26,T++);return this._strip()},u.prototype._parseHex=function(f,_,x){this.length=Math.ceil((f.length-_)/6),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var Z,T=0,k=0;if("be"===x)for(R=f.length-1;R>=_;R-=2)Z=y(f,_,R)<<T,this.words[k]|=67108863&Z,T>=18?(T-=18,this.words[k+=1]|=Z>>>26):T+=8;else for(R=(f.length-_)%2==0?_+1:_;R<f.length;R+=2)Z=y(f,_,R)<<T,this.words[k]|=67108863&Z,T>=18?(T-=18,this.words[k+=1]|=Z>>>26):T+=8;this._strip()},u.prototype._parseBase=function(f,_,x){this.words=[0],this.length=1;for(var R=0,T=1;T<=67108863;T*=_)R++;R--,T=T/_|0;for(var k=f.length-x,Z=k%R,N=Math.min(k,k-Z)+x,m=0,C=x;C<N;C+=R)m=g(f,C,C+R,_),this.imuln(T),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m);if(0!==Z){var Oe=1;for(m=g(f,C,f.length,_),C=0;C<Z;C++)Oe*=_;this.imuln(Oe),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m)}this._strip()},u.prototype.copy=function(f){f.words=new Array(this.length);for(var _=0;_<this.length;_++)f.words[_]=this.words[_];f.length=this.length,f.negative=this.negative,f.red=this.red},u.prototype._move=function(f){w(f,this)},u.prototype.clone=function(){var f=new u(null);return this.copy(f),f},u.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},u.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},u.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{u.prototype[Symbol.for("nodejs.util.inspect.custom")]=I}catch{u.prototype.inspect=I}else u.prototype.inspect=I;function I(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var O=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],F=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],B=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function le(f,_,x){x.negative=_.negative^f.negative;var R=f.length+_.length|0;x.length=R,R=R-1|0;var T=0|f.words[0],k=0|_.words[0],Z=T*k,m=Z/67108864|0;x.words[0]=67108863&Z;for(var C=1;C<R;C++){for(var Oe=m>>>26,Pe=67108863&m,A=Math.min(C,_.length-1),te=Math.max(0,C-f.length+1);te<=A;te++)Oe+=(Z=(T=0|f.words[C-te|0])*(k=0|_.words[te])+Pe)/67108864|0,Pe=67108863&Z;x.words[C]=0|Pe,m=0|Oe}return 0!==m?x.words[C]=0|m:x.length--,x._strip()}u.prototype.toString=function(f,_){var x;if(_=0|_||1,16===(f=f||10)||"hex"===f){x="";for(var R=0,T=0,k=0;k<this.length;k++){var Z=this.words[k],N=(16777215&(Z<<R|T)).toString(16);T=Z>>>24-R&16777215,(R+=2)>=26&&(R-=26,k--),x=0!==T||k!==this.length-1?O[6-N.length]+N+x:N+x}for(0!==T&&(x=T.toString(16)+x);x.length%_!=0;)x="0"+x;return 0!==this.negative&&(x="-"+x),x}if(f===(0|f)&&f>=2&&f<=36){var m=F[f],C=B[f];x="";var Oe=this.clone();for(Oe.negative=0;!Oe.isZero();){var Pe=Oe.modrn(C).toString(f);x=(Oe=Oe.idivn(C)).isZero()?Pe+x:O[m-Pe.length]+Pe+x}for(this.isZero()&&(x="0"+x);x.length%_!=0;)x="0"+x;return 0!==this.negative&&(x="-"+x),x}s(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var f=this.words[0];return 2===this.length?f+=67108864*this.words[1]:3===this.length&&1===this.words[2]?f+=4503599627370496+67108864*this.words[1]:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-f:f},u.prototype.toJSON=function(){return this.toString(16,2)},l&&(u.prototype.toBuffer=function(f,_){return this.toArrayLike(l,f,_)}),u.prototype.toArray=function(f,_){return this.toArrayLike(Array,f,_)},u.prototype.toArrayLike=function(f,_,x){this._strip();var R=this.byteLength(),T=x||Math.max(1,R);s(R<=T,"byte array longer than desired length"),s(T>0,"Requested array length <= 0");var k=function(f,_){return f.allocUnsafe?f.allocUnsafe(_):new f(_)}(f,T);return this["_toArrayLike"+("le"===_?"LE":"BE")](k,R),k},u.prototype._toArrayLikeLE=function(f,_){for(var x=0,R=0,T=0,k=0;T<this.length;T++){var Z=this.words[T]<<k|R;f[x++]=255&Z,x<f.length&&(f[x++]=Z>>8&255),x<f.length&&(f[x++]=Z>>16&255),6===k?(x<f.length&&(f[x++]=Z>>24&255),R=0,k=0):(R=Z>>>24,k+=2)}if(x<f.length)for(f[x++]=R;x<f.length;)f[x++]=0},u.prototype._toArrayLikeBE=function(f,_){for(var x=f.length-1,R=0,T=0,k=0;T<this.length;T++){var Z=this.words[T]<<k|R;f[x--]=255&Z,x>=0&&(f[x--]=Z>>8&255),x>=0&&(f[x--]=Z>>16&255),6===k?(x>=0&&(f[x--]=Z>>24&255),R=0,k=0):(R=Z>>>24,k+=2)}if(x>=0)for(f[x--]=R;x>=0;)f[x--]=0},u.prototype._countBits=Math.clz32?function(f){return 32-Math.clz32(f)}:function(f){var _=f,x=0;return _>=4096&&(x+=13,_>>>=13),_>=64&&(x+=7,_>>>=7),_>=8&&(x+=4,_>>>=4),_>=2&&(x+=2,_>>>=2),x+_},u.prototype._zeroBits=function(f){if(0===f)return 26;var _=f,x=0;return 8191&_||(x+=13,_>>>=13),127&_||(x+=7,_>>>=7),15&_||(x+=4,_>>>=4),3&_||(x+=2,_>>>=2),1&_||x++,x},u.prototype.bitLength=function(){var _=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+_},u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,_=0;_<this.length;_++){var x=this._zeroBits(this.words[_]);if(f+=x,26!==x)break}return f},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(f){return 0!==this.negative?this.abs().inotn(f).iaddn(1):this.clone()},u.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return 0!==this.negative},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var _=0;_<f.length;_++)this.words[_]=this.words[_]|f.words[_];return this._strip()},u.prototype.ior=function(f){return s(0==(this.negative|f.negative)),this.iuor(f)},u.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},u.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},u.prototype.iuand=function(f){var _;_=this.length>f.length?f:this;for(var x=0;x<_.length;x++)this.words[x]=this.words[x]&f.words[x];return this.length=_.length,this._strip()},u.prototype.iand=function(f){return s(0==(this.negative|f.negative)),this.iuand(f)},u.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},u.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},u.prototype.iuxor=function(f){var _,x;this.length>f.length?(_=this,x=f):(_=f,x=this);for(var R=0;R<x.length;R++)this.words[R]=_.words[R]^x.words[R];if(this!==_)for(;R<_.length;R++)this.words[R]=_.words[R];return this.length=_.length,this._strip()},u.prototype.ixor=function(f){return s(0==(this.negative|f.negative)),this.iuxor(f)},u.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},u.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},u.prototype.inotn=function(f){s("number"==typeof f&&f>=0);var _=0|Math.ceil(f/26),x=f%26;this._expand(_),x>0&&_--;for(var R=0;R<_;R++)this.words[R]=67108863&~this.words[R];return x>0&&(this.words[R]=~this.words[R]&67108863>>26-x),this._strip()},u.prototype.notn=function(f){return this.clone().inotn(f)},u.prototype.setn=function(f,_){s("number"==typeof f&&f>=0);var x=f/26|0,R=f%26;return this._expand(x+1),this.words[x]=_?this.words[x]|1<<R:this.words[x]&~(1<<R),this._strip()},u.prototype.iadd=function(f){var _,x,R;if(0!==this.negative&&0===f.negative)return this.negative=0,_=this.isub(f),this.negative^=1,this._normSign();if(0===this.negative&&0!==f.negative)return f.negative=0,_=this.isub(f),f.negative=1,_._normSign();this.length>f.length?(x=this,R=f):(x=f,R=this);for(var T=0,k=0;k<R.length;k++)this.words[k]=67108863&(_=(0|x.words[k])+(0|R.words[k])+T),T=_>>>26;for(;0!==T&&k<x.length;k++)this.words[k]=67108863&(_=(0|x.words[k])+T),T=_>>>26;if(this.length=x.length,0!==T)this.words[this.length]=T,this.length++;else if(x!==this)for(;k<x.length;k++)this.words[k]=x.words[k];return this},u.prototype.add=function(f){var _;return 0!==f.negative&&0===this.negative?(f.negative=0,_=this.sub(f),f.negative^=1,_):0===f.negative&&0!==this.negative?(this.negative=0,_=f.sub(this),this.negative=1,_):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},u.prototype.isub=function(f){if(0!==f.negative){f.negative=0;var _=this.iadd(f);return f.negative=1,_._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var R,T,x=this.cmp(f);if(0===x)return this.negative=0,this.length=1,this.words[0]=0,this;x>0?(R=this,T=f):(R=f,T=this);for(var k=0,Z=0;Z<T.length;Z++)k=(_=(0|R.words[Z])-(0|T.words[Z])+k)>>26,this.words[Z]=67108863&_;for(;0!==k&&Z<R.length;Z++)k=(_=(0|R.words[Z])+k)>>26,this.words[Z]=67108863&_;if(0===k&&Z<R.length&&R!==this)for(;Z<R.length;Z++)this.words[Z]=R.words[Z];return this.length=Math.max(this.length,Z),R!==this&&(this.negative=1),this._strip()},u.prototype.sub=function(f){return this.clone().isub(f)};var Ie=function(f,_,x){var N,m,C,R=f.words,T=_.words,k=x.words,Z=0,Oe=0|R[0],Pe=8191&Oe,A=Oe>>>13,te=0|R[1],J=8191&te,re=te>>>13,be=0|R[2],me=8191&be,ye=be>>>13,Ce=0|R[3],He=8191&Ce,fe=Ce>>>13,yt=0|R[4],Ht=8191&yt,ht=yt>>>13,bs=0|R[5],$t=8191&bs,_t=bs>>>13,dn=0|R[6],wt=8191&dn,It=dn>>>13,Ls=0|R[7],At=8191&Ls,Vt=Ls>>>13,xi=0|R[8],mt=8191&xi,Rt=xi>>>13,Ji=0|R[9],Ct=8191&Ji,Nt=Ji>>>13,Wi=0|T[0],Ot=8191&Wi,Tt=Wi>>>13,Qi=0|T[1],Dt=8191&Qi,Gt=Qi>>>13,Zs=0|T[2],Jt=8191&Zs,Ut=Zs>>>13,ws=0|T[3],Wt=8191&ws,Qt=ws>>>13,Ks=0|T[4],Yt=8191&Ks,jt=Ks>>>13,Hs=0|T[5],Xt=8191&Hs,er=Hs>>>13,Yi=0|T[6],tr=8191&Yi,Ft=Yi>>>13,$s=0|T[7],rr=8191&$s,nr=$s>>>13,Vs=0|T[8],ir=8191&Vs,sr=Vs>>>13,Gs=0|T[9],or=8191&Gs,zt=Gs>>>13;x.negative=f.negative^_.negative,x.length=19;var As=(Z+(N=Math.imul(Pe,Ot))|0)+((8191&(m=(m=Math.imul(Pe,Tt))+Math.imul(A,Ot)|0))<<13)|0;Z=((C=Math.imul(A,Tt))+(m>>>13)|0)+(As>>>26)|0,As&=67108863,N=Math.imul(J,Ot),m=(m=Math.imul(J,Tt))+Math.imul(re,Ot)|0,C=Math.imul(re,Tt);var xs=(Z+(N=N+Math.imul(Pe,Dt)|0)|0)+((8191&(m=(m=m+Math.imul(Pe,Gt)|0)+Math.imul(A,Dt)|0))<<13)|0;Z=((C=C+Math.imul(A,Gt)|0)+(m>>>13)|0)+(xs>>>26)|0,xs&=67108863,N=Math.imul(me,Ot),m=(m=Math.imul(me,Tt))+Math.imul(ye,Ot)|0,C=Math.imul(ye,Tt),N=N+Math.imul(J,Dt)|0,m=(m=m+Math.imul(J,Gt)|0)+Math.imul(re,Dt)|0,C=C+Math.imul(re,Gt)|0;var Es=(Z+(N=N+Math.imul(Pe,Jt)|0)|0)+((8191&(m=(m=m+Math.imul(Pe,Ut)|0)+Math.imul(A,Jt)|0))<<13)|0;Z=((C=C+Math.imul(A,Ut)|0)+(m>>>13)|0)+(Es>>>26)|0,Es&=67108863,N=Math.imul(He,Ot),m=(m=Math.imul(He,Tt))+Math.imul(fe,Ot)|0,C=Math.imul(fe,Tt),N=N+Math.imul(me,Dt)|0,m=(m=m+Math.imul(me,Gt)|0)+Math.imul(ye,Dt)|0,C=C+Math.imul(ye,Gt)|0,N=N+Math.imul(J,Jt)|0,m=(m=m+Math.imul(J,Ut)|0)+Math.imul(re,Jt)|0,C=C+Math.imul(re,Ut)|0;var Is=(Z+(N=N+Math.imul(Pe,Wt)|0)|0)+((8191&(m=(m=m+Math.imul(Pe,Qt)|0)+Math.imul(A,Wt)|0))<<13)|0;Z=((C=C+Math.imul(A,Qt)|0)+(m>>>13)|0)+(Is>>>26)|0,Is&=67108863,N=Math.imul(Ht,Ot),m=(m=Math.imul(Ht,Tt))+Math.imul(ht,Ot)|0,C=Math.imul(ht,Tt),N=N+Math.imul(He,Dt)|0,m=(m=m+Math.imul(He,Gt)|0)+Math.imul(fe,Dt)|0,C=C+Math.imul(fe,Gt)|0,N=N+Math.imul(me,Jt)|0,m=(m=m+Math.imul(me,Ut)|0)+Math.imul(ye,Jt)|0,C=C+Math.imul(ye,Ut)|0,N=N+Math.imul(J,Wt)|0,m=(m=m+Math.imul(J,Qt)|0)+Math.imul(re,Wt)|0,C=C+Math.imul(re,Qt)|0;var Ss=(Z+(N=N+Math.imul(Pe,Yt)|0)|0)+((8191&(m=(m=m+Math.imul(Pe,jt)|0)+Math.imul(A,Yt)|0))<<13)|0;Z=((C=C+Math.imul(A,jt)|0)+(m>>>13)|0)+(Ss>>>26)|0,Ss&=67108863,N=Math.imul($t,Ot),m=(m=Math.imul($t,Tt))+Math.imul(_t,Ot)|0,C=Math.imul(_t,Tt),N=N+Math.imul(Ht,Dt)|0,m=(m=m+Math.imul(Ht,Gt)|0)+Math.imul(ht,Dt)|0,C=C+Math.imul(ht,Gt)|0,N=N+Math.imul(He,Jt)|0,m=(m=m+Math.imul(He,Ut)|0)+Math.imul(fe,Jt)|0,C=C+Math.imul(fe,Ut)|0,N=N+Math.imul(me,Wt)|0,m=(m=m+Math.imul(me,Qt)|0)+Math.imul(ye,Wt)|0,C=C+Math.imul(ye,Qt)|0,N=N+Math.imul(J,Yt)|0,m=(m=m+Math.imul(J,jt)|0)+Math.imul(re,Yt)|0,C=C+Math.imul(re,jt)|0;var Ms=(Z+(N=N+Math.imul(Pe,Xt)|0)|0)+((8191&(m=(m=m+Math.imul(Pe,er)|0)+Math.imul(A,Xt)|0))<<13)|0;Z=((C=C+Math.imul(A,er)|0)+(m>>>13)|0)+(Ms>>>26)|0,Ms&=67108863,N=Math.imul(wt,Ot),m=(m=Math.imul(wt,Tt))+Math.imul(It,Ot)|0,C=Math.imul(It,Tt),N=N+Math.imul($t,Dt)|0,m=(m=m+Math.imul($t,Gt)|0)+Math.imul(_t,Dt)|0,C=C+Math.imul(_t,Gt)|0,N=N+Math.imul(Ht,Jt)|0,m=(m=m+Math.imul(Ht,Ut)|0)+Math.imul(ht,Jt)|0,C=C+Math.imul(ht,Ut)|0,N=N+Math.imul(He,Wt)|0,m=(m=m+Math.imul(He,Qt)|0)+Math.imul(fe,Wt)|0,C=C+Math.imul(fe,Qt)|0,N=N+Math.imul(me,Yt)|0,m=(m=m+Math.imul(me,jt)|0)+Math.imul(ye,Yt)|0,C=C+Math.imul(ye,jt)|0,N=N+Math.imul(J,Xt)|0,m=(m=m+Math.imul(J,er)|0)+Math.imul(re,Xt)|0,C=C+Math.imul(re,er)|0;var ho=(Z+(N=N+Math.imul(Pe,tr)|0)|0)+((8191&(m=(m=m+Math.imul(Pe,Ft)|0)+Math.imul(A,tr)|0))<<13)|0;Z=((C=C+Math.imul(A,Ft)|0)+(m>>>13)|0)+(ho>>>26)|0,ho&=67108863,N=Math.imul(At,Ot),m=(m=Math.imul(At,Tt))+Math.imul(Vt,Ot)|0,C=Math.imul(Vt,Tt),N=N+Math.imul(wt,Dt)|0,m=(m=m+Math.imul(wt,Gt)|0)+Math.imul(It,Dt)|0,C=C+Math.imul(It,Gt)|0,N=N+Math.imul($t,Jt)|0,m=(m=m+Math.imul($t,Ut)|0)+Math.imul(_t,Jt)|0,C=C+Math.imul(_t,Ut)|0,N=N+Math.imul(Ht,Wt)|0,m=(m=m+Math.imul(Ht,Qt)|0)+Math.imul(ht,Wt)|0,C=C+Math.imul(ht,Qt)|0,N=N+Math.imul(He,Yt)|0,m=(m=m+Math.imul(He,jt)|0)+Math.imul(fe,Yt)|0,C=C+Math.imul(fe,jt)|0,N=N+Math.imul(me,Xt)|0,m=(m=m+Math.imul(me,er)|0)+Math.imul(ye,Xt)|0,C=C+Math.imul(ye,er)|0,N=N+Math.imul(J,tr)|0,m=(m=m+Math.imul(J,Ft)|0)+Math.imul(re,tr)|0,C=C+Math.imul(re,Ft)|0;var eu=(Z+(N=N+Math.imul(Pe,rr)|0)|0)+((8191&(m=(m=m+Math.imul(Pe,nr)|0)+Math.imul(A,rr)|0))<<13)|0;Z=((C=C+Math.imul(A,nr)|0)+(m>>>13)|0)+(eu>>>26)|0,eu&=67108863,N=Math.imul(mt,Ot),m=(m=Math.imul(mt,Tt))+Math.imul(Rt,Ot)|0,C=Math.imul(Rt,Tt),N=N+Math.imul(At,Dt)|0,m=(m=m+Math.imul(At,Gt)|0)+Math.imul(Vt,Dt)|0,C=C+Math.imul(Vt,Gt)|0,N=N+Math.imul(wt,Jt)|0,m=(m=m+Math.imul(wt,Ut)|0)+Math.imul(It,Jt)|0,C=C+Math.imul(It,Ut)|0,N=N+Math.imul($t,Wt)|0,m=(m=m+Math.imul($t,Qt)|0)+Math.imul(_t,Wt)|0,C=C+Math.imul(_t,Qt)|0,N=N+Math.imul(Ht,Yt)|0,m=(m=m+Math.imul(Ht,jt)|0)+Math.imul(ht,Yt)|0,C=C+Math.imul(ht,jt)|0,N=N+Math.imul(He,Xt)|0,m=(m=m+Math.imul(He,er)|0)+Math.imul(fe,Xt)|0,C=C+Math.imul(fe,er)|0,N=N+Math.imul(me,tr)|0,m=(m=m+Math.imul(me,Ft)|0)+Math.imul(ye,tr)|0,C=C+Math.imul(ye,Ft)|0,N=N+Math.imul(J,rr)|0,m=(m=m+Math.imul(J,nr)|0)+Math.imul(re,rr)|0,C=C+Math.imul(re,nr)|0;var fo=(Z+(N=N+Math.imul(Pe,ir)|0)|0)+((8191&(m=(m=m+Math.imul(Pe,sr)|0)+Math.imul(A,ir)|0))<<13)|0;Z=((C=C+Math.imul(A,sr)|0)+(m>>>13)|0)+(fo>>>26)|0,fo&=67108863,N=Math.imul(Ct,Ot),m=(m=Math.imul(Ct,Tt))+Math.imul(Nt,Ot)|0,C=Math.imul(Nt,Tt),N=N+Math.imul(mt,Dt)|0,m=(m=m+Math.imul(mt,Gt)|0)+Math.imul(Rt,Dt)|0,C=C+Math.imul(Rt,Gt)|0,N=N+Math.imul(At,Jt)|0,m=(m=m+Math.imul(At,Ut)|0)+Math.imul(Vt,Jt)|0,C=C+Math.imul(Vt,Ut)|0,N=N+Math.imul(wt,Wt)|0,m=(m=m+Math.imul(wt,Qt)|0)+Math.imul(It,Wt)|0,C=C+Math.imul(It,Qt)|0,N=N+Math.imul($t,Yt)|0,m=(m=m+Math.imul($t,jt)|0)+Math.imul(_t,Yt)|0,C=C+Math.imul(_t,jt)|0,N=N+Math.imul(Ht,Xt)|0,m=(m=m+Math.imul(Ht,er)|0)+Math.imul(ht,Xt)|0,C=C+Math.imul(ht,er)|0,N=N+Math.imul(He,tr)|0,m=(m=m+Math.imul(He,Ft)|0)+Math.imul(fe,tr)|0,C=C+Math.imul(fe,Ft)|0,N=N+Math.imul(me,rr)|0,m=(m=m+Math.imul(me,nr)|0)+Math.imul(ye,rr)|0,C=C+Math.imul(ye,nr)|0,N=N+Math.imul(J,ir)|0,m=(m=m+Math.imul(J,sr)|0)+Math.imul(re,ir)|0,C=C+Math.imul(re,sr)|0;var tu=(Z+(N=N+Math.imul(Pe,or)|0)|0)+((8191&(m=(m=m+Math.imul(Pe,zt)|0)+Math.imul(A,or)|0))<<13)|0;Z=((C=C+Math.imul(A,zt)|0)+(m>>>13)|0)+(tu>>>26)|0,tu&=67108863,N=Math.imul(Ct,Dt),m=(m=Math.imul(Ct,Gt))+Math.imul(Nt,Dt)|0,C=Math.imul(Nt,Gt),N=N+Math.imul(mt,Jt)|0,m=(m=m+Math.imul(mt,Ut)|0)+Math.imul(Rt,Jt)|0,C=C+Math.imul(Rt,Ut)|0,N=N+Math.imul(At,Wt)|0,m=(m=m+Math.imul(At,Qt)|0)+Math.imul(Vt,Wt)|0,C=C+Math.imul(Vt,Qt)|0,N=N+Math.imul(wt,Yt)|0,m=(m=m+Math.imul(wt,jt)|0)+Math.imul(It,Yt)|0,C=C+Math.imul(It,jt)|0,N=N+Math.imul($t,Xt)|0,m=(m=m+Math.imul($t,er)|0)+Math.imul(_t,Xt)|0,C=C+Math.imul(_t,er)|0,N=N+Math.imul(Ht,tr)|0,m=(m=m+Math.imul(Ht,Ft)|0)+Math.imul(ht,tr)|0,C=C+Math.imul(ht,Ft)|0,N=N+Math.imul(He,rr)|0,m=(m=m+Math.imul(He,nr)|0)+Math.imul(fe,rr)|0,C=C+Math.imul(fe,nr)|0,N=N+Math.imul(me,ir)|0,m=(m=m+Math.imul(me,sr)|0)+Math.imul(ye,ir)|0,C=C+Math.imul(ye,sr)|0;var ru=(Z+(N=N+Math.imul(J,or)|0)|0)+((8191&(m=(m=m+Math.imul(J,zt)|0)+Math.imul(re,or)|0))<<13)|0;Z=((C=C+Math.imul(re,zt)|0)+(m>>>13)|0)+(ru>>>26)|0,ru&=67108863,N=Math.imul(Ct,Jt),m=(m=Math.imul(Ct,Ut))+Math.imul(Nt,Jt)|0,C=Math.imul(Nt,Ut),N=N+Math.imul(mt,Wt)|0,m=(m=m+Math.imul(mt,Qt)|0)+Math.imul(Rt,Wt)|0,C=C+Math.imul(Rt,Qt)|0,N=N+Math.imul(At,Yt)|0,m=(m=m+Math.imul(At,jt)|0)+Math.imul(Vt,Yt)|0,C=C+Math.imul(Vt,jt)|0,N=N+Math.imul(wt,Xt)|0,m=(m=m+Math.imul(wt,er)|0)+Math.imul(It,Xt)|0,C=C+Math.imul(It,er)|0,N=N+Math.imul($t,tr)|0,m=(m=m+Math.imul($t,Ft)|0)+Math.imul(_t,tr)|0,C=C+Math.imul(_t,Ft)|0,N=N+Math.imul(Ht,rr)|0,m=(m=m+Math.imul(Ht,nr)|0)+Math.imul(ht,rr)|0,C=C+Math.imul(ht,nr)|0,N=N+Math.imul(He,ir)|0,m=(m=m+Math.imul(He,sr)|0)+Math.imul(fe,ir)|0,C=C+Math.imul(fe,sr)|0;var nu=(Z+(N=N+Math.imul(me,or)|0)|0)+((8191&(m=(m=m+Math.imul(me,zt)|0)+Math.imul(ye,or)|0))<<13)|0;Z=((C=C+Math.imul(ye,zt)|0)+(m>>>13)|0)+(nu>>>26)|0,nu&=67108863,N=Math.imul(Ct,Wt),m=(m=Math.imul(Ct,Qt))+Math.imul(Nt,Wt)|0,C=Math.imul(Nt,Qt),N=N+Math.imul(mt,Yt)|0,m=(m=m+Math.imul(mt,jt)|0)+Math.imul(Rt,Yt)|0,C=C+Math.imul(Rt,jt)|0,N=N+Math.imul(At,Xt)|0,m=(m=m+Math.imul(At,er)|0)+Math.imul(Vt,Xt)|0,C=C+Math.imul(Vt,er)|0,N=N+Math.imul(wt,tr)|0,m=(m=m+Math.imul(wt,Ft)|0)+Math.imul(It,tr)|0,C=C+Math.imul(It,Ft)|0,N=N+Math.imul($t,rr)|0,m=(m=m+Math.imul($t,nr)|0)+Math.imul(_t,rr)|0,C=C+Math.imul(_t,nr)|0,N=N+Math.imul(Ht,ir)|0,m=(m=m+Math.imul(Ht,sr)|0)+Math.imul(ht,ir)|0,C=C+Math.imul(ht,sr)|0;var da=(Z+(N=N+Math.imul(He,or)|0)|0)+((8191&(m=(m=m+Math.imul(He,zt)|0)+Math.imul(fe,or)|0))<<13)|0;Z=((C=C+Math.imul(fe,zt)|0)+(m>>>13)|0)+(da>>>26)|0,da&=67108863,N=Math.imul(Ct,Yt),m=(m=Math.imul(Ct,jt))+Math.imul(Nt,Yt)|0,C=Math.imul(Nt,jt),N=N+Math.imul(mt,Xt)|0,m=(m=m+Math.imul(mt,er)|0)+Math.imul(Rt,Xt)|0,C=C+Math.imul(Rt,er)|0,N=N+Math.imul(At,tr)|0,m=(m=m+Math.imul(At,Ft)|0)+Math.imul(Vt,tr)|0,C=C+Math.imul(Vt,Ft)|0,N=N+Math.imul(wt,rr)|0,m=(m=m+Math.imul(wt,nr)|0)+Math.imul(It,rr)|0,C=C+Math.imul(It,nr)|0,N=N+Math.imul($t,ir)|0,m=(m=m+Math.imul($t,sr)|0)+Math.imul(_t,ir)|0,C=C+Math.imul(_t,sr)|0;var pa=(Z+(N=N+Math.imul(Ht,or)|0)|0)+((8191&(m=(m=m+Math.imul(Ht,zt)|0)+Math.imul(ht,or)|0))<<13)|0;Z=((C=C+Math.imul(ht,zt)|0)+(m>>>13)|0)+(pa>>>26)|0,pa&=67108863,N=Math.imul(Ct,Xt),m=(m=Math.imul(Ct,er))+Math.imul(Nt,Xt)|0,C=Math.imul(Nt,er),N=N+Math.imul(mt,tr)|0,m=(m=m+Math.imul(mt,Ft)|0)+Math.imul(Rt,tr)|0,C=C+Math.imul(Rt,Ft)|0,N=N+Math.imul(At,rr)|0,m=(m=m+Math.imul(At,nr)|0)+Math.imul(Vt,rr)|0,C=C+Math.imul(Vt,nr)|0,N=N+Math.imul(wt,ir)|0,m=(m=m+Math.imul(wt,sr)|0)+Math.imul(It,ir)|0,C=C+Math.imul(It,sr)|0;var ga=(Z+(N=N+Math.imul($t,or)|0)|0)+((8191&(m=(m=m+Math.imul($t,zt)|0)+Math.imul(_t,or)|0))<<13)|0;Z=((C=C+Math.imul(_t,zt)|0)+(m>>>13)|0)+(ga>>>26)|0,ga&=67108863,N=Math.imul(Ct,tr),m=(m=Math.imul(Ct,Ft))+Math.imul(Nt,tr)|0,C=Math.imul(Nt,Ft),N=N+Math.imul(mt,rr)|0,m=(m=m+Math.imul(mt,nr)|0)+Math.imul(Rt,rr)|0,C=C+Math.imul(Rt,nr)|0,N=N+Math.imul(At,ir)|0,m=(m=m+Math.imul(At,sr)|0)+Math.imul(Vt,ir)|0,C=C+Math.imul(Vt,sr)|0;var iu=(Z+(N=N+Math.imul(wt,or)|0)|0)+((8191&(m=(m=m+Math.imul(wt,zt)|0)+Math.imul(It,or)|0))<<13)|0;Z=((C=C+Math.imul(It,zt)|0)+(m>>>13)|0)+(iu>>>26)|0,iu&=67108863,N=Math.imul(Ct,rr),m=(m=Math.imul(Ct,nr))+Math.imul(Nt,rr)|0,C=Math.imul(Nt,nr),N=N+Math.imul(mt,ir)|0,m=(m=m+Math.imul(mt,sr)|0)+Math.imul(Rt,ir)|0,C=C+Math.imul(Rt,sr)|0;var su=(Z+(N=N+Math.imul(At,or)|0)|0)+((8191&(m=(m=m+Math.imul(At,zt)|0)+Math.imul(Vt,or)|0))<<13)|0;Z=((C=C+Math.imul(Vt,zt)|0)+(m>>>13)|0)+(su>>>26)|0,su&=67108863,N=Math.imul(Ct,ir),m=(m=Math.imul(Ct,sr))+Math.imul(Nt,ir)|0,C=Math.imul(Nt,sr);var ou=(Z+(N=N+Math.imul(mt,or)|0)|0)+((8191&(m=(m=m+Math.imul(mt,zt)|0)+Math.imul(Rt,or)|0))<<13)|0;Z=((C=C+Math.imul(Rt,zt)|0)+(m>>>13)|0)+(ou>>>26)|0,ou&=67108863;var au=(Z+(N=Math.imul(Ct,or))|0)+((8191&(m=(m=Math.imul(Ct,zt))+Math.imul(Nt,or)|0))<<13)|0;return Z=((C=Math.imul(Nt,zt))+(m>>>13)|0)+(au>>>26)|0,au&=67108863,k[0]=As,k[1]=xs,k[2]=Es,k[3]=Is,k[4]=Ss,k[5]=Ms,k[6]=ho,k[7]=eu,k[8]=fo,k[9]=tu,k[10]=ru,k[11]=nu,k[12]=da,k[13]=pa,k[14]=ga,k[15]=iu,k[16]=su,k[17]=ou,k[18]=au,0!==Z&&(k[19]=Z,x.length++),x};function Ae(f,_,x){x.negative=_.negative^f.negative,x.length=f.length+_.length;for(var R=0,T=0,k=0;k<x.length-1;k++){var Z=T;T=0;for(var N=67108863&R,m=Math.min(k,_.length-1),C=Math.max(0,k-f.length+1);C<=m;C++){var te=(0|f.words[k-C])*(0|_.words[C]),J=67108863&te;N=67108863&(J=J+N|0),T+=(Z=(Z=Z+(te/67108864|0)|0)+(J>>>26)|0)>>>26,Z&=67108863}x.words[k]=N,R=Z,Z=T}return 0!==R?x.words[k]=R:x.length--,x._strip()}function _e(f,_,x){return Ae(f,_,x)}Math.imul||(Ie=le),u.prototype.mulTo=function(f,_){var R=this.length+f.length;return 10===this.length&&10===f.length?Ie(this,f,_):R<63?le(this,f,_):R<1024?Ae(this,f,_):_e(this,f,_)},u.prototype.mul=function(f){var _=new u(null);return _.words=new Array(this.length+f.length),this.mulTo(f,_)},u.prototype.mulf=function(f){var _=new u(null);return _.words=new Array(this.length+f.length),_e(this,f,_)},u.prototype.imul=function(f){return this.clone().mulTo(f,this)},u.prototype.imuln=function(f){var _=f<0;_&&(f=-f),s("number"==typeof f),s(f<67108864);for(var x=0,R=0;R<this.length;R++){var T=(0|this.words[R])*f,k=(67108863&T)+(67108863&x);x>>=26,x+=T/67108864|0,x+=k>>>26,this.words[R]=67108863&k}return 0!==x&&(this.words[R]=x,this.length++),_?this.ineg():this},u.prototype.muln=function(f){return this.clone().imuln(f)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(f){var _=function W(f){for(var _=new Array(f.bitLength()),x=0;x<_.length;x++)_[x]=f.words[x/26|0]>>>x%26&1;return _}(f);if(0===_.length)return new u(1);for(var x=this,R=0;R<_.length&&0===_[R];R++,x=x.sqr());if(++R<_.length)for(var T=x.sqr();R<_.length;R++,T=T.sqr())0!==_[R]&&(x=x.mul(T));return x},u.prototype.iushln=function(f){s("number"==typeof f&&f>=0);var T,_=f%26,x=(f-_)/26,R=67108863>>>26-_<<26-_;if(0!==_){var k=0;for(T=0;T<this.length;T++){var Z=this.words[T]&R;this.words[T]=(0|this.words[T])-Z<<_|k,k=Z>>>26-_}k&&(this.words[T]=k,this.length++)}if(0!==x){for(T=this.length-1;T>=0;T--)this.words[T+x]=this.words[T];for(T=0;T<x;T++)this.words[T]=0;this.length+=x}return this._strip()},u.prototype.ishln=function(f){return s(0===this.negative),this.iushln(f)},u.prototype.iushrn=function(f,_,x){var R;s("number"==typeof f&&f>=0),R=_?(_-_%26)/26:0;var T=f%26,k=Math.min((f-T)/26,this.length),Z=67108863^67108863>>>T<<T,N=x;if(R-=k,R=Math.max(0,R),N){for(var m=0;m<k;m++)N.words[m]=this.words[m];N.length=k}if(0!==k)if(this.length>k)for(this.length-=k,m=0;m<this.length;m++)this.words[m]=this.words[m+k];else this.words[0]=0,this.length=1;var C=0;for(m=this.length-1;m>=0&&(0!==C||m>=R);m--){var Oe=0|this.words[m];this.words[m]=C<<26-T|Oe>>>T,C=Oe&Z}return N&&0!==C&&(N.words[N.length++]=C),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},u.prototype.ishrn=function(f,_,x){return s(0===this.negative),this.iushrn(f,_,x)},u.prototype.shln=function(f){return this.clone().ishln(f)},u.prototype.ushln=function(f){return this.clone().iushln(f)},u.prototype.shrn=function(f){return this.clone().ishrn(f)},u.prototype.ushrn=function(f){return this.clone().iushrn(f)},u.prototype.testn=function(f){s("number"==typeof f&&f>=0);var _=f%26,x=(f-_)/26;return!(this.length<=x||!(this.words[x]&1<<_))},u.prototype.imaskn=function(f){s("number"==typeof f&&f>=0);var _=f%26,x=(f-_)/26;return s(0===this.negative,"imaskn works only with positive numbers"),this.length<=x?this:(0!==_&&x++,this.length=Math.min(x,this.length),0!==_&&(this.words[this.length-1]&=67108863^67108863>>>_<<_),this._strip())},u.prototype.maskn=function(f){return this.clone().imaskn(f)},u.prototype.iaddn=function(f){return s("number"==typeof f),s(f<67108864),f<0?this.isubn(-f):0!==this.negative?1===this.length&&(0|this.words[0])<=f?(this.words[0]=f-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},u.prototype._iaddn=function(f){this.words[0]+=f;for(var _=0;_<this.length&&this.words[_]>=67108864;_++)this.words[_]-=67108864,_===this.length-1?this.words[_+1]=1:this.words[_+1]++;return this.length=Math.max(this.length,_+1),this},u.prototype.isubn=function(f){if(s("number"==typeof f),s(f<67108864),f<0)return this.iaddn(-f);if(0!==this.negative)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _=0;_<this.length&&this.words[_]<0;_++)this.words[_]+=67108864,this.words[_+1]-=1;return this._strip()},u.prototype.addn=function(f){return this.clone().iaddn(f)},u.prototype.subn=function(f){return this.clone().isubn(f)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(f,_,x){var T;this._expand(f.length+x);var k,Z=0;for(T=0;T<f.length;T++){k=(0|this.words[T+x])+Z;var N=(0|f.words[T])*_;Z=((k-=67108863&N)>>26)-(N/67108864|0),this.words[T+x]=67108863&k}for(;T<this.length-x;T++)Z=(k=(0|this.words[T+x])+Z)>>26,this.words[T+x]=67108863&k;if(0===Z)return this._strip();for(s(-1===Z),Z=0,T=0;T<this.length;T++)Z=(k=-(0|this.words[T])+Z)>>26,this.words[T]=67108863&k;return this.negative=1,this._strip()},u.prototype._wordDiv=function(f,_){var x,R=this.clone(),T=f,k=0|T.words[T.length-1];0!=(x=26-this._countBits(k))&&(T=T.ushln(x),R.iushln(x),k=0|T.words[T.length-1]);var m,N=R.length-T.length;if("mod"!==_){(m=new u(null)).length=N+1,m.words=new Array(m.length);for(var C=0;C<m.length;C++)m.words[C]=0}var Oe=R.clone()._ishlnsubmul(T,1,N);0===Oe.negative&&(R=Oe,m&&(m.words[N]=1));for(var Pe=N-1;Pe>=0;Pe--){var A=67108864*(0|R.words[T.length+Pe])+(0|R.words[T.length+Pe-1]);for(A=Math.min(A/k|0,67108863),R._ishlnsubmul(T,A,Pe);0!==R.negative;)A--,R.negative=0,R._ishlnsubmul(T,1,Pe),R.isZero()||(R.negative^=1);m&&(m.words[Pe]=A)}return m&&m._strip(),R._strip(),"div"!==_&&0!==x&&R.iushrn(x),{div:m||null,mod:R}},u.prototype.divmod=function(f,_,x){return s(!f.isZero()),this.isZero()?{div:new u(0),mod:new u(0)}:0!==this.negative&&0===f.negative?(k=this.neg().divmod(f,_),"mod"!==_&&(R=k.div.neg()),"div"!==_&&(T=k.mod.neg(),x&&0!==T.negative&&T.iadd(f)),{div:R,mod:T}):0===this.negative&&0!==f.negative?(k=this.divmod(f.neg(),_),"mod"!==_&&(R=k.div.neg()),{div:R,mod:k.mod}):this.negative&f.negative?(k=this.neg().divmod(f.neg(),_),"div"!==_&&(T=k.mod.neg(),x&&0!==T.negative&&T.isub(f)),{div:k.div,mod:T}):f.length>this.length||this.cmp(f)<0?{div:new u(0),mod:this}:1===f.length?"div"===_?{div:this.divn(f.words[0]),mod:null}:"mod"===_?{div:null,mod:new u(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new u(this.modrn(f.words[0]))}:this._wordDiv(f,_);var R,T,k},u.prototype.div=function(f){return this.divmod(f,"div",!1).div},u.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},u.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},u.prototype.divRound=function(f){var _=this.divmod(f);if(_.mod.isZero())return _.div;var x=0!==_.div.negative?_.mod.isub(f):_.mod,R=f.ushrn(1),T=f.andln(1),k=x.cmp(R);return k<0||1===T&&0===k?_.div:0!==_.div.negative?_.div.isubn(1):_.div.iaddn(1)},u.prototype.modrn=function(f){var _=f<0;_&&(f=-f),s(f<=67108863);for(var x=(1<<26)%f,R=0,T=this.length-1;T>=0;T--)R=(x*R+(0|this.words[T]))%f;return _?-R:R},u.prototype.modn=function(f){return this.modrn(f)},u.prototype.idivn=function(f){var _=f<0;_&&(f=-f),s(f<=67108863);for(var x=0,R=this.length-1;R>=0;R--){var T=(0|this.words[R])+67108864*x;this.words[R]=T/f|0,x=T%f}return this._strip(),_?this.ineg():this},u.prototype.divn=function(f){return this.clone().idivn(f)},u.prototype.egcd=function(f){s(0===f.negative),s(!f.isZero());var _=this,x=f.clone();_=0!==_.negative?_.umod(f):_.clone();for(var R=new u(1),T=new u(0),k=new u(0),Z=new u(1),N=0;_.isEven()&&x.isEven();)_.iushrn(1),x.iushrn(1),++N;for(var m=x.clone(),C=_.clone();!_.isZero();){for(var Oe=0,Pe=1;!(_.words[0]&Pe)&&Oe<26;++Oe,Pe<<=1);if(Oe>0)for(_.iushrn(Oe);Oe-- >0;)(R.isOdd()||T.isOdd())&&(R.iadd(m),T.isub(C)),R.iushrn(1),T.iushrn(1);for(var A=0,te=1;!(x.words[0]&te)&&A<26;++A,te<<=1);if(A>0)for(x.iushrn(A);A-- >0;)(k.isOdd()||Z.isOdd())&&(k.iadd(m),Z.isub(C)),k.iushrn(1),Z.iushrn(1);_.cmp(x)>=0?(_.isub(x),R.isub(k),T.isub(Z)):(x.isub(_),k.isub(R),Z.isub(T))}return{a:k,b:Z,gcd:x.iushln(N)}},u.prototype._invmp=function(f){s(0===f.negative),s(!f.isZero());var Oe,_=this,x=f.clone();_=0!==_.negative?_.umod(f):_.clone();for(var R=new u(1),T=new u(0),k=x.clone();_.cmpn(1)>0&&x.cmpn(1)>0;){for(var Z=0,N=1;!(_.words[0]&N)&&Z<26;++Z,N<<=1);if(Z>0)for(_.iushrn(Z);Z-- >0;)R.isOdd()&&R.iadd(k),R.iushrn(1);for(var m=0,C=1;!(x.words[0]&C)&&m<26;++m,C<<=1);if(m>0)for(x.iushrn(m);m-- >0;)T.isOdd()&&T.iadd(k),T.iushrn(1);_.cmp(x)>=0?(_.isub(x),R.isub(T)):(x.isub(_),T.isub(R))}return(Oe=0===_.cmpn(1)?R:T).cmpn(0)<0&&Oe.iadd(f),Oe},u.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var _=this.clone(),x=f.clone();_.negative=0,x.negative=0;for(var R=0;_.isEven()&&x.isEven();R++)_.iushrn(1),x.iushrn(1);for(;;){for(;_.isEven();)_.iushrn(1);for(;x.isEven();)x.iushrn(1);var T=_.cmp(x);if(T<0){var k=_;_=x,x=k}else if(0===T||0===x.cmpn(1))break;_.isub(x)}return x.iushln(R)},u.prototype.invm=function(f){return this.egcd(f).a.umod(f)},u.prototype.isEven=function(){return 0==(1&this.words[0])},u.prototype.isOdd=function(){return 1==(1&this.words[0])},u.prototype.andln=function(f){return this.words[0]&f},u.prototype.bincn=function(f){s("number"==typeof f);var _=f%26,x=(f-_)/26,R=1<<_;if(this.length<=x)return this._expand(x+1),this.words[x]|=R,this;for(var T=R,k=x;0!==T&&k<this.length;k++){var Z=0|this.words[k];T=(Z+=T)>>>26,this.words[k]=Z&=67108863}return 0!==T&&(this.words[k]=T,this.length++),this},u.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},u.prototype.cmpn=function(f){var x,_=f<0;if(0!==this.negative&&!_)return-1;if(0===this.negative&&_)return 1;if(this._strip(),this.length>1)x=1;else{_&&(f=-f),s(f<=67108863,"Number is too big");var R=0|this.words[0];x=R===f?0:R<f?-1:1}return 0!==this.negative?0|-x:x},u.prototype.cmp=function(f){if(0!==this.negative&&0===f.negative)return-1;if(0===this.negative&&0!==f.negative)return 1;var _=this.ucmp(f);return 0!==this.negative?0|-_:_},u.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var _=0,x=this.length-1;x>=0;x--){var R=0|this.words[x],T=0|f.words[x];if(R!==T){R<T?_=-1:R>T&&(_=1);break}}return _},u.prototype.gtn=function(f){return 1===this.cmpn(f)},u.prototype.gt=function(f){return 1===this.cmp(f)},u.prototype.gten=function(f){return this.cmpn(f)>=0},u.prototype.gte=function(f){return this.cmp(f)>=0},u.prototype.ltn=function(f){return-1===this.cmpn(f)},u.prototype.lt=function(f){return-1===this.cmp(f)},u.prototype.lten=function(f){return this.cmpn(f)<=0},u.prototype.lte=function(f){return this.cmp(f)<=0},u.prototype.eqn=function(f){return 0===this.cmpn(f)},u.prototype.eq=function(f){return 0===this.cmp(f)},u.red=function(f){return new pt(f)},u.prototype.toRed=function(f){return s(!this.red,"Already a number in reduction context"),s(0===this.negative,"red works only with positives"),f.convertTo(this)._forceRed(f)},u.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(f){return this.red=f,this},u.prototype.forceRed=function(f){return s(!this.red,"Already a number in reduction context"),this._forceRed(f)},u.prototype.redAdd=function(f){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},u.prototype.redIAdd=function(f){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},u.prototype.redSub=function(f){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},u.prototype.redISub=function(f){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},u.prototype.redShl=function(f){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},u.prototype.redMul=function(f){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},u.prototype.redIMul=function(f){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},u.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(f){return s(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var ve={k256:null,p224:null,p192:null,p25519:null};function xe(f,_){this.name=f,this.p=new u(_,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function Fe(){xe.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function Be(){xe.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function gt(){xe.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function xn(){xe.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function pt(f){if("string"==typeof f){var _=u._prime(f);this.m=_.p,this.prime=_}else s(f.gtn(1),"modulus must be greater than 1"),this.m=f,this.prime=null}function En(f){pt.call(this,f),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}xe.prototype._tmp=function(){var f=new u(null);return f.words=new Array(Math.ceil(this.n/13)),f},xe.prototype.ireduce=function(f){var x,_=f;do{this.split(_,this.tmp),x=(_=(_=this.imulK(_)).iadd(this.tmp)).bitLength()}while(x>this.n);var R=x<this.n?-1:_.ucmp(this.p);return 0===R?(_.words[0]=0,_.length=1):R>0?_.isub(this.p):void 0!==_.strip?_.strip():_._strip(),_},xe.prototype.split=function(f,_){f.iushrn(this.n,0,_)},xe.prototype.imulK=function(f){return f.imul(this.k)},a(Fe,xe),Fe.prototype.split=function(f,_){for(var x=4194303,R=Math.min(f.length,9),T=0;T<R;T++)_.words[T]=f.words[T];if(_.length=R,f.length<=9)return f.words[0]=0,void(f.length=1);var k=f.words[9];for(_.words[_.length++]=k&x,T=10;T<f.length;T++){var Z=0|f.words[T];f.words[T-10]=(Z&x)<<4|k>>>22,k=Z}f.words[T-10]=k>>>=22,f.length-=0===k&&f.length>10?10:9},Fe.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var _=0,x=0;x<f.length;x++){var R=0|f.words[x];f.words[x]=67108863&(_+=977*R),_=64*R+(_/67108864|0)}return 0===f.words[f.length-1]&&(f.length--,0===f.words[f.length-1]&&f.length--),f},a(Be,xe),a(gt,xe),a(xn,xe),xn.prototype.imulK=function(f){for(var _=0,x=0;x<f.length;x++){var R=19*(0|f.words[x])+_,T=67108863&R;R>>>=26,f.words[x]=T,_=R}return 0!==_&&(f.words[f.length++]=_),f},u._prime=function(f){if(ve[f])return ve[f];var _;if("k256"===f)_=new Fe;else if("p224"===f)_=new Be;else if("p192"===f)_=new gt;else{if("p25519"!==f)throw new Error("Unknown prime "+f);_=new xn}return ve[f]=_,_},pt.prototype._verify1=function(f){s(0===f.negative,"red works only with positives"),s(f.red,"red works only with red numbers")},pt.prototype._verify2=function(f,_){s(0==(f.negative|_.negative),"red works only with positives"),s(f.red&&f.red===_.red,"red works only with red numbers")},pt.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(w(f,f.umod(this.m)._forceRed(this)),f)},pt.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},pt.prototype.add=function(f,_){this._verify2(f,_);var x=f.add(_);return x.cmp(this.m)>=0&&x.isub(this.m),x._forceRed(this)},pt.prototype.iadd=function(f,_){this._verify2(f,_);var x=f.iadd(_);return x.cmp(this.m)>=0&&x.isub(this.m),x},pt.prototype.sub=function(f,_){this._verify2(f,_);var x=f.sub(_);return x.cmpn(0)<0&&x.iadd(this.m),x._forceRed(this)},pt.prototype.isub=function(f,_){this._verify2(f,_);var x=f.isub(_);return x.cmpn(0)<0&&x.iadd(this.m),x},pt.prototype.shl=function(f,_){return this._verify1(f),this.imod(f.ushln(_))},pt.prototype.imul=function(f,_){return this._verify2(f,_),this.imod(f.imul(_))},pt.prototype.mul=function(f,_){return this._verify2(f,_),this.imod(f.mul(_))},pt.prototype.isqr=function(f){return this.imul(f,f.clone())},pt.prototype.sqr=function(f){return this.mul(f,f)},pt.prototype.sqrt=function(f){if(f.isZero())return f.clone();var _=this.m.andln(3);if(s(_%2==1),3===_){var x=this.m.add(new u(1)).iushrn(2);return this.pow(f,x)}for(var R=this.m.subn(1),T=0;!R.isZero()&&0===R.andln(1);)T++,R.iushrn(1);s(!R.isZero());var k=new u(1).toRed(this),Z=k.redNeg(),N=this.m.subn(1).iushrn(1),m=this.m.bitLength();for(m=new u(2*m*m).toRed(this);0!==this.pow(m,N).cmp(Z);)m.redIAdd(Z);for(var C=this.pow(m,R),Oe=this.pow(f,R.addn(1).iushrn(1)),Pe=this.pow(f,R),A=T;0!==Pe.cmp(k);){for(var te=Pe,J=0;0!==te.cmp(k);J++)te=te.redSqr();s(J<A);var re=this.pow(C,new u(1).iushln(A-J-1));Oe=Oe.redMul(re),C=re.redSqr(),Pe=Pe.redMul(C),A=J}return Oe},pt.prototype.invm=function(f){var _=f._invmp(this.m);return 0!==_.negative?(_.negative=0,this.imod(_).redNeg()):this.imod(_)},pt.prototype.pow=function(f,_){if(_.isZero())return new u(1).toRed(this);if(0===_.cmpn(1))return f.clone();var R=new Array(16);R[0]=new u(1).toRed(this),R[1]=f;for(var T=2;T<R.length;T++)R[T]=this.mul(R[T-1],f);var k=R[0],Z=0,N=0,m=_.bitLength()%26;for(0===m&&(m=26),T=_.length-1;T>=0;T--){for(var C=_.words[T],Oe=m-1;Oe>=0;Oe--){var Pe=C>>Oe&1;k!==R[0]&&(k=this.sqr(k)),0!==Pe||0!==Z?(Z<<=1,Z|=Pe,(4==++N||0===T&&0===Oe)&&(k=this.mul(k,R[Z]),N=0,Z=0)):N=0}m=26}return k},pt.prototype.convertTo=function(f){var _=f.umod(this.m);return _===f?_.clone():_},pt.prototype.convertFrom=function(f){var _=f.clone();return _.red=null,_},u.mont=function(f){return new En(f)},a(En,pt),En.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},En.prototype.convertFrom=function(f){var _=this.imod(f.mul(this.rinv));return _.red=null,_},En.prototype.imul=function(f,_){if(f.isZero()||_.isZero())return f.words[0]=0,f.length=1,f;var x=f.imul(_),R=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=x.isub(R).iushrn(this.shift),k=T;return T.cmp(this.m)>=0?k=T.isub(this.m):T.cmpn(0)<0&&(k=T.iadd(this.m)),k._forceRed(this)},En.prototype.mul=function(f,_){if(f.isZero()||_.isZero())return new u(0)._forceRed(this);var x=f.mul(_),R=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=x.isub(R).iushrn(this.shift),k=T;return T.cmp(this.m)>=0?k=T.isub(this.m):T.cmpn(0)<0&&(k=T.iadd(this.m)),k._forceRed(this)},En.prototype.invm=function(f){return this.imod(f._invmp(this.m).mul(this.r2))._forceRed(this)}}(r,Su)}(Mo);var Le=Mo.exports;const qa="bignumber/5.7.0";var Po=Le.BN;const Wn=new Ve(qa),Jo={},Du=9007199254740991;let Fu=!1;class P{constructor(e,t){e!==Jo&&Wn.throwError("cannot call constructor directly; use BigNumber.from",Ve.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return ee(se(this).fromTwos(e))}toTwos(e){return ee(se(this).toTwos(e))}abs(){return"-"===this._hex[0]?P.from(this._hex.substring(1)):this}add(e){return ee(se(this).add(se(e)))}sub(e){return ee(se(this).sub(se(e)))}div(e){return P.from(e).isZero()&&it("division-by-zero","div"),ee(se(this).div(se(e)))}mul(e){return ee(se(this).mul(se(e)))}mod(e){const t=se(e);return t.isNeg()&&it("division-by-zero","mod"),ee(se(this).umod(t))}pow(e){const t=se(e);return t.isNeg()&&it("negative-power","pow"),ee(se(this).pow(t))}and(e){const t=se(e);return(this.isNegative()||t.isNeg())&&it("unbound-bitwise-result","and"),ee(se(this).and(t))}or(e){const t=se(e);return(this.isNegative()||t.isNeg())&&it("unbound-bitwise-result","or"),ee(se(this).or(t))}xor(e){const t=se(e);return(this.isNegative()||t.isNeg())&&it("unbound-bitwise-result","xor"),ee(se(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&it("negative-width","mask"),ee(se(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&it("negative-width","shl"),ee(se(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&it("negative-width","shr"),ee(se(this).shrn(e))}eq(e){return se(this).eq(se(e))}lt(e){return se(this).lt(se(e))}lte(e){return se(this).lte(se(e))}gt(e){return se(this).gt(se(e))}gte(e){return se(this).gte(se(e))}isNegative(){return"-"===this._hex[0]}isZero(){return se(this).isZero()}toNumber(){try{return se(this).toNumber()}catch{it("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Wn.throwError("this platform does not support BigInt",Ve.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?Fu||(Fu=!0,Wn.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):Wn.throwError(16===arguments[0]?"BigNumber.toString does not accept any parameters; use bigNumber.toHexString()":"BigNumber.toString does not accept parameters",Ve.errors.UNEXPECTED_ARGUMENT,{})),se(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof P)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new P(Jo,j(e)):e.match(/^-?[0-9]+$/)?new P(Jo,j(new Po(e))):Wn.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&it("underflow","BigNumber.from",e),(e>=Du||e<=-Du)&&it("overflow","BigNumber.from",e),P.from(String(e));const t=e;if("bigint"==typeof t)return P.from(t.toString());if(wi(t))return P.from(Cn(t));if(t)if(t.toHexString){const s=t.toHexString();if("string"==typeof s)return P.from(s)}else{let s=t._hex;if(null==s&&"BigNumber"===t.type&&(s=t.hex),"string"==typeof s&&(Jn(s)||"-"===s[0]&&Jn(s.substring(1))))return P.from(s)}return Wn.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!(!e||!e._isBigNumber)}}function j(r){if("string"!=typeof r)return j(r.toString(16));if("-"===r[0])return"-"===(r=r.substring(1))[0]&&Wn.throwArgumentError("invalid hex","value",r),"0x00"===(r=j(r))?r:"-"+r;if("0x"!==r.substring(0,2)&&(r="0x"+r),"0x"===r)return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&"0x00"===r.substring(0,4);)r="0x"+r.substring(4);return r}function ee(r){return P.from(j(r))}function se(r){const e=P.from(r).toHexString();return new Po("-"===e[0]?"-"+e.substring(3):e.substring(2),16)}function it(r,e,t){const s={fault:r,operation:e};return null!=t&&(s.value=t),Wn.throwError(r,Ve.errors.NUMERIC_FAULT,s)}const st=new Ve(qa),wr={},Yr=P.from(0),fr=P.from(-1);function jn(r,e,t,s){const a={fault:e,operation:t};return void 0!==s&&(a.value=s),st.throwError(r,Ve.errors.NUMERIC_FAULT,a)}let Nn="0";for(;Nn.length<256;)Nn+=Nn;function Xr(r){if("number"!=typeof r)try{r=P.from(r).toNumber()}catch{}return"number"==typeof r&&r>=0&&r<=256&&!(r%1)?"1"+Nn.substring(0,r):st.throwArgumentError("invalid decimal size","decimals",r)}function zn(r,e){null==e&&(e=0);const t=Xr(e),s=(r=P.from(r)).lt(Yr);s&&(r=r.mul(fr));let a=r.mod(t).toString();for(;a.length<t.length-1;)a="0"+a;a=a.match(/^([0-9]*[1-9]|0)(0*)/)[1];const u=r.div(t).toString();return r=1===t.length?u:u+"."+a,s&&(r="-"+r),r}function Br(r,e){null==e&&(e=0);const t=Xr(e);("string"!=typeof r||!r.match(/^-?[0-9.]+$/))&&st.throwArgumentError("invalid decimal value","value",r);const s="-"===r.substring(0,1);s&&(r=r.substring(1)),"."===r&&st.throwArgumentError("missing value","value",r);const a=r.split(".");a.length>2&&st.throwArgumentError("too many decimal points","value",r);let u=a[0],l=a[1];for(u||(u="0"),l||(l="0");"0"===l[l.length-1];)l=l.substring(0,l.length-1);for(l.length>t.length-1&&jn("fractional component exceeds decimals","underflow","parseFixed"),""===l&&(l="0");l.length<t.length-1;)l+="0";const d=P.from(u),y=P.from(l);let g=d.mul(t).add(y);return s&&(g=g.mul(fr)),g}class Qn{constructor(e,t,s,a){e!==wr&&st.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Ve.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=s,this.decimals=a,this.name=(t?"":"u")+"fixed"+String(s)+"x"+String(a),this._multiplier=Xr(a),Object.freeze(this)}static from(e){if(e instanceof Qn)return e;"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,s=128,a=18;if("string"==typeof e){if("fixed"!==e)if("ufixed"===e)t=!1;else{const u=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);u||st.throwArgumentError("invalid fixed format","format",e),t="u"!==u[1],s=parseInt(u[2]),a=parseInt(u[3])}}else if(e){const u=(l,d,y)=>null==e[l]?y:(typeof e[l]!==d&&st.throwArgumentError("invalid fixed format ("+l+" not "+d+")","format."+l,e[l]),e[l]);t=u("signed","boolean",t),s=u("width","number",s),a=u("decimals","number",a)}return s%8&&st.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",s),a>80&&st.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",a),new Qn(wr,t,s,a)}}class Zt{constructor(e,t,s,a){e!==wr&&st.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Ve.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=a,this._hex=t,this._value=s,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&st.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=Br(this._value,this.format.decimals),s=Br(e._value,e.format.decimals);return Zt.fromValue(t.add(s),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=Br(this._value,this.format.decimals),s=Br(e._value,e.format.decimals);return Zt.fromValue(t.sub(s),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=Br(this._value,this.format.decimals),s=Br(e._value,e.format.decimals);return Zt.fromValue(t.mul(s).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=Br(this._value,this.format.decimals),s=Br(e._value,e.format.decimals);return Zt.fromValue(t.mul(this.format._multiplier).div(s),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");1===e.length&&e.push("0");let t=Zt.from(e[0],this.format);const s=!e[1].match(/^(0*)$/);return this.isNegative()&&s&&(t=t.subUnsafe(ss.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");1===e.length&&e.push("0");let t=Zt.from(e[0],this.format);const s=!e[1].match(/^(0*)$/);return!this.isNegative()&&s&&(t=t.addUnsafe(ss.toFormat(t.format))),t}round(e){null==e&&(e=0);const t=this.toString().split(".");if(1===t.length&&t.push("0"),(e<0||e>80||e%1)&&st.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const s=Zt.from("1"+Nn.substring(0,e),this.format),a=Bu.toFormat(this.format);return this.mulUnsafe(s).addUnsafe(a).floor().divUnsafe(s)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(e){return null==e?this._hex:(e%8&&st.throwArgumentError("invalid byte width","width",e),bn(P.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString(),e/8))}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Zt.fromString(this._value,e)}static fromValue(e,t,s){return null==s&&null!=t&&!function hl(r){return null!=r&&(P.isBigNumber(r)||"number"==typeof r&&r%1==0||"string"==typeof r&&!!r.match(/^-?[0-9]+$/)||Jn(r)||"bigint"==typeof r||wi(r))}(t)&&(s=t,t=null),null==t&&(t=0),null==s&&(s="fixed"),Zt.fromString(zn(e,t),Qn.from(s))}static fromString(e,t){null==t&&(t="fixed");const s=Qn.from(t),a=Br(e,s.decimals);!s.signed&&a.lt(Yr)&&jn("unsigned value cannot be negative","overflow","value",e);let u=null;s.signed?u=a.toTwos(s.width).toHexString():(u=a.toHexString(),u=bn(u,s.width/8));const l=zn(a,s.decimals);return new Zt(wr,u,l,s)}static fromBytes(e,t){null==t&&(t="fixed");const s=Qn.from(t);if(br(e).length>s.width/8)throw new Error("overflow");let a=P.from(e);s.signed&&(a=a.fromTwos(s.width));const u=a.toTwos((s.signed?0:1)+s.width).toHexString(),l=zn(a,s.decimals);return new Zt(wr,u,l,s)}static from(e,t){if("string"==typeof e)return Zt.fromString(e,t);if(wi(e))return Zt.fromBytes(e,t);try{return Zt.fromValue(e,0,t)}catch(s){if(s.code!==Ve.errors.INVALID_ARGUMENT)throw s}return st.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!(!e||!e._isFixedNumber)}}const ss=Zt.from(1),Bu=Zt.from("0.5"),Ro=new Ve("strings/5.7.0");var qu,Qo;function Of(r,e,t,s,a){if(r===Qo.BAD_PREFIX||r===Qo.UNEXPECTED_CONTINUE){let u=0;for(let l=e+1;l<t.length&&t[l]>>6==2;l++)u++;return u}return r===Qo.OVERRUN?t.length-e-1:0}function fl(r,e=qu.current){e!=qu.current&&(Ro.checkNormalize(),r=r.normalize(e));let t=[];for(let s=0;s<r.length;s++){const a=r.charCodeAt(s);if(a<128)t.push(a);else if(a<2048)t.push(a>>6|192),t.push(63&a|128);else if(55296==(64512&a)){s++;const u=r.charCodeAt(s);if(s>=r.length||56320!=(64512&u))throw new Error("invalid utf-8 string");const l=65536+((1023&a)<<10)+(1023&u);t.push(l>>18|240),t.push(l>>12&63|128),t.push(l>>6&63|128),t.push(63&l|128)}else t.push(a>>12|224),t.push(a>>6&63|128),t.push(63&a|128)}return br(t)}function dl(r,e){e||(e=function(a){return[parseInt(a,16)]});let t=0,s={};return r.split(",").forEach(a=>{let u=a.split(":");t+=parseInt(u[0],16),s[t]=e(u[1])}),s}function Tf(r){let e=0;return r.split(",").map(t=>{let s=t.split("-");1===s.length?s[1]="0":""===s[1]&&(s[1]="1");let a=e+parseInt(s[0],16);return e=parseInt(s[1],16),{l:a,h:e}})}!function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"}(qu||(qu={})),function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"}(Qo||(Qo={})),Object.freeze({error:function N1(r,e,t,s,a){return Ro.throwArgumentError(`invalid codepoint at offset ${e}; ${r}`,"bytes",t)},ignore:Of,replace:function O1(r,e,t,s,a){return r===Qo.OVERLONG?(s.push(a),0):(s.push(65533),Of(r,e,t))}}),Tf("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(r=>parseInt(r,16)),dl("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),dl("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),dl("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",function T1(r){if(r.length%4!=0)throw new Error("bad data");let e=[];for(let t=0;t<r.length;t+=4)e.push(parseInt(r.substring(t,t+4),16));return e}),Tf("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");const Df="hash/5.7.0";function Ff(r,e){null==e&&(e=1);const t=[],s=t.forEach,a=function(u,l){s.call(u,function(d){l>0&&Array.isArray(d)?a(d,l-1):t.push(d)})};return a(r,e),t}function U1(r){return 1&r?~r>>1:r>>1}function Bf(r,e){let t=Array(r);for(let s=0,a=-1;s<r;s++)t[s]=a+=1+e();return t}function z1(r,e){let t=Array(r);for(let s=0,a=0;s<r;s++)t[s]=a+=U1(e());return t}function ku(r,e){let t=Bf(r(),r),s=r(),a=Bf(s,r),u=function j1(r,e){let t=Array(r);for(let s=0;s<r;s++)t[s]=1+e();return t}(s,r);for(let l=0;l<s;l++)for(let d=0;d<u[l];d++)t.push(a[l]+d);return e?t.map(l=>e[l]):t}function qf(r,e,t){let s=Array(r).fill(void 0).map(()=>[]);for(let a=0;a<e;a++)z1(r,t).forEach((u,l)=>s[l].push(u));return s}function K1(r,e){let t=1+e(),s=e(),a=function Z1(r){let e=[];for(;;){let t=r();if(0==t)break;e.push(t)}return e}(e);return Ff(qf(a.length,1+r,e).map((l,d)=>{const y=l[0],g=l.slice(1);return Array(a[d]).fill(void 0).map((w,I)=>{let O=I*s;return[y+I*t,g.map(F=>F+O)]})}))}function H1(r,e){return qf(1+e(),1+r,e).map(s=>[s[0],s.slice(1)])}const Uu=function V1(){return function k1(r){return function q1(r){let e=0;return()=>r[e++]}(function B1(r){let e=0;function t(){return r[e++]<<8|r[e++]}let s=t(),a=1,u=[0,1];for(let ve=1;ve<s;ve++)u.push(a+=t());let l=t(),d=e;e+=l;let y=0,g=0;function w(){return 0==y&&(g=g<<8|r[e++],y=8),g>>--y&1}const O=Math.pow(2,31),F=O>>>1,B=F>>1,H=O-1;let W=0;for(let ve=0;ve<31;ve++)W=W<<1|w();let le=[],Ie=0,Ae=O;for(;;){let ve=Math.floor(((W-Ie+1)*a-1)/Ae),xe=0,Fe=s;for(;Fe-xe>1;){let xn=xe+Fe>>>1;ve<u[xn]?Fe=xn:xe=xn}if(0==xe)break;le.push(xe);let Be=Ie+Math.floor(Ae*u[xe]/a),gt=Ie+Math.floor(Ae*u[xe+1]/a)-1;for(;!((Be^gt)&F);)W=W<<1&H|w(),Be=Be<<1&H,gt=gt<<1&H|1;for(;Be&~gt&B;)W=W&F|W<<1&H>>>1|w(),Be=Be<<1^F,gt=(gt^F)<<1|F|1;Ie=Be,Ae=1+gt-Be}let _e=s-4;return le.map(ve=>{switch(ve-_e){case 3:return _e+65792+(r[d++]<<16|r[d++]<<8|r[d++]);case 2:return _e+256+(r[d++]<<8|r[d++]);case 1:return _e+r[d++];default:return ve-1}})}(r))}(function D1(r){r=atob(r);const e=[];for(let t=0;t<r.length;t++)e.push(r.charCodeAt(t));return br(e)}("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}();new Set(ku(Uu)),new Set(ku(Uu)),function L1(r){let e=[];for(;;){let t=r();if(0==t)break;e.push(K1(t,r))}for(;;){let t=r()-1;if(t<0)break;e.push(H1(t,r))}(function F1(r){const e={};for(let t=0;t<r.length;t++){const s=r[t];e[s[0]]=s[1]}})(Ff(e))}(Uu),function $1(r){let e=ku(r).sort((s,a)=>s-a);(function t(){let s=[];for(;;){let g=ku(r,e);if(0==g.length)break;s.push({set:new Set(g),node:t()})}s.sort((g,w)=>w.set.size-g.set.size);let a=r(),u=a%3;a=a/3|0;let l=!!(1&a);return a>>=1,{branches:s,valid:u,fe0f:l,save:1==a,check:2==a}})()}(Uu),new Ve(Df),new Uint8Array(32).fill(0);const G1="\x19Ethereum Signed Message:\n";function kf(r){return"string"==typeof r&&(r=fl(r)),Fa(function al(r){const e=r.map(a=>br(a)),t=e.reduce((a,u)=>a+u.length,0),s=new Uint8Array(t);return e.reduce((a,u)=>(s.set(u,a),a+u.length),0),oo(s)}([fl(G1),fl(String(r.length)),r]))}new Ve("rlp/5.7.0");const ka=new Ve("address/5.7.0");function Uf(r){Jn(r,20)||ka.throwArgumentError("invalid address","address",r);const e=(r=r.toLowerCase()).substring(2).split(""),t=new Uint8Array(40);for(let a=0;a<40;a++)t[a]=e[a].charCodeAt(0);const s=br(Fa(t));for(let a=0;a<40;a+=2)s[a>>1]>>4>=8&&(e[a]=e[a].toUpperCase()),(15&s[a>>1])>=8&&(e[a+1]=e[a+1].toUpperCase());return"0x"+e.join("")}const pl={};for(let r=0;r<10;r++)pl[String(r)]=String(r);for(let r=0;r<26;r++)pl[String.fromCharCode(65+r)]=String(10+r);const jf=Math.floor(function Y1(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}(9007199254740991));function Ua(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}new Ve("properties/5.7.0"),new Ve(Df),new Uint8Array(32).fill(0),P.from(-1);const rm=P.from(0),nm=P.from(1);P.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),bn(nm.toHexString(),32),bn(rm.toHexString(),32);var os={},ut={},ja=zf;function zf(r,e){if(!r)throw new Error(e||"Assertion failed")}zf.equal=function(r,e,t){if(r!=e)throw new Error(t||"Assertion failed: "+r+" != "+e)};var gl={exports:{}};gl.exports="function"==typeof Object.create?function(r,e){e&&(r.super_=e,r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:function(r,e){if(e){r.super_=e;var t=function(){};t.prototype=e.prototype,r.prototype=new t,r.prototype.constructor=r}};var im=ja;function om(r,e){return!(55296!=(64512&r.charCodeAt(e))||e<0||e+1>=r.length)&&56320==(64512&r.charCodeAt(e+1))}function Lf(r){return(r>>>24|r>>>8&65280|r<<8&16711680|(255&r)<<24)>>>0}function Zf(r){return 1===r.length?"0"+r:r}function Kf(r){return 7===r.length?"0"+r:6===r.length?"00"+r:5===r.length?"000"+r:4===r.length?"0000"+r:3===r.length?"00000"+r:2===r.length?"000000"+r:1===r.length?"0000000"+r:r}ut.inherits=gl.exports,ut.toArray=function am(r,e){if(Array.isArray(r))return r.slice();if(!r)return[];var t=[];if("string"==typeof r)if(e){if("hex"===e)for((r=r.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(r="0"+r),a=0;a<r.length;a+=2)t.push(parseInt(r[a]+r[a+1],16))}else for(var s=0,a=0;a<r.length;a++){var u=r.charCodeAt(a);u<128?t[s++]=u:u<2048?(t[s++]=u>>6|192,t[s++]=63&u|128):om(r,a)?(u=65536+((1023&u)<<10)+(1023&r.charCodeAt(++a)),t[s++]=u>>18|240,t[s++]=u>>12&63|128,t[s++]=u>>6&63|128,t[s++]=63&u|128):(t[s++]=u>>12|224,t[s++]=u>>6&63|128,t[s++]=63&u|128)}else for(a=0;a<r.length;a++)t[a]=0|r[a];return t},ut.toHex=function um(r){for(var e="",t=0;t<r.length;t++)e+=Zf(r[t].toString(16));return e},ut.htonl=Lf,ut.toHex32=function cm(r,e){for(var t="",s=0;s<r.length;s++){var a=r[s];"little"===e&&(a=Lf(a)),t+=Kf(a.toString(16))}return t},ut.zero2=Zf,ut.zero8=Kf,ut.join32=function lm(r,e,t,s){var a=t-e;im(a%4==0);for(var u=new Array(a/4),l=0,d=e;l<u.length;l++,d+=4)u[l]=("big"===s?r[d]<<24|r[d+1]<<16|r[d+2]<<8|r[d+3]:r[d+3]<<24|r[d+2]<<16|r[d+1]<<8|r[d])>>>0;return u},ut.split32=function hm(r,e){for(var t=new Array(4*r.length),s=0,a=0;s<r.length;s++,a+=4){var u=r[s];"big"===e?(t[a]=u>>>24,t[a+1]=u>>>16&255,t[a+2]=u>>>8&255,t[a+3]=255&u):(t[a+3]=u>>>24,t[a+2]=u>>>16&255,t[a+1]=u>>>8&255,t[a]=255&u)}return t},ut.rotr32=function fm(r,e){return r>>>e|r<<32-e},ut.rotl32=function dm(r,e){return r<<e|r>>>32-e},ut.sum32=function pm(r,e){return r+e>>>0},ut.sum32_3=function gm(r,e,t){return r+e+t>>>0},ut.sum32_4=function mm(r,e,t,s){return r+e+t+s>>>0},ut.sum32_5=function vm(r,e,t,s,a){return r+e+t+s+a>>>0},ut.sum64=function ym(r,e,t,s){var l=s+r[e+1]>>>0;r[e]=(l<s?1:0)+t+r[e]>>>0,r[e+1]=l},ut.sum64_hi=function _m(r,e,t,s){return(e+s>>>0<e?1:0)+r+t>>>0},ut.sum64_lo=function bm(r,e,t,s){return e+s>>>0},ut.sum64_4_hi=function wm(r,e,t,s,a,u,l,d){var y=0,g=e;return y+=(g=g+s>>>0)<e?1:0,y+=(g=g+u>>>0)<u?1:0,r+t+a+l+(y+=(g=g+d>>>0)<d?1:0)>>>0},ut.sum64_4_lo=function Am(r,e,t,s,a,u,l,d){return e+s+u+d>>>0},ut.sum64_5_hi=function xm(r,e,t,s,a,u,l,d,y,g){var w=0,I=e;return w+=(I=I+s>>>0)<e?1:0,w+=(I=I+u>>>0)<u?1:0,w+=(I=I+d>>>0)<d?1:0,r+t+a+l+y+(w+=(I=I+g>>>0)<g?1:0)>>>0},ut.sum64_5_lo=function Em(r,e,t,s,a,u,l,d,y,g){return e+s+u+d+g>>>0},ut.rotr64_hi=function Im(r,e,t){return(e<<32-t|r>>>t)>>>0},ut.rotr64_lo=function Sm(r,e,t){return(r<<32-t|e>>>t)>>>0},ut.shr64_hi=function Mm(r,e,t){return r>>>t},ut.shr64_lo=function Pm(r,e,t){return(r<<32-t|e>>>t)>>>0};var Yo={},Hf=ut,Rm=ja;function ju(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Yo.BlockHash=ju,ju.prototype.update=function(r,e){if(r=Hf.toArray(r,e),this.pending=this.pending?this.pending.concat(r):r,this.pendingTotal+=r.length,this.pending.length>=this._delta8){var t=(r=this.pending).length%this._delta8;this.pending=r.slice(r.length-t,r.length),0===this.pending.length&&(this.pending=null),r=Hf.join32(r,0,r.length-t,this.endian);for(var s=0;s<r.length;s+=this._delta32)this._update(r,s,s+this._delta32)}return this},ju.prototype.digest=function(r){return this.update(this._pad()),Rm(null===this.pending),this._digest(r)},ju.prototype._pad=function(){var r=this.pendingTotal,e=this._delta8,t=e-(r+this.padLength)%e,s=new Array(t+this.padLength);s[0]=128;for(var a=1;a<t;a++)s[a]=0;if(r<<=3,"big"===this.endian){for(var u=8;u<this.padLength;u++)s[a++]=0;s[a++]=0,s[a++]=0,s[a++]=0,s[a++]=0,s[a++]=r>>>24&255,s[a++]=r>>>16&255,s[a++]=r>>>8&255,s[a++]=255&r}else for(s[a++]=255&r,s[a++]=r>>>8&255,s[a++]=r>>>16&255,s[a++]=r>>>24&255,s[a++]=0,s[a++]=0,s[a++]=0,s[a++]=0,u=8;u<this.padLength;u++)s[a++]=0;return s};var Xo={},as={},us=ut.rotr32;function $f(r,e,t){return r&e^~r&t}function Vf(r,e,t){return r&e^r&t^e&t}function Gf(r,e,t){return r^e^t}as.ft_1=function Nm(r,e,t,s){return 0===r?$f(e,t,s):1===r||3===r?Gf(e,t,s):2===r?Vf(e,t,s):void 0},as.ch32=$f,as.maj32=Vf,as.p32=Gf,as.s0_256=function Om(r){return us(r,2)^us(r,13)^us(r,22)},as.s1_256=function Tm(r){return us(r,6)^us(r,11)^us(r,25)},as.g0_256=function Dm(r){return us(r,7)^us(r,18)^r>>>3},as.g1_256=function Fm(r){return us(r,17)^us(r,19)^r>>>10};var ea=ut,ml=ea.rotl32,za=ea.sum32,km=ea.sum32_5,Um=as.ft_1,Jf=Yo.BlockHash,jm=[1518500249,1859775393,2400959708,3395469782];function cs(){if(!(this instanceof cs))return new cs;Jf.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}ea.inherits(cs,Jf);var zm=cs;cs.blockSize=512,cs.outSize=160,cs.hmacStrength=80,cs.padLength=64,cs.prototype._update=function(r,e){for(var t=this.W,s=0;s<16;s++)t[s]=r[e+s];for(;s<t.length;s++)t[s]=ml(t[s-3]^t[s-8]^t[s-14]^t[s-16],1);var a=this.h[0],u=this.h[1],l=this.h[2],d=this.h[3],y=this.h[4];for(s=0;s<t.length;s++){var g=~~(s/20),w=km(ml(a,5),Um(g,u,l,d),y,t[s],jm[g]);y=d,d=l,l=ml(u,30),u=a,a=w}this.h[0]=za(this.h[0],a),this.h[1]=za(this.h[1],u),this.h[2]=za(this.h[2],l),this.h[3]=za(this.h[3],d),this.h[4]=za(this.h[4],y)},cs.prototype._digest=function(r){return"hex"===r?ea.toHex32(this.h,"big"):ea.split32(this.h,"big")};var ta=ut,Zm=ja,Ki=ta.sum32,Km=ta.sum32_4,Hm=ta.sum32_5,$m=as.ch32,Vm=as.maj32,Gm=as.s0_256,Jm=as.s1_256,Wm=as.g0_256,Qm=as.g1_256,Wf=Yo.BlockHash,Ym=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ls(){if(!(this instanceof ls))return new ls;Wf.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Ym,this.W=new Array(64)}ta.inherits(ls,Wf);var Qf=ls;ls.blockSize=512,ls.outSize=256,ls.hmacStrength=192,ls.padLength=64,ls.prototype._update=function(r,e){for(var t=this.W,s=0;s<16;s++)t[s]=r[e+s];for(;s<t.length;s++)t[s]=Km(Qm(t[s-2]),t[s-7],Wm(t[s-15]),t[s-16]);var a=this.h[0],u=this.h[1],l=this.h[2],d=this.h[3],y=this.h[4],g=this.h[5],w=this.h[6],I=this.h[7];for(Zm(this.k.length===t.length),s=0;s<t.length;s++){var O=Hm(I,Jm(y),$m(y,g,w),this.k[s],t[s]),F=Ki(Gm(a),Vm(a,u,l));I=w,w=g,g=y,y=Ki(d,O),d=l,l=u,u=a,a=Ki(O,F)}this.h[0]=Ki(this.h[0],a),this.h[1]=Ki(this.h[1],u),this.h[2]=Ki(this.h[2],l),this.h[3]=Ki(this.h[3],d),this.h[4]=Ki(this.h[4],y),this.h[5]=Ki(this.h[5],g),this.h[6]=Ki(this.h[6],w),this.h[7]=Ki(this.h[7],I)},ls.prototype._digest=function(r){return"hex"===r?ta.toHex32(this.h,"big"):ta.split32(this.h,"big")};var vl=ut,Yf=Qf;function Fs(){if(!(this instanceof Fs))return new Fs;Yf.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}vl.inherits(Fs,Yf);var Xm=Fs;Fs.blockSize=512,Fs.outSize=224,Fs.hmacStrength=192,Fs.padLength=64,Fs.prototype._digest=function(r){return"hex"===r?vl.toHex32(this.h.slice(0,7),"big"):vl.split32(this.h.slice(0,7),"big")};var ui=ut,tv=ja,hs=ui.rotr64_hi,fs=ui.rotr64_lo,Xf=ui.shr64_hi,ed=ui.shr64_lo,ao=ui.sum64,yl=ui.sum64_hi,_l=ui.sum64_lo,rv=ui.sum64_4_hi,nv=ui.sum64_4_lo,iv=ui.sum64_5_hi,sv=ui.sum64_5_lo,td=Yo.BlockHash,ov=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Hi(){if(!(this instanceof Hi))return new Hi;td.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=ov,this.W=new Array(160)}ui.inherits(Hi,td);var rd=Hi;function av(r,e,t,s,a){var u=r&t^~r&a;return u<0&&(u+=4294967296),u}function uv(r,e,t,s,a,u){var l=e&s^~e&u;return l<0&&(l+=4294967296),l}function cv(r,e,t,s,a){var u=r&t^r&a^t&a;return u<0&&(u+=4294967296),u}function lv(r,e,t,s,a,u){var l=e&s^e&u^s&u;return l<0&&(l+=4294967296),l}function hv(r,e){var u=hs(r,e,28)^hs(e,r,2)^hs(e,r,7);return u<0&&(u+=4294967296),u}function fv(r,e){var u=fs(r,e,28)^fs(e,r,2)^fs(e,r,7);return u<0&&(u+=4294967296),u}function dv(r,e){var u=hs(r,e,14)^hs(r,e,18)^hs(e,r,9);return u<0&&(u+=4294967296),u}function pv(r,e){var u=fs(r,e,14)^fs(r,e,18)^fs(e,r,9);return u<0&&(u+=4294967296),u}function gv(r,e){var u=hs(r,e,1)^hs(r,e,8)^Xf(r,e,7);return u<0&&(u+=4294967296),u}function mv(r,e){var u=fs(r,e,1)^fs(r,e,8)^ed(r,e,7);return u<0&&(u+=4294967296),u}function vv(r,e){var u=hs(r,e,19)^hs(e,r,29)^Xf(r,e,6);return u<0&&(u+=4294967296),u}function yv(r,e){var u=fs(r,e,19)^fs(e,r,29)^ed(r,e,6);return u<0&&(u+=4294967296),u}Hi.blockSize=1024,Hi.outSize=512,Hi.hmacStrength=192,Hi.padLength=128,Hi.prototype._prepareBlock=function(r,e){for(var t=this.W,s=0;s<32;s++)t[s]=r[e+s];for(;s<t.length;s+=2){var a=vv(t[s-4],t[s-3]),u=yv(t[s-4],t[s-3]),l=t[s-14],d=t[s-13],y=gv(t[s-30],t[s-29]),g=mv(t[s-30],t[s-29]),w=t[s-32],I=t[s-31];t[s]=rv(a,u,l,d,y,g,w,I),t[s+1]=nv(a,u,l,d,y,g,w,I)}},Hi.prototype._update=function(r,e){this._prepareBlock(r,e);var t=this.W,s=this.h[0],a=this.h[1],u=this.h[2],l=this.h[3],d=this.h[4],y=this.h[5],g=this.h[6],w=this.h[7],I=this.h[8],O=this.h[9],F=this.h[10],B=this.h[11],H=this.h[12],W=this.h[13],le=this.h[14],Ie=this.h[15];tv(this.k.length===t.length);for(var Ae=0;Ae<t.length;Ae+=2){var _e=le,ve=Ie,xe=dv(I,O),Fe=pv(I,O),Be=av(I,0,F,0,H),gt=uv(0,O,0,B,0,W),xn=this.k[Ae],pt=this.k[Ae+1],En=t[Ae],f=t[Ae+1],_=iv(_e,ve,xe,Fe,Be,gt,xn,pt,En,f),x=sv(_e,ve,xe,Fe,Be,gt,xn,pt,En,f);_e=hv(s,a),ve=fv(s,a),xe=cv(s,0,u,0,d),Fe=lv(0,a,0,l,0,y);var R=yl(_e,ve,xe,Fe),T=_l(_e,ve,xe,Fe);le=H,Ie=W,H=F,W=B,F=I,B=O,I=yl(g,w,_,x),O=_l(w,w,_,x),g=d,w=y,d=u,y=l,u=s,l=a,s=yl(_,x,R,T),a=_l(_,x,R,T)}ao(this.h,0,s,a),ao(this.h,2,u,l),ao(this.h,4,d,y),ao(this.h,6,g,w),ao(this.h,8,I,O),ao(this.h,10,F,B),ao(this.h,12,H,W),ao(this.h,14,le,Ie)},Hi.prototype._digest=function(r){return"hex"===r?ui.toHex32(this.h,"big"):ui.split32(this.h,"big")};var bl=ut,nd=rd;function Bs(){if(!(this instanceof Bs))return new Bs;nd.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}bl.inherits(Bs,nd);var _v=Bs;Bs.blockSize=1024,Bs.outSize=384,Bs.hmacStrength=192,Bs.padLength=128,Bs.prototype._digest=function(r){return"hex"===r?bl.toHex32(this.h.slice(0,12),"big"):bl.split32(this.h.slice(0,12),"big")},Xo.sha1=zm,Xo.sha224=Xm,Xo.sha256=Qf,Xo.sha384=_v,Xo.sha512=rd;var id={},Co=ut,zu=Co.rotl32,sd=Co.sum32,La=Co.sum32_3,od=Co.sum32_4,ad=Yo.BlockHash;function ds(){if(!(this instanceof ds))return new ds;ad.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function ud(r,e,t,s){return r<=15?e^t^s:r<=31?e&t|~e&s:r<=47?(e|~t)^s:r<=63?e&s|t&~s:e^(t|~s)}function wv(r){return r<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838}function Av(r){return r<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0}Co.inherits(ds,ad),id.ripemd160=ds,ds.blockSize=512,ds.outSize=160,ds.hmacStrength=192,ds.padLength=64,ds.prototype._update=function(r,e){for(var t=this.h[0],s=this.h[1],a=this.h[2],u=this.h[3],l=this.h[4],d=t,y=s,g=a,w=u,I=l,O=0;O<80;O++){var F=sd(zu(od(t,ud(O,s,a,u),r[xv[O]+e],wv(O)),Iv[O]),l);t=l,l=u,u=zu(a,10),a=s,s=F,F=sd(zu(od(d,ud(79-O,y,g,w),r[Ev[O]+e],Av(O)),Sv[O]),I),d=I,I=w,w=zu(g,10),g=y,y=F}F=La(this.h[1],a,w),this.h[1]=La(this.h[2],u,I),this.h[2]=La(this.h[3],l,d),this.h[3]=La(this.h[4],t,y),this.h[4]=La(this.h[0],s,g),this.h[0]=F},ds.prototype._digest=function(r){return"hex"===r?Co.toHex32(this.h,"little"):Co.split32(this.h,"little")};var xv=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Ev=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Iv=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Sv=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Mv=ut,Pv=ja;function na(r,e,t){if(!(this instanceof na))return new na(r,e,t);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(Mv.toArray(e,t))}var Rv=na;function ia(r,e,t){return r(t={path:e,exports:{},require:function(s,a){return function Cv(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},t.exports),t.exports}na.prototype._init=function(r){r.length>this.blockSize&&(r=(new this.Hash).update(r).digest()),Pv(r.length<=this.blockSize);for(var e=r.length;e<this.blockSize;e++)r.push(0);for(e=0;e<r.length;e++)r[e]^=54;for(this.inner=(new this.Hash).update(r),e=0;e<r.length;e++)r[e]^=106;this.outer=(new this.Hash).update(r)},na.prototype.update=function(r,e){return this.inner.update(r,e),this},na.prototype.digest=function(r){return this.outer.update(this.inner.digest()),this.outer.digest(r)},function(r){var e=r;e.utils=ut,e.common=Yo,e.sha=Xo,e.ripemd=id,e.hmac=Rv,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(os);var wl=cd;function cd(r,e){if(!r)throw new Error(e||"Assertion failed")}cd.equal=function(r,e,t){if(r!=e)throw new Error(t||"Assertion failed: "+r+" != "+e)};var $i=ia(function(r,e){var t=e;function a(l){return 1===l.length?"0"+l:l}function u(l){for(var d="",y=0;y<l.length;y++)d+=a(l[y].toString(16));return d}t.toArray=function s(l,d){if(Array.isArray(l))return l.slice();if(!l)return[];var y=[];if("string"!=typeof l){for(var g=0;g<l.length;g++)y[g]=0|l[g];return y}if("hex"===d)for((l=l.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(l="0"+l),g=0;g<l.length;g+=2)y.push(parseInt(l[g]+l[g+1],16));else for(g=0;g<l.length;g++){var w=l.charCodeAt(g),I=w>>8,O=255&w;I?y.push(I,O):y.push(O)}return y},t.zero2=a,t.toHex=u,t.encode=function(l,d){return"hex"===d?u(l):l}}),Ai=ia(function(r,e){var t=e;t.assert=wl,t.toArray=$i.toArray,t.zero2=$i.zero2,t.toHex=$i.toHex,t.encode=$i.encode,t.getNAF=function s(y,g,w){var I=new Array(Math.max(y.bitLength(),w)+1);I.fill(0);for(var O=1<<g+1,F=y.clone(),B=0;B<I.length;B++){var H,W=F.andln(O-1);F.isOdd()?F.isubn(H=W>(O>>1)-1?(O>>1)-W:W):H=0,I[B]=H,F.iushrn(1)}return I},t.getJSF=function a(y,g){var w=[[],[]];y=y.clone(),g=g.clone();for(var F,I=0,O=0;y.cmpn(-I)>0||g.cmpn(-O)>0;){var W,le,B=y.andln(3)+I&3,H=g.andln(3)+O&3;3===B&&(B=-1),3===H&&(H=-1),W=1&B?3!=(F=y.andln(7)+I&7)&&5!==F||2!==H?B:-B:0,w[0].push(W),le=1&H?3!=(F=g.andln(7)+O&7)&&5!==F||2!==B?H:-H:0,w[1].push(le),2*I===W+1&&(I=1-I),2*O===le+1&&(O=1-O),y.iushrn(1),g.iushrn(1)}return w},t.cachedProperty=function u(y,g,w){var I="_"+g;y.prototype[g]=function(){return void 0!==this[I]?this[I]:this[I]=w.call(this)}},t.parseBytes=function l(y){return"string"==typeof y?t.toArray(y,"hex"):y},t.intFromLE=function d(y){return new Le(y,"hex","le")}}),Lu=Ai.getNAF,Nv=Ai.getJSF,Zu=Ai.assert;function uo(r,e){this.type=r,this.p=new Le(e.p,16),this.red=e.prime?Le.red(e.prime):Le.mont(this.p),this.zero=new Le(0).toRed(this.red),this.one=new Le(1).toRed(this.red),this.two=new Le(2).toRed(this.red),this.n=e.n&&new Le(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var No=uo;function Ni(r,e){this.curve=r,this.type=e,this.precomputed=null}uo.prototype.point=function(){throw new Error("Not implemented")},uo.prototype.validate=function(){throw new Error("Not implemented")},uo.prototype._fixedNafMul=function(r,e){Zu(r.precomputed);var t=r._getDoubles(),s=Lu(e,1,this._bitLength),a=(1<<t.step+1)-(t.step%2==0?2:1);a/=3;var l,d,u=[];for(l=0;l<s.length;l+=t.step){d=0;for(var y=l+t.step-1;y>=l;y--)d=(d<<1)+s[y];u.push(d)}for(var g=this.jpoint(null,null,null),w=this.jpoint(null,null,null),I=a;I>0;I--){for(l=0;l<u.length;l++)(d=u[l])===I?w=w.mixedAdd(t.points[l]):d===-I&&(w=w.mixedAdd(t.points[l].neg()));g=g.add(w)}return g.toP()},uo.prototype._wnafMul=function(r,e){for(var t=4,s=r._getNAFPoints(t),a=s.points,u=Lu(e,t=s.wnd,this._bitLength),l=this.jpoint(null,null,null),d=u.length-1;d>=0;d--){for(var y=0;d>=0&&0===u[d];d--)y++;if(d>=0&&y++,l=l.dblp(y),d<0)break;var g=u[d];Zu(0!==g),l="affine"===r.type?l.mixedAdd(g>0?a[g-1>>1]:a[-g-1>>1].neg()):l.add(g>0?a[g-1>>1]:a[-g-1>>1].neg())}return"affine"===r.type?l.toP():l},uo.prototype._wnafMulAdd=function(r,e,t,s,a){var g,w,I,u=this._wnafT1,l=this._wnafT2,d=this._wnafT3,y=0;for(g=0;g<s;g++){var O=(I=e[g])._getNAFPoints(r);u[g]=O.wnd,l[g]=O.points}for(g=s-1;g>=1;g-=2){var F=g-1,B=g;if(1===u[F]&&1===u[B]){var H=[e[F],null,null,e[B]];0===e[F].y.cmp(e[B].y)?(H[1]=e[F].add(e[B]),H[2]=e[F].toJ().mixedAdd(e[B].neg())):0===e[F].y.cmp(e[B].y.redNeg())?(H[1]=e[F].toJ().mixedAdd(e[B]),H[2]=e[F].add(e[B].neg())):(H[1]=e[F].toJ().mixedAdd(e[B]),H[2]=e[F].toJ().mixedAdd(e[B].neg()));var W=[-3,-1,-5,-7,0,7,5,1,3],le=Nv(t[F],t[B]);for(y=Math.max(le[0].length,y),d[F]=new Array(y),d[B]=new Array(y),w=0;w<y;w++)d[F][w]=W[3*(1+(0|le[0][w]))+(1+(0|le[1][w]))],d[B][w]=0,l[F]=H}else d[F]=Lu(t[F],u[F],this._bitLength),d[B]=Lu(t[B],u[B],this._bitLength),y=Math.max(d[F].length,y),y=Math.max(d[B].length,y)}var _e=this.jpoint(null,null,null),ve=this._wnafT4;for(g=y;g>=0;g--){for(var xe=0;g>=0;){var Fe=!0;for(w=0;w<s;w++)ve[w]=0|d[w][g],0!==ve[w]&&(Fe=!1);if(!Fe)break;xe++,g--}if(g>=0&&xe++,_e=_e.dblp(xe),g<0)break;for(w=0;w<s;w++){var Be=ve[w];0!==Be&&(Be>0?I=l[w][Be-1>>1]:Be<0&&(I=l[w][-Be-1>>1].neg()),_e="affine"===I.type?_e.mixedAdd(I):_e.add(I))}}for(g=0;g<s;g++)l[g]=null;return a?_e:_e.toP()},uo.BasePoint=Ni,Ni.prototype.eq=function(){throw new Error("Not implemented")},Ni.prototype.validate=function(){return this.curve.validate(this)},uo.prototype.decodePoint=function(r,e){r=Ai.toArray(r,e);var t=this.p.byteLength();if((4===r[0]||6===r[0]||7===r[0])&&r.length-1==2*t)return 6===r[0]?Zu(r[r.length-1]%2==0):7===r[0]&&Zu(r[r.length-1]%2==1),this.point(r.slice(1,1+t),r.slice(1+t,1+2*t));if((2===r[0]||3===r[0])&&r.length-1===t)return this.pointFromX(r.slice(1,1+t),3===r[0]);throw new Error("Unknown point format")},Ni.prototype.encodeCompressed=function(r){return this.encode(r,!0)},Ni.prototype._encode=function(r){var e=this.curve.p.byteLength(),t=this.getX().toArray("be",e);return r?[this.getY().isEven()?2:3].concat(t):[4].concat(t,this.getY().toArray("be",e))},Ni.prototype.encode=function(r,e){return Ai.encode(this._encode(e),r)},Ni.prototype.precompute=function(r){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,r),e.beta=this._getBeta(),this.precomputed=e,this},Ni.prototype._hasDoubles=function(r){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((r.bitLength()+1)/e.step)},Ni.prototype._getDoubles=function(r,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var t=[this],s=this,a=0;a<e;a+=r){for(var u=0;u<r;u++)s=s.dbl();t.push(s)}return{step:r,points:t}},Ni.prototype._getNAFPoints=function(r){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],t=(1<<r)-1,s=1===t?null:this.dbl(),a=1;a<t;a++)e[a]=e[a-1].add(s);return{wnd:r,points:e}},Ni.prototype._getBeta=function(){return null},Ni.prototype.dblp=function(r){for(var e=this,t=0;t<r;t++)e=e.dbl();return e};var Al=ia(function(r){r.exports="function"==typeof Object.create?function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:function(e,t){if(t){e.super_=t;var s=function(){};s.prototype=t.prototype,e.prototype=new s,e.prototype.constructor=e}}}),Ov=Ai.assert;function Oi(r){No.call(this,"short",r),this.a=new Le(r.a,16).toRed(this.red),this.b=new Le(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Al(Oi,No);var Tv=Oi;function wn(r,e,t,s){No.BasePoint.call(this,r,"affine"),null===e&&null===t?(this.x=null,this.y=null,this.inf=!0):(this.x=new Le(e,16),this.y=new Le(t,16),s&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function On(r,e,t,s){No.BasePoint.call(this,r,"jacobian"),null===e&&null===t&&null===s?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Le(0)):(this.x=new Le(e,16),this.y=new Le(t,16),this.z=new Le(s,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Oi.prototype._getEndomorphism=function(r){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,t;if(r.beta)e=new Le(r.beta,16).toRed(this.red);else{var s=this._getEndoRoots(this.p);e=(e=s[0].cmp(s[1])<0?s[0]:s[1]).toRed(this.red)}if(r.lambda)t=new Le(r.lambda,16);else{var a=this._getEndoRoots(this.n);0===this.g.mul(a[0]).x.cmp(this.g.x.redMul(e))?t=a[0]:Ov(0===this.g.mul(t=a[1]).x.cmp(this.g.x.redMul(e)))}return{beta:e,lambda:t,basis:r.basis?r.basis.map(function(l){return{a:new Le(l.a,16),b:new Le(l.b,16)}}):this._getEndoBasis(t)}}},Oi.prototype._getEndoRoots=function(r){var e=r===this.p?this.red:Le.mont(r),t=new Le(2).toRed(e).redInvm(),s=t.redNeg(),a=new Le(3).toRed(e).redNeg().redSqrt().redMul(t);return[s.redAdd(a).fromRed(),s.redSub(a).fromRed()]},Oi.prototype._getEndoBasis=function(r){for(var y,g,w,I,O,F,B,W,le,e=this.n.ushrn(Math.floor(this.n.bitLength()/2)),t=r,s=this.n.clone(),a=new Le(1),u=new Le(0),l=new Le(0),d=new Le(1),H=0;0!==t.cmpn(0);){var Ie=s.div(t);W=s.sub(Ie.mul(t)),le=l.sub(Ie.mul(a));var Ae=d.sub(Ie.mul(u));if(!w&&W.cmp(e)<0)y=B.neg(),g=a,w=W.neg(),I=le;else if(w&&2==++H)break;B=W,s=t,t=W,l=a,a=le,d=u,u=Ae}O=W.neg(),F=le;var _e=w.sqr().add(I.sqr());return O.sqr().add(F.sqr()).cmp(_e)>=0&&(O=y,F=g),w.negative&&(w=w.neg(),I=I.neg()),O.negative&&(O=O.neg(),F=F.neg()),[{a:w,b:I},{a:O,b:F}]},Oi.prototype._endoSplit=function(r){var e=this.endo.basis,t=e[0],s=e[1],a=s.b.mul(r).divRound(this.n),u=t.b.neg().mul(r).divRound(this.n),l=a.mul(t.a),d=u.mul(s.a),y=a.mul(t.b),g=u.mul(s.b);return{k1:r.sub(l).sub(d),k2:y.add(g).neg()}},Oi.prototype.pointFromX=function(r,e){(r=new Le(r,16)).red||(r=r.toRed(this.red));var t=r.redSqr().redMul(r).redIAdd(r.redMul(this.a)).redIAdd(this.b),s=t.redSqrt();if(0!==s.redSqr().redSub(t).cmp(this.zero))throw new Error("invalid point");var a=s.fromRed().isOdd();return(e&&!a||!e&&a)&&(s=s.redNeg()),this.point(r,s)},Oi.prototype.validate=function(r){if(r.inf)return!0;var e=r.x,t=r.y,s=this.a.redMul(e),a=e.redSqr().redMul(e).redIAdd(s).redIAdd(this.b);return 0===t.redSqr().redISub(a).cmpn(0)},Oi.prototype._endoWnafMulAdd=function(r,e,t){for(var s=this._endoWnafT1,a=this._endoWnafT2,u=0;u<r.length;u++){var l=this._endoSplit(e[u]),d=r[u],y=d._getBeta();l.k1.negative&&(l.k1.ineg(),d=d.neg(!0)),l.k2.negative&&(l.k2.ineg(),y=y.neg(!0)),s[2*u]=d,s[2*u+1]=y,a[2*u]=l.k1,a[2*u+1]=l.k2}for(var g=this._wnafMulAdd(1,s,a,2*u,t),w=0;w<2*u;w++)s[w]=null,a[w]=null;return g},Al(wn,No.BasePoint),Oi.prototype.point=function(r,e,t){return new wn(this,r,e,t)},Oi.prototype.pointFromJSON=function(r,e){return wn.fromJSON(this,r,e)},wn.prototype._getBeta=function(){if(this.curve.endo){var r=this.precomputed;if(r&&r.beta)return r.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(r){var t=this.curve,s=function(a){return t.point(a.x.redMul(t.endo.beta),a.y)};r.beta=e,e.precomputed={beta:null,naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(s)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(s)}}}return e}},wn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},wn.fromJSON=function(r,e,t){"string"==typeof e&&(e=JSON.parse(e));var s=r.point(e[0],e[1],t);if(!e[2])return s;function a(l){return r.point(l[0],l[1],t)}var u=e[2];return s.precomputed={beta:null,doubles:u.doubles&&{step:u.doubles.step,points:[s].concat(u.doubles.points.map(a))},naf:u.naf&&{wnd:u.naf.wnd,points:[s].concat(u.naf.points.map(a))}},s},wn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},wn.prototype.isInfinity=function(){return this.inf},wn.prototype.add=function(r){if(this.inf)return r;if(r.inf)return this;if(this.eq(r))return this.dbl();if(this.neg().eq(r))return this.curve.point(null,null);if(0===this.x.cmp(r.x))return this.curve.point(null,null);var e=this.y.redSub(r.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(r.x).redInvm()));var t=e.redSqr().redISub(this.x).redISub(r.x),s=e.redMul(this.x.redSub(t)).redISub(this.y);return this.curve.point(t,s)},wn.prototype.dbl=function(){if(this.inf)return this;var r=this.y.redAdd(this.y);if(0===r.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,t=this.x.redSqr(),s=r.redInvm(),a=t.redAdd(t).redIAdd(t).redIAdd(e).redMul(s),u=a.redSqr().redISub(this.x.redAdd(this.x)),l=a.redMul(this.x.redSub(u)).redISub(this.y);return this.curve.point(u,l)},wn.prototype.getX=function(){return this.x.fromRed()},wn.prototype.getY=function(){return this.y.fromRed()},wn.prototype.mul=function(r){return r=new Le(r,16),this.isInfinity()?this:this._hasDoubles(r)?this.curve._fixedNafMul(this,r):this.curve.endo?this.curve._endoWnafMulAdd([this],[r]):this.curve._wnafMul(this,r)},wn.prototype.mulAdd=function(r,e,t){var s=[this,e],a=[r,t];return this.curve.endo?this.curve._endoWnafMulAdd(s,a):this.curve._wnafMulAdd(1,s,a,2)},wn.prototype.jmulAdd=function(r,e,t){var s=[this,e],a=[r,t];return this.curve.endo?this.curve._endoWnafMulAdd(s,a,!0):this.curve._wnafMulAdd(1,s,a,2,!0)},wn.prototype.eq=function(r){return this===r||this.inf===r.inf&&(this.inf||0===this.x.cmp(r.x)&&0===this.y.cmp(r.y))},wn.prototype.neg=function(r){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(r&&this.precomputed){var t=this.precomputed,s=function(a){return a.neg()};e.precomputed={naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(s)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(s)}}}return e},wn.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Al(On,No.BasePoint),Oi.prototype.jpoint=function(r,e,t){return new On(this,r,e,t)},On.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var r=this.z.redInvm(),e=r.redSqr(),t=this.x.redMul(e),s=this.y.redMul(e).redMul(r);return this.curve.point(t,s)},On.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},On.prototype.add=function(r){if(this.isInfinity())return r;if(r.isInfinity())return this;var e=r.z.redSqr(),t=this.z.redSqr(),s=this.x.redMul(e),a=r.x.redMul(t),u=this.y.redMul(e.redMul(r.z)),l=r.y.redMul(t.redMul(this.z)),d=s.redSub(a),y=u.redSub(l);if(0===d.cmpn(0))return 0!==y.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var g=d.redSqr(),w=g.redMul(d),I=s.redMul(g),O=y.redSqr().redIAdd(w).redISub(I).redISub(I),F=y.redMul(I.redISub(O)).redISub(u.redMul(w)),B=this.z.redMul(r.z).redMul(d);return this.curve.jpoint(O,F,B)},On.prototype.mixedAdd=function(r){if(this.isInfinity())return r.toJ();if(r.isInfinity())return this;var e=this.z.redSqr(),t=this.x,s=r.x.redMul(e),a=this.y,u=r.y.redMul(e).redMul(this.z),l=t.redSub(s),d=a.redSub(u);if(0===l.cmpn(0))return 0!==d.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var y=l.redSqr(),g=y.redMul(l),w=t.redMul(y),I=d.redSqr().redIAdd(g).redISub(w).redISub(w),O=d.redMul(w.redISub(I)).redISub(a.redMul(g)),F=this.z.redMul(l);return this.curve.jpoint(I,O,F)},On.prototype.dblp=function(r){if(0===r)return this;if(this.isInfinity())return this;if(!r)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var t=this;for(e=0;e<r;e++)t=t.dbl();return t}var s=this.curve.a,a=this.curve.tinv,u=this.x,l=this.y,d=this.z,y=d.redSqr().redSqr(),g=l.redAdd(l);for(e=0;e<r;e++){var w=u.redSqr(),I=g.redSqr(),O=I.redSqr(),F=w.redAdd(w).redIAdd(w).redIAdd(s.redMul(y)),B=u.redMul(I),H=F.redSqr().redISub(B.redAdd(B)),W=B.redISub(H),le=F.redMul(W);le=le.redIAdd(le).redISub(O);var Ie=g.redMul(d);e+1<r&&(y=y.redMul(O)),u=H,d=Ie,g=le}return this.curve.jpoint(u,g.redMul(a),d)},On.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},On.prototype._zeroDbl=function(){var r,e,t;if(this.zOne){var s=this.x.redSqr(),a=this.y.redSqr(),u=a.redSqr(),l=this.x.redAdd(a).redSqr().redISub(s).redISub(u);l=l.redIAdd(l);var d=s.redAdd(s).redIAdd(s),y=d.redSqr().redISub(l).redISub(l),g=u.redIAdd(u);g=(g=g.redIAdd(g)).redIAdd(g),r=y,e=d.redMul(l.redISub(y)).redISub(g),t=this.y.redAdd(this.y)}else{var w=this.x.redSqr(),I=this.y.redSqr(),O=I.redSqr(),F=this.x.redAdd(I).redSqr().redISub(w).redISub(O);F=F.redIAdd(F);var B=w.redAdd(w).redIAdd(w),H=B.redSqr(),W=O.redIAdd(O);W=(W=W.redIAdd(W)).redIAdd(W),r=H.redISub(F).redISub(F),e=B.redMul(F.redISub(r)).redISub(W),t=(t=this.y.redMul(this.z)).redIAdd(t)}return this.curve.jpoint(r,e,t)},On.prototype._threeDbl=function(){var r,e,t;if(this.zOne){var s=this.x.redSqr(),a=this.y.redSqr(),u=a.redSqr(),l=this.x.redAdd(a).redSqr().redISub(s).redISub(u);l=l.redIAdd(l);var d=s.redAdd(s).redIAdd(s).redIAdd(this.curve.a),y=d.redSqr().redISub(l).redISub(l);r=y;var g=u.redIAdd(u);g=(g=g.redIAdd(g)).redIAdd(g),e=d.redMul(l.redISub(y)).redISub(g),t=this.y.redAdd(this.y)}else{var w=this.z.redSqr(),I=this.y.redSqr(),O=this.x.redMul(I),F=this.x.redSub(w).redMul(this.x.redAdd(w));F=F.redAdd(F).redIAdd(F);var B=O.redIAdd(O),H=(B=B.redIAdd(B)).redAdd(B);r=F.redSqr().redISub(H),t=this.y.redAdd(this.z).redSqr().redISub(I).redISub(w);var W=I.redSqr();W=(W=(W=W.redIAdd(W)).redIAdd(W)).redIAdd(W),e=F.redMul(B.redISub(r)).redISub(W)}return this.curve.jpoint(r,e,t)},On.prototype._dbl=function(){var r=this.curve.a,e=this.x,t=this.y,s=this.z,a=s.redSqr().redSqr(),u=e.redSqr(),l=t.redSqr(),d=u.redAdd(u).redIAdd(u).redIAdd(r.redMul(a)),y=e.redAdd(e),g=(y=y.redIAdd(y)).redMul(l),w=d.redSqr().redISub(g.redAdd(g)),I=g.redISub(w),O=l.redSqr();O=(O=(O=O.redIAdd(O)).redIAdd(O)).redIAdd(O);var F=d.redMul(I).redISub(O),B=t.redAdd(t).redMul(s);return this.curve.jpoint(w,F,B)},On.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var r=this.x.redSqr(),e=this.y.redSqr(),t=this.z.redSqr(),s=e.redSqr(),a=r.redAdd(r).redIAdd(r),u=a.redSqr(),l=this.x.redAdd(e).redSqr().redISub(r).redISub(s),d=(l=(l=(l=l.redIAdd(l)).redAdd(l).redIAdd(l)).redISub(u)).redSqr(),y=s.redIAdd(s);y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y);var g=a.redIAdd(l).redSqr().redISub(u).redISub(d).redISub(y),w=e.redMul(g);w=(w=w.redIAdd(w)).redIAdd(w);var I=this.x.redMul(d).redISub(w);I=(I=I.redIAdd(I)).redIAdd(I);var O=this.y.redMul(g.redMul(y.redISub(g)).redISub(l.redMul(d)));O=(O=(O=O.redIAdd(O)).redIAdd(O)).redIAdd(O);var F=this.z.redAdd(l).redSqr().redISub(t).redISub(d);return this.curve.jpoint(I,O,F)},On.prototype.mul=function(r,e){return r=new Le(r,e),this.curve._wnafMul(this,r)},On.prototype.eq=function(r){if("affine"===r.type)return this.eq(r.toJ());if(this===r)return!0;var e=this.z.redSqr(),t=r.z.redSqr();if(0!==this.x.redMul(t).redISub(r.x.redMul(e)).cmpn(0))return!1;var s=e.redMul(this.z),a=t.redMul(r.z);return 0===this.y.redMul(a).redISub(r.y.redMul(s)).cmpn(0)},On.prototype.eqXToP=function(r){var e=this.z.redSqr(),t=r.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(t))return!0;for(var s=r.clone(),a=this.curve.redN.redMul(e);;){if(s.iadd(this.curve.n),s.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(a),0===this.x.cmp(t))return!0}},On.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},On.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Ku=ia(function(r,e){var t=e;t.base=No,t.short=Tv,t.mont=null,t.edwards=null}),Hu=ia(function(r,e){var l,t=e,s=Ai.assert;function a(d){this.curve="short"===d.type?new Ku.short(d):"edwards"===d.type?new Ku.edwards(d):new Ku.mont(d),this.g=this.curve.g,this.n=this.curve.n,this.hash=d.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(d,y){Object.defineProperty(t,d,{configurable:!0,enumerable:!0,get:function(){var g=new a(y);return Object.defineProperty(t,d,{configurable:!0,enumerable:!0,value:g}),g}})}t.PresetCurve=a,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:os.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:os.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:os.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:os.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:os.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:os.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:os.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{l=null.crash()}catch{l=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:os.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",l]})});function co(r){if(!(this instanceof co))return new co(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=$i.toArray(r.entropy,r.entropyEnc||"hex"),t=$i.toArray(r.nonce,r.nonceEnc||"hex"),s=$i.toArray(r.pers,r.persEnc||"hex");wl(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,s)}var ld=co;co.prototype._init=function(r,e,t){var s=r.concat(e).concat(t);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(s),this._reseed=1,this.reseedInterval=281474976710656},co.prototype._hmac=function(){return new os.hmac(this.hash,this.K)},co.prototype._update=function(r){var e=this._hmac().update(this.V).update([0]);r&&(e=e.update(r)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),r&&(this.K=this._hmac().update(this.V).update([1]).update(r).digest(),this.V=this._hmac().update(this.V).digest())},co.prototype.reseed=function(r,e,t,s){"string"!=typeof e&&(s=t,t=e,e=null),r=$i.toArray(r,e),t=$i.toArray(t,s),wl(r.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(r.concat(t||[])),this._reseed=1},co.prototype.generate=function(r,e,t,s){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(s=t,t=e,e=null),t&&(t=$i.toArray(t,s||"hex"),this._update(t));for(var a=[];a.length<r;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var u=a.slice(0,r);return this._update(t),this._reseed++,$i.encode(u,e)};var xl=Ai.assert;function Ln(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var El=Ln;Ln.fromPublic=function(r,e,t){return e instanceof Ln?e:new Ln(r,{pub:e,pubEnc:t})},Ln.fromPrivate=function(r,e,t){return e instanceof Ln?e:new Ln(r,{priv:e,privEnc:t})},Ln.prototype.validate=function(){var r=this.getPublic();return r.isInfinity()?{result:!1,reason:"Invalid public key"}:r.validate()?r.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Ln.prototype.getPublic=function(r,e){return"string"==typeof r&&(e=r,r=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,r):this.pub},Ln.prototype.getPrivate=function(r){return"hex"===r?this.priv.toString(16,2):this.priv},Ln.prototype._importPrivate=function(r,e){this.priv=new Le(r,e||16),this.priv=this.priv.umod(this.ec.curve.n)},Ln.prototype._importPublic=function(r,e){if(r.x||r.y)return"mont"===this.ec.curve.type?xl(r.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&xl(r.x&&r.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(r.x,r.y));this.pub=this.ec.curve.decodePoint(r,e)},Ln.prototype.derive=function(r){return r.validate()||xl(r.validate(),"public point not validated"),r.mul(this.priv).getX()},Ln.prototype.sign=function(r,e,t){return this.ec.sign(r,this,e,t)},Ln.prototype.verify=function(r,e){return this.ec.verify(r,e,this)},Ln.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Dv=Ai.assert;function $u(r,e){if(r instanceof $u)return r;this._importDER(r,e)||(Dv(r.r&&r.s,"Signature without r or s"),this.r=new Le(r.r,16),this.s=new Le(r.s,16),this.recoveryParam=void 0===r.recoveryParam?null:r.recoveryParam)}var Vu=$u;function Fv(){this.place=0}function Il(r,e){var t=r[e.place++];if(!(128&t))return t;var s=15&t;if(0===s||s>4)return!1;for(var a=0,u=0,l=e.place;u<s;u++,l++)a<<=8,a|=r[l],a>>>=0;return!(a<=127)&&(e.place=l,a)}function hd(r){for(var e=0,t=r.length-1;!r[e]&&!(128&r[e+1])&&e<t;)e++;return 0===e?r:r.slice(e)}function Sl(r,e){if(e<128)r.push(e);else{var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(128|t);--t;)r.push(e>>>(t<<3)&255);r.push(e)}}$u.prototype._importDER=function(r,e){r=Ai.toArray(r,e);var t=new Fv;if(48!==r[t.place++])return!1;var s=Il(r,t);if(!1===s||s+t.place!==r.length||2!==r[t.place++])return!1;var a=Il(r,t);if(!1===a)return!1;var u=r.slice(t.place,a+t.place);if(t.place+=a,2!==r[t.place++])return!1;var l=Il(r,t);if(!1===l||r.length!==l+t.place)return!1;var d=r.slice(t.place,l+t.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===d[0]){if(!(128&d[1]))return!1;d=d.slice(1)}return this.r=new Le(u),this.s=new Le(d),this.recoveryParam=null,!0},$u.prototype.toDER=function(r){var e=this.r.toArray(),t=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&t[0]&&(t=[0].concat(t)),e=hd(e),t=hd(t);!(t[0]||128&t[1]);)t=t.slice(1);var s=[2];Sl(s,e.length),(s=s.concat(e)).push(2),Sl(s,t.length);var a=s.concat(t),u=[48];return Sl(u,a.length),u=u.concat(a),Ai.encode(u,r)};var Bv=function(){throw new Error("unsupported")},fd=Ai.assert;function Ti(r){if(!(this instanceof Ti))return new Ti(r);"string"==typeof r&&(fd(Object.prototype.hasOwnProperty.call(Hu,r),"Unknown curve "+r),r=Hu[r]),r instanceof Hu.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var qv=Ti;Ti.prototype.keyPair=function(r){return new El(this,r)},Ti.prototype.keyFromPrivate=function(r,e){return El.fromPrivate(this,r,e)},Ti.prototype.keyFromPublic=function(r,e){return El.fromPublic(this,r,e)},Ti.prototype.genKeyPair=function(r){r||(r={});for(var e=new ld({hash:this.hash,pers:r.pers,persEnc:r.persEnc||"utf8",entropy:r.entropy||Bv(),entropyEnc:r.entropy&&r.entropyEnc||"utf8",nonce:this.n.toArray()}),t=this.n.byteLength(),s=this.n.sub(new Le(2));;){var a=new Le(e.generate(t));if(!(a.cmp(s)>0))return a.iaddn(1),this.keyFromPrivate(a)}},Ti.prototype._truncateToN=function(r,e){var t=8*r.byteLength()-this.n.bitLength();return t>0&&(r=r.ushrn(t)),!e&&r.cmp(this.n)>=0?r.sub(this.n):r},Ti.prototype.sign=function(r,e,t,s){"object"==typeof t&&(s=t,t=null),s||(s={}),e=this.keyFromPrivate(e,t),r=this._truncateToN(new Le(r,16));for(var a=this.n.byteLength(),u=e.getPrivate().toArray("be",a),l=r.toArray("be",a),d=new ld({hash:this.hash,entropy:u,nonce:l,pers:s.pers,persEnc:s.persEnc||"utf8"}),y=this.n.sub(new Le(1)),g=0;;g++){var w=s.k?s.k(g):new Le(d.generate(this.n.byteLength()));if(!((w=this._truncateToN(w,!0)).cmpn(1)<=0||w.cmp(y)>=0)){var I=this.g.mul(w);if(!I.isInfinity()){var O=I.getX(),F=O.umod(this.n);if(0!==F.cmpn(0)){var B=w.invm(this.n).mul(F.mul(e.getPrivate()).iadd(r));if(0!==(B=B.umod(this.n)).cmpn(0)){var H=(I.getY().isOdd()?1:0)|(0!==O.cmp(F)?2:0);return s.canonical&&B.cmp(this.nh)>0&&(B=this.n.sub(B),H^=1),new Vu({r:F,s:B,recoveryParam:H})}}}}}},Ti.prototype.verify=function(r,e,t,s){r=this._truncateToN(new Le(r,16)),t=this.keyFromPublic(t,s);var a=(e=new Vu(e,"hex")).r,u=e.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||u.cmpn(1)<0||u.cmp(this.n)>=0)return!1;var g,l=u.invm(this.n),d=l.mul(r).umod(this.n),y=l.mul(a).umod(this.n);return this.curve._maxwellTrick?!(g=this.g.jmulAdd(d,t.getPublic(),y)).isInfinity()&&g.eqXToP(a):!(g=this.g.mulAdd(d,t.getPublic(),y)).isInfinity()&&0===g.getX().umod(this.n).cmp(a)},Ti.prototype.recoverPubKey=function(r,e,t,s){fd((3&t)===t,"The recovery param is more than two bits"),e=new Vu(e,s);var a=this.n,u=new Le(r),l=e.r,d=e.s,y=1&t,g=t>>1;if(l.cmp(this.curve.p.umod(this.curve.n))>=0&&g)throw new Error("Unable to find sencond key candinate");l=this.curve.pointFromX(g?l.add(this.curve.n):l,y);var w=e.r.invm(a),I=a.sub(u).mul(w).umod(a),O=d.mul(w).umod(a);return this.g.mulAdd(I,l,O)},Ti.prototype.getKeyRecoveryParam=function(r,e,t,s){if(null!==(e=new Vu(e,s)).recoveryParam)return e.recoveryParam;for(var a=0;a<4;a++){var u;try{u=this.recoverPubKey(r,e,a)}catch{continue}if(u.eq(t))return a}throw new Error("Unable to find valid recovery factor")};var Uv=ia(function(r,e){var t=e;t.version="6.5.4",t.utils=Ai,t.rand=function(){throw new Error("unsupported")},t.curve=Ku,t.curves=Hu,t.ec=qv,t.eddsa=null}).ec;const Ml=new Ve("signing-key/5.7.0");let Pl=null;function ps(){return Pl||(Pl=new Uv("secp256k1")),Pl}class zv{constructor(e){Ua(this,"curve","secp256k1"),Ua(this,"privateKey",Cn(e)),32!==function ul(r){if("string"!=typeof r)r=Cn(r);else if(!Jn(r)||r.length%2)return null;return(r.length-2)/2}(this.privateKey)&&Ml.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=ps().keyFromPrivate(br(this.privateKey));Ua(this,"publicKey","0x"+t.getPublic(!1,"hex")),Ua(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),Ua(this,"_isSigningKey",!0)}_addPoint(e){const t=ps().keyFromPublic(br(this.publicKey)),s=ps().keyFromPublic(br(e));return"0x"+t.pub.add(s.pub).encodeCompressed("hex")}signDigest(e){const t=ps().keyFromPrivate(br(this.privateKey)),s=br(e);32!==s.length&&Ml.throwArgumentError("bad digest length","digest",e);const a=t.sign(s,{canonical:!0});return Da({recoveryParam:a.recoveryParam,r:bn("0x"+a.r.toString(16),32),s:bn("0x"+a.s.toString(16),32)})}computeSharedSecret(e){const t=ps().keyFromPrivate(br(this.privateKey)),s=ps().keyFromPublic(br(dd(e)));return bn("0x"+t.derive(s.getPublic()).toString(16),32)}static isSigningKey(e){return!(!e||!e._isSigningKey)}}function dd(r,e){const t=br(r);if(32===t.length){const s=new zv(t);return e?"0x"+ps().keyFromPrivate(t).getPublic(!0,"hex"):s.publicKey}return 33===t.length?e?Cn(t):"0x"+ps().keyFromPublic(t).getPublic(!1,"hex"):65===t.length?e?"0x"+ps().keyFromPublic(t).getPublic(!0,"hex"):Cn(t):Ml.throwArgumentError("invalid public or private key","key","[REDACTED]")}var pd;function Hv(r,e){return function Kv(r){return function em(r){let e=null;if("string"!=typeof r&&ka.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==r.substring(0,2)&&(r="0x"+r),e=Uf(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&ka.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==function X1(r){let e=(r=(r=r.toUpperCase()).substring(4)+r.substring(0,2)+"00").split("").map(s=>pl[s]).join("");for(;e.length>=jf;){let s=e.substring(0,jf);e=parseInt(s,10)%97+e.substring(s.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}(r)&&ka.throwArgumentError("bad icap checksum","address",r),e=function Ge(r){return new Po(r,36).toString(16)}(r.substring(4));e.length<40;)e="0"+e;e=Uf("0x"+e)}else ka.throwArgumentError("invalid address","address",r);return e}(Tu(Fa(Tu(dd(r),1)),12))}(function Lv(r,e){const t=Da(e),s={r:br(t.r),s:br(t.s)};return"0x"+ps().recoverPubKey(br(r),s,t.recoveryParam).encode("hex",!1)}(br(r),e))}new Ve("transactions/5.7.0"),function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"}(pd||(pd={}));const $v="https://rpc.walletconnect.com/v1";function Rl(){return Rl=(0,S.Z)(function*(r,e,t,s,a,u){switch(t.t){case"eip191":return function Gv(r,e,t){return Hv(kf(e),t).toLowerCase()===r.toLowerCase()}(r,e,t.s);case"eip1271":return yield function Jv(r,e,t,s,a,u){return Cl.apply(this,arguments)}(r,e,t.s,s,a,u);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${t.t}`)}}),Rl.apply(this,arguments)}function Cl(){return Cl=(0,S.Z)(function*(r,e,t,s,a,u){try{const l="0x1626ba7e",d="0000000000000000000000000000000000000000000000000000000000000040",y="0000000000000000000000000000000000000000000000000000000000000041",g=t.substring(2),I=l+kf(e).substring(2)+d+y+g,O=yield fetch(`${u||$v}/?chainId=${s}&projectId=${a}`,{method:"POST",body:JSON.stringify({id:Date.now()+Math.floor(1e3*Math.random()),jsonrpc:"2.0",method:"eth_call",params:[{to:r,data:I},"latest"]})}),{result:F}=yield O.json();return!!F&&F.slice(0,l.length).toLowerCase()===l.toLowerCase()}catch(l){return console.error("isValidEip1271Signature: ",l),!1}}),Cl.apply(this,arguments)}var Qv=Object.defineProperty,Yv=Object.defineProperties,Xv=Object.getOwnPropertyDescriptors,gd=Object.getOwnPropertySymbols,ey=Object.prototype.hasOwnProperty,ty=Object.prototype.propertyIsEnumerable,md=(r,e,t)=>e in r?Qv(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;const Ol=r=>r?.split(":"),yd=r=>{const e=r&&Ol(r);if(e)return r.includes("did:pkh:")?e[3]:e[1]},_d=r=>{const e=r&&Ol(r);if(e)return e[2]+":"+e[3]},Gu=r=>{const e=r&&Ol(r);if(e)return e.pop()};function bd(r){return Tl.apply(this,arguments)}function Tl(){return Tl=(0,S.Z)(function*(r){const{cacao:e,projectId:t}=r,{s,p:a}=e,u=wd(a,a.iss),l=Gu(a.iss);return yield function Vv(r,e,t,s,a,u){return Rl.apply(this,arguments)}(l,u,s,yd(a.iss),t)}),Tl.apply(this,arguments)}const wd=(r,e)=>{const t=`${r.domain} wants you to sign in with your Ethereum account:`,s=Gu(e);if(!r.aud&&!r.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let a=r.statement||void 0;const u=`URI: ${r.aud||r.uri}`,l=`Version: ${r.version}`,d=`Chain ID: ${yd(e)}`,y=`Nonce: ${r.nonce}`,g=`Issued At: ${r.iat}`,w=r.exp?`Expiration Time: ${r.exp}`:void 0,I=r.nbf?`Not Before: ${r.nbf}`:void 0,O=r.requestId?`Request ID: ${r.requestId}`:void 0,F=r.resources?`Resources:${r.resources.map(H=>`\n- ${H}`).join("")}`:void 0,B=sa(r.resources);return B&&(a=function Ed(r="",e){qs(e);const t="I further authorize the stated URI to perform the following actions on my behalf: ";if(r.includes(t))return r;const s=[];let a=0;return Object.keys(e.att).forEach(d=>{const y=Object.keys(e.att[d]).map(I=>({ability:I.split("/")[0],action:I.split("/")[1]}));y.sort((I,O)=>I.action.localeCompare(O.action));const g={};y.forEach(I=>{g[I.ability]||(g[I.ability]=[]),g[I.ability].push(I.action)});const w=Object.keys(g).map(I=>(a++,`(${a}) '${I}': '${g[I].join("', '")}' for '${d}'.`));s.push(w.join(", ").replace(".,","."))}),`${r?r+" ":""}${t}${s.join(" ")}`}(a,Oo(B))),[t,s,"",a,"",u,l,d,y,g,w,I,O,F].filter(H=>null!=H).join("\n")};function qs(r){if(!r)throw new Error("No recap provided, value is undefined");if(!r.att)throw new Error("No `att` property found");const e=Object.keys(r.att);if(null==e||!e.length)throw new Error("No resources found in `att` property");e.forEach(t=>{const s=r.att[t];if(Array.isArray(s))throw new Error(`Resource must be an object: ${t}`);if("object"!=typeof s)throw new Error(`Resource must be an object: ${t}`);if(!Object.keys(s).length)throw new Error(`Resource object is empty: ${t}`);Object.keys(s).forEach(a=>{const u=s[a];if(!Array.isArray(u))throw new Error(`Ability limits ${a} must be an array of objects, found: ${u}`);if(!u.length)throw new Error(`Value of ${a} is empty array, must be an array with objects`);u.forEach(l=>{if("object"!=typeof l)throw new Error(`Ability limits (${a}) must be an array of objects, found: ${l}`)})})})}function Ad(r,e,t={}){e=e?.sort((a,u)=>a.localeCompare(u));const s=e.map(a=>({[`${r}/${a}`]:[t]}));return Object.assign({},...s)}function Dl(r){return qs(r),`urn:recap:${function oy(r){return Buffer.from(JSON.stringify(r)).toString("base64")}(r).replace(/=/g,"")}`}function Oo(r){const e=function ay(r){return JSON.parse(Buffer.from(r,"base64").toString("utf-8"))}(r.replace("urn:recap:",""));return qs(e),e}function hy(r,e){const a=function fy(r,e){qs(r),qs(e);const t=Object.keys(r.att).concat(Object.keys(e.att)).sort((a,u)=>a.localeCompare(u)),s={att:{}};return t.forEach(a=>{var u,l;Object.keys((null==(u=r.att)?void 0:u[a])||{}).concat(Object.keys((null==(l=e.att)?void 0:l[a])||{})).sort((d,y)=>d.localeCompare(y)).forEach(d=>{var y,g;s.att[a]=((r,e)=>Yv(r,Xv(e)))(((r,e)=>{for(var t in e||(e={}))ey.call(e,t)&&md(r,t,e[t]);if(gd)for(var t of gd(e))ty.call(e,t)&&md(r,t,e[t]);return r})({},s.att[a]),{[d]:(null==(y=r.att[a])?void 0:y[d])||(null==(g=e.att[a])?void 0:g[d])})})}),s}(Oo(r),Oo(e));return Dl(a)}function Id(r){var e;const t=Oo(r);qs(t);const s=null==(e=t.att)?void 0:e.eip155;return s?Object.keys(s).map(a=>a.split("/")[1]):[]}function Sd(r){const e=Oo(r);qs(e);const t=[];return Object.values(e.att).forEach(s=>{Object.values(s).forEach(a=>{var u;null!=(u=a?.[0])&&u.chains&&t.push(a[0].chains)})}),[...new Set(t.flat())]}function sa(r){if(!r)return;const e=r?.[r.length-1];return function xd(r){return r&&r.includes("urn:recap:")}(e)?e:void 0}const Md="base10",Yn="base16",Fl="base64pad",Bl="utf8";function Ul(){return tn((0,Vn.randomBytes)(32),Yn)}function Ju(r){return tn((0,ai.vp)(Qe(r,Yn)),Yn)}function To(r){return tn((0,ai.vp)(Qe(r,Bl)),Yn)}function Za(r){return Number(tn(r,Md))}function Wu(r){const e=Qe(r,Fl),t=e.slice(0,1);if(1===Za(t)){const d=33,y=d+12,g=e.slice(1,d),w=e.slice(d,y);return{type:t,sealed:e.slice(y),iv:w,senderPublicKey:g}}const u=e.slice(1,13);return{type:t,sealed:e.slice(13),iv:u}}function Cd(r){const e=r?.type||0;if(1===e){if(typeof r?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof r?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:r?.senderPublicKey,receiverPublicKey:r?.receiverPublicKey}}function Nd(r){return 1===r.type&&"string"==typeof r.senderPublicKey&&"string"==typeof r.receiverPublicKey}function jl(r){return r?.relay||{protocol:"irn"}}function Ka(r){const e=xo.iO[r];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${r}`);return e}var xy=Object.defineProperty,Ey=Object.defineProperties,Iy=Object.getOwnPropertyDescriptors,Od=Object.getOwnPropertySymbols,Sy=Object.prototype.hasOwnProperty,My=Object.prototype.propertyIsEnumerable,Td=(r,e,t)=>e in r?xy(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Dd=(r,e)=>{for(var t in e||(e={}))Sy.call(e,t)&&Td(r,t,e[t]);if(Od)for(var t of Od(e))My.call(e,t)&&Td(r,t,e[t]);return r};function Ry(r,e="-"){const t={},s="relay"+e;return Object.keys(r).forEach(a=>{if(a.startsWith(s)){const u=a.replace(s,"");t[u]=r[a]}}),t}function Fd(r){const e=(r=(r=r.includes("wc://")?r.replace("wc://",""):r).includes("wc:")?r.replace("wc:",""):r).indexOf(":"),t=-1!==r.indexOf("?")?r.indexOf("?"):void 0,s=r.substring(0,e),a=r.substring(e+1,t).split("@"),u=typeof t<"u"?r.substring(t):"",l=Ur.parse(u),d="string"==typeof l.methods?l.methods.split(","):void 0;return{protocol:s,topic:Cy(a[0]),version:parseInt(a[1],10),symKey:l.symKey,relay:Ry(l),methods:d,expiryTimestamp:l.expiryTimestamp?parseInt(l.expiryTimestamp,10):void 0}}function Cy(r){return r.startsWith("//")?r.substring(2):r}function oa(r){const e=[];return r.forEach(t=>{const[s,a]=t.split(":");e.push(`${s}:${a}`)}),e}function Qu(r){return r.includes(":")}function aa(r){return Qu(r)?r.split(":")[0]:r}function Ud(r,e){const t=function Zy(r){const e={};return r?.forEach(t=>{const[s,a]=t.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[]}),e[s].accounts.push(t),e[s].chains.push(`${s}:${a}`)}),e}(e=e.map(s=>s.replace("did:pkh:","")));for(const[s,a]of Object.entries(t))a.methods=a.methods?_i(a.methods,r):r,a.events=["chainChanged","accountsChanged"];return t}const Ky={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Hy={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function he(r,e){const{message:t,code:s}=Hy[r];return{message:e?`${t} ${e}`:t,code:s}}function Pt(r,e){const{message:t,code:s}=Ky[r];return{message:e?`${t} ${e}`:t,code:s}}function gs(r,e){return!!Array.isArray(r)&&(!(typeof e<"u"&&r.length)||r.every(e))}function ua(r){return Object.getPrototypeOf(r)===Object.prototype&&Object.keys(r).length}function Xn(r){return typeof r>"u"}function Zr(r,e){return!(!e||!Xn(r))||"string"==typeof r&&!!r.trim().length}function zl(r,e){return!(!e||!Xn(r))||"number"==typeof r&&!isNaN(r)}function Yu(r){return!(!Zr(r,!1)||!r.includes(":"))&&2===r.split(":").length}function jd(r){let e=!0;return gs(r)?r.length&&(e=r.every(t=>Zr(t,!1))):e=!1,e}function zd(r,e){let t=null;return Object.values(r).forEach(s=>{if(t)return;const a=function r_(r,e){let t=null;return jd(r?.methods)?jd(r?.events)||(t=Pt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=Pt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}(s,`${e}, namespace`);a&&(t=a)}),t}function Xu(r,e){let t=null;if(r&&ua(r)){const s=zd(r,e);s&&(t=s);const a=function t_(r,e){let t=null;return Object.values(r).forEach(s=>{if(t)return;const a=function e_(r,e){let t=null;return gs(r)?r.forEach(s=>{t||function Vy(r){if(Zr(r,!1)&&r.includes(":")){const e=r.split(":");if(3===e.length)return!!e[2]&&Yu(e[0]+":"+e[1])}return!1}(s)||(t=Pt("UNSUPPORTED_ACCOUNTS",`${e}, account ${s} should be a string and conform to "namespace:chainId:address" format`))}):t=Pt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}(s?.accounts,`${e} namespace`);a&&(t=a)}),t}(r,e);a&&(t=a)}else t=he("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function Ld(r){return Zr(r.protocol,!0)}function ci(r){return typeof r<"u"&&null!==typeof r}function Zd(r,e){return!(!Yu(e)||!function jy(r){const e=[];return Object.values(r).forEach(t=>{e.push(...oa(t.accounts))}),e}(r).includes(e))}function Ll(r,e,t){let s=null;const a=function f_(r){const e={};return Object.keys(r).forEach(t=>{var s;t.includes(":")?e[t]=r[t]:null==(s=r[t].chains)||s.forEach(a=>{e[a]={methods:r[t].methods,events:r[t].events}})}),e}(r),u=function d_(r){const e={};return Object.keys(r).forEach(t=>{t.includes(":")?e[t]=r[t]:oa(r[t].accounts)?.forEach(a=>{e[a]={accounts:r[t].accounts.filter(u=>u.includes(`${a}:`)),methods:r[t].methods,events:r[t].events}})}),e}(e),l=Object.keys(a),d=Object.keys(u),y=Kd(Object.keys(r)),g=Kd(Object.keys(e)),w=y.filter(I=>!g.includes(I));return w.length&&(s=he("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${w.toString()}\n      Received: ${Object.keys(e).toString()}`)),hr(l,d)||(s=he("NON_CONFORMING_NAMESPACES",`${t} namespaces chains don't satisfy required namespaces.\n      Required: ${l.toString()}\n      Approved: ${d.toString()}`)),Object.keys(e).forEach(I=>{if(!I.includes(":")||s)return;const O=oa(e[I].accounts);O.includes(I)||(s=he("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace accounts for ${I}\n        Required: ${I}\n        Approved: ${O.toString()}`))}),l.forEach(I=>{s||(hr(a[I].methods,u[I].methods)?hr(a[I].events,u[I].events)||(s=he("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${I}`)):s=he("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${I}`))}),s}function Kd(r){return[...new Set(r.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Hd(){const r=qn();return new Promise(e=>{switch(r){case Ye.browser:e(function g_(){return Or()&&navigator?.onLine}());break;case Ye.reactNative:e(function m_(){return Zl.apply(this,arguments)}());break;default:e(!0)}})}function Zl(){return(Zl=(0,S.Z)(function*(){return!(Rn()&&typeof global<"u"&&null!=global&&global.NetInfo)||(yield null==global?void 0:global.NetInfo.fetch())?.isConnected})).apply(this,arguments)}const Kl={};class Ha{static get(e){return Kl[e]}static set(e,t){Kl[e]=t}static delete(e){delete Kl[e]}}const w_=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,A_=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,x_=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function E_(r,e){if(!("__proto__"===r||"constructor"===r&&e&&"object"==typeof e&&"prototype"in e))return e;!function I_(r){console.warn(`[destr] Dropping "${r}" key to prevent prototype pollution.`)}(r)}function $a(r,e={}){if("string"!=typeof r)return r;const t=r.trim();if('"'===r[0]&&r.endsWith('"')&&!r.includes("\\"))return t.slice(1,-1);if(t.length<=9){const s=t.toLowerCase();if("true"===s)return!0;if("false"===s)return!1;if("undefined"===s)return;if("null"===s)return null;if("nan"===s)return Number.NaN;if("infinity"===s)return Number.POSITIVE_INFINITY;if("-infinity"===s)return Number.NEGATIVE_INFINITY}if(!x_.test(r)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return r}try{if(w_.test(r)||A_.test(r)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(r,E_)}return JSON.parse(r)}catch(s){if(e.strict)throw s;return r}}function An(r,...e){try{return function S_(r){return r&&"function"==typeof r.then?r:Promise.resolve(r)}(r(...e))}catch(t){return Promise.reject(t)}}function ec(r){if(function M_(r){const e=typeof r;return null===r||"object"!==e&&"function"!==e}(r))return String(r);if(function P_(r){const e=Object.getPrototypeOf(r);return!e||e.isPrototypeOf(Object)}(r)||Array.isArray(r))return JSON.stringify(r);if("function"==typeof r.toJSON)return ec(r.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function $d(){if(void 0===typeof Buffer)throw new TypeError("[unstorage] Buffer is not supported!")}const Hl="base64:";function li(r){return r?r.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function O_(...r){return li(r.join(":"))}function Va(r){return(r=li(r))?r+":":""}const D_=()=>{const r=new Map;return{name:"memory",options:{},hasItem:e=>r.has(e),getItem:e=>r.get(e)??null,getItemRaw:e=>r.get(e)??null,setItem(e,t){r.set(e,t)},setItemRaw(e,t){r.set(e,t)},removeItem(e){r.delete(e)},getKeys:()=>Array.from(r.keys()),clear(){r.clear()},dispose(){r.clear()}}};function Vd(r,e,t){return r.watch?r.watch((s,a)=>e(s,t+a)):()=>{}}function Gd(r){return Gl.apply(this,arguments)}function Gl(){return Gl=(0,S.Z)(function*(r){"function"==typeof r.dispose&&(yield An(r.dispose))}),Gl.apply(this,arguments)}function hi(r){return new Promise((e,t)=>{r.oncomplete=r.onsuccess=()=>e(r.result),r.onabort=r.onerror=()=>t(r.error)})}function Jd(r,e){const t=indexedDB.open(r);t.onupgradeneeded=()=>t.result.createObjectStore(e);const s=hi(t);return(a,u)=>s.then(l=>u(l.transaction(e,a).objectStore(e)))}let Jl;function Vi(){return Jl||(Jl=Jd("keyval-store","keyval")),Jl}function Wd(r,e=Vi()){return e("readonly",t=>hi(t.get(r)))}var Us=ke(57630),z_=(r={})=>{const e=r.base&&r.base.length>0?`${r.base}:`:"",t=a=>e+a;let s;return r.dbName&&r.storeName&&(s=Jd(r.dbName,r.storeName)),{name:"idb-keyval",options:r,hasItem:a=>(0,S.Z)(function*(){return!(typeof(yield Wd(t(a),s))>"u")})(),getItem:a=>(0,S.Z)(function*(){return(yield Wd(t(a),s))??null})(),setItem:(a,u)=>function B_(r,e,t=Vi()){return t("readwrite",s=>(s.put(e,r),hi(s.transaction)))}(t(a),u,s),removeItem:a=>function q_(r,e=Vi()){return e("readwrite",t=>(t.delete(r),hi(t.transaction)))}(t(a),s),getKeys:()=>function U_(r=Vi()){return r("readonly",e=>{if(e.getAllKeys)return hi(e.getAllKeys());const t=[];return function Wl(r,e){return r.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},hi(r.transaction)}(e,s=>t.push(s.key)).then(()=>t)})}(s),clear:()=>function k_(r=Vi()){return r("readwrite",e=>(e.clear(),hi(e.transaction)))}(s)}};class K_{constructor(){this.indexedDb=function F_(r={}){const e={mounts:{"":r.driver||D_()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},t=g=>{for(const w of e.mountpoints)if(g.startsWith(w))return{base:w,relativeKey:g.slice(w.length),driver:e.mounts[w]};return{base:"",relativeKey:g,driver:e.mounts[""]}},s=(g,w)=>e.mountpoints.filter(I=>I.startsWith(g)||w&&g.startsWith(I)).map(I=>({relativeBase:g.length>I.length?g.slice(I.length):void 0,mountpoint:I,driver:e.mounts[I]})),a=(g,w)=>{if(e.watching){w=li(w);for(const I of e.watchListeners)I(g,w)}},u=function(){var g=(0,S.Z)(function*(){if(!e.watching){e.watching=!0;for(const w in e.mounts)e.unwatch[w]=yield Vd(e.mounts[w],a,w)}});return function(){return g.apply(this,arguments)}}(),l=function(){var g=(0,S.Z)(function*(){if(e.watching){for(const w in e.unwatch)yield e.unwatch[w]();e.unwatch={},e.watching=!1}});return function(){return g.apply(this,arguments)}}(),d=(g,w,I)=>{const O=new Map,F=B=>{let H=O.get(B.base);return H||(H={driver:B.driver,base:B.base,items:[]},O.set(B.base,H)),H};for(const B of g){const H="string"==typeof B,W=li(H?B:B.key),le=H?void 0:B.value,Ie=H||!B.options?w:{...w,...B.options},Ae=t(W);F(Ae).items.push({key:W,value:le,relativeKey:Ae.relativeKey,options:Ie})}return Promise.all([...O.values()].map(B=>I(B))).then(B=>B.flat())},y={hasItem(g,w={}){g=li(g);const{relativeKey:I,driver:O}=t(g);return An(O.hasItem,I,w)},getItem(g,w={}){g=li(g);const{relativeKey:I,driver:O}=t(g);return An(O.getItem,I,w).then(F=>$a(F))},getItems:(g,w)=>d(g,w,I=>I.driver.getItems?An(I.driver.getItems,I.items.map(O=>({key:O.relativeKey,options:O.options})),w).then(O=>O.map(F=>({key:O_(I.base,F.key),value:$a(F.value)}))):Promise.all(I.items.map(O=>An(I.driver.getItem,O.relativeKey,O.options).then(F=>({key:O.key,value:$a(F)}))))),getItemRaw(g,w={}){g=li(g);const{relativeKey:I,driver:O}=t(g);return O.getItemRaw?An(O.getItemRaw,I,w):An(O.getItem,I,w).then(F=>function C_(r){return"string"==typeof r&&r.startsWith(Hl)?($d(),Buffer.from(r.slice(7),"base64")):r}(F))},setItem:(g,w,I={})=>(0,S.Z)(function*(){if(void 0===w)return y.removeItem(g);g=li(g);const{relativeKey:O,driver:F}=t(g);F.setItem&&(yield An(F.setItem,O,ec(w),I),F.watch||a("update",g))})(),setItems:(g,w)=>(0,S.Z)(function*(){yield d(g,w,function(){var I=(0,S.Z)(function*(O){if(O.driver.setItems)return An(O.driver.setItems,O.items.map(F=>({key:F.relativeKey,value:ec(F.value),options:F.options})),w);O.driver.setItem&&(yield Promise.all(O.items.map(F=>An(O.driver.setItem,F.relativeKey,ec(F.value),F.options))))});return function(O){return I.apply(this,arguments)}}())})(),setItemRaw:(g,w,I={})=>(0,S.Z)(function*(){if(void 0===w)return y.removeItem(g,I);g=li(g);const{relativeKey:O,driver:F}=t(g);if(F.setItemRaw)yield An(F.setItemRaw,O,w,I);else{if(!F.setItem)return;yield An(F.setItem,O,function R_(r){if("string"==typeof r)return r;$d();const e=Buffer.from(r).toString("base64");return Hl+e}(w),I)}F.watch||a("update",g)})(),removeItem:(g,w={})=>(0,S.Z)(function*(){"boolean"==typeof w&&(w={removeMeta:w}),g=li(g);const{relativeKey:I,driver:O}=t(g);O.removeItem&&(yield An(O.removeItem,I,w),(w.removeMeta||w.removeMata)&&(yield An(O.removeItem,I+"$",w)),O.watch||a("remove",g))})(),getMeta:(g,w={})=>(0,S.Z)(function*(){"boolean"==typeof w&&(w={nativeOnly:w}),g=li(g);const{relativeKey:I,driver:O}=t(g),F=Object.create(null);if(O.getMeta&&Object.assign(F,yield An(O.getMeta,I,w)),!w.nativeOnly){const B=yield An(O.getItem,I+"$",w).then(H=>$a(H));B&&"object"==typeof B&&("string"==typeof B.atime&&(B.atime=new Date(B.atime)),"string"==typeof B.mtime&&(B.mtime=new Date(B.mtime)),Object.assign(F,B))}return F})(),setMeta(g,w,I={}){return this.setItem(g+"$",w,I)},removeMeta(g,w={}){return this.removeItem(g+"$",w)},getKeys:(g,w={})=>(0,S.Z)(function*(){g=Va(g);const I=s(g,!0);let O=[];const F=[];for(const B of I){const W=(yield An(B.driver.getKeys,B.relativeBase,w)).map(le=>B.mountpoint+li(le)).filter(le=>!O.some(Ie=>le.startsWith(Ie)));F.push(...W),O=[B.mountpoint,...O.filter(le=>!le.startsWith(B.mountpoint))]}return F.filter(g?B=>B.startsWith(g)&&!B.endsWith("$"):B=>!B.endsWith("$"))})(),clear:(g,w={})=>(0,S.Z)(function*(){g=Va(g),yield Promise.all(s(g,!1).map(function(){var I=(0,S.Z)(function*(O){if(O.driver.clear)return An(O.driver.clear,O.relativeBase,w);if(O.driver.removeItem){const F=yield O.driver.getKeys(O.relativeBase||"",w);return Promise.all(F.map(B=>O.driver.removeItem(B,w)))}});return function(O){return I.apply(this,arguments)}}()))})(),dispose:()=>(0,S.Z)(function*(){yield Promise.all(Object.values(e.mounts).map(g=>Gd(g)))})(),watch:g=>(0,S.Z)(function*(){return yield u(),e.watchListeners.push(g),(0,S.Z)(function*(){e.watchListeners=e.watchListeners.filter(w=>w!==g),0===e.watchListeners.length&&(yield l())})})(),unwatch:()=>(0,S.Z)(function*(){e.watchListeners=[],yield l()})(),mount(g,w){if((g=Va(g))&&e.mounts[g])throw new Error(`already mounted at ${g}`);return g&&(e.mountpoints.push(g),e.mountpoints.sort((I,O)=>O.length-I.length)),e.mounts[g]=w,e.watching&&Promise.resolve(Vd(w,a,g)).then(I=>{e.unwatch[g]=I}).catch(console.error),y},unmount:(g,w=!0)=>(0,S.Z)(function*(){(g=Va(g))&&e.mounts[g]&&(e.watching&&g in e.unwatch&&(e.unwatch[g](),delete e.unwatch[g]),w&&(yield Gd(e.mounts[g])),e.mountpoints=e.mountpoints.filter(I=>I!==g),delete e.mounts[g])})(),getMount(g=""){g=li(g)+":";const w=t(g);return{driver:w.driver,base:w.base}},getMounts:(g="",w={})=>(g=li(g),s(g,w.parents).map(O=>({driver:O.driver,base:O.mountpoint})))};return y}({driver:z_({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}getKeys(){var e=this;return(0,S.Z)(function*(){return e.indexedDb.getKeys()})()}getEntries(){var e=this;return(0,S.Z)(function*(){return(yield e.indexedDb.getItems(yield e.indexedDb.getKeys())).map(t=>[t.key,t.value])})()}getItem(e){var t=this;return(0,S.Z)(function*(){const s=yield t.indexedDb.getItem(e);if(null!==s)return s})()}setItem(e,t){var s=this;return(0,S.Z)(function*(){yield s.indexedDb.setItem(e,(0,Us.u)(t))})()}removeItem(e){var t=this;return(0,S.Z)(function*(){yield t.indexedDb.removeItem(e)})()}}var Ql=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tc={exports:{}};function H_(r){var e;return[r[0],(0,Us.D)(null!=(e=r[1])?e:"")]}!function(){let r;function e(){}r=e,r.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},r.prototype.setItem=function(t,s){this[t]=String(s)},r.prototype.removeItem=function(t){delete this[t]},r.prototype.clear=function(){const t=this;Object.keys(t).forEach(function(s){t[s]=void 0,delete t[s]})},r.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},r.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),tc.exports=typeof Ql<"u"&&Ql.localStorage?Ql.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:new e}();class $_{constructor(){this.localStorage=tc.exports}getKeys(){var e=this;return(0,S.Z)(function*(){return Object.keys(e.localStorage)})()}getEntries(){var e=this;return(0,S.Z)(function*(){return Object.entries(e.localStorage).map(H_)})()}getItem(e){var t=this;return(0,S.Z)(function*(){const s=t.localStorage.getItem(e);if(null!==s)return(0,Us.D)(s)})()}setItem(e,t){var s=this;return(0,S.Z)(function*(){s.localStorage.setItem(e,(0,Us.u)(t))})()}removeItem(e){var t=this;return(0,S.Z)(function*(){t.localStorage.removeItem(e)})()}}const G_=function(){var r=(0,S.Z)(function*(e,t,s){const a="wc_storage_version",u=yield t.getItem(a);if(u&&u>=1)return void s(t);const l=yield e.getKeys();if(!l.length)return void s(t);const d=[];for(;l.length;){const y=l.shift();if(!y)continue;const g=y.toLowerCase();if(g.includes("wc@")||g.includes("walletconnect")||g.includes("wc_")||g.includes("wallet_connect")){const w=yield e.getItem(y);yield t.setItem(y,w),d.push(y)}}yield t.setItem(a,1),s(t),J_(e,d)});return function(t,s,a){return r.apply(this,arguments)}}(),J_=function(){var r=(0,S.Z)(function*(e,t){t.length&&t.forEach(function(){var s=(0,S.Z)(function*(a){yield e.removeItem(a)});return function(a){return s.apply(this,arguments)}}())});return function(t,s){return r.apply(this,arguments)}}();class W_{constructor(){this.initialized=!1,this.setInitialized=t=>{this.storage=t,this.initialized=!0};const e=new $_;this.storage=e;try{const t=new K_;G_(e,t,this.setInitialized)}catch{this.initialized=!0}}getKeys(){var e=this;return(0,S.Z)(function*(){return yield e.initialize(),e.storage.getKeys()})()}getEntries(){var e=this;return(0,S.Z)(function*(){return yield e.initialize(),e.storage.getEntries()})()}getItem(e){var t=this;return(0,S.Z)(function*(){return yield t.initialize(),t.storage.getItem(e)})()}setItem(e,t){var s=this;return(0,S.Z)(function*(){return yield s.initialize(),s.storage.setItem(e,t)})()}removeItem(e){var t=this;return(0,S.Z)(function*(){return yield t.initialize(),t.storage.removeItem(e)})()}initialize(){var e=this;return(0,S.Z)(function*(){e.initialized||(yield new Promise(t=>{const s=setInterval(()=>{e.initialized&&(clearInterval(s),t())},20)}))})()}}class Do{}class Q_ extends Do{constructor(e){super()}}const Yd=ce.FIVE_SECONDS,Ga_pulse="heartbeat_pulse";class Yl extends Q_{constructor(e){super(e),this.events=new ur.EventEmitter,this.interval=Yd,this.interval=e?.interval||Yd}static init(e){return(0,S.Z)(function*(){const t=new Yl(e);return yield t.init(),t})()}init(){var e=this;return(0,S.Z)(function*(){yield e.initialize()})()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}initialize(){var e=this;return(0,S.Z)(function*(){e.intervalRef=setInterval(()=>e.pulse(),(0,ce.toMiliseconds)(e.interval))})()}pulse(){this.events.emit(Ga_pulse)}}var lt=ke(87714);class Y_ extends Do{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}class X_ extends Do{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}}class e2{constructor(e,t){this.logger=e,this.core=t}}class t2 extends Do{constructor(e,t){super(),this.relayer=e,this.logger=t}}class r2 extends Do{constructor(e){super()}}class n2{constructor(e,t,s,a){this.core=e,this.logger=t,this.name=s}}class i2 extends Do{constructor(e,t){super(),this.relayer=e,this.logger=t}}class s2 extends Do{constructor(e,t){super(),this.core=e,this.logger=t}}class o2{constructor(e,t){this.projectId=e,this.logger=t}}class a2{constructor(e,t){this.projectId=e,this.logger=t}}class u2{constructor(e){this.opts=e,this.protocol="wc",this.version=2}}class c2{constructor(e){this.client=e}}var Xd=ke(35972);const tp="base64url",f2="utf8",p2=":",g2="did",m2="key",rp="base58btc",v2="z",y2="K36";var b2=ke(36045),w2=ke(25242),Xl=ke(90878),eh=ke(82269);function nc(r){return(0,Xl.B)((0,eh.m)((0,Us.u)(r),f2),tp)}function np(r){const e=(0,eh.m)(y2,rp),t=v2+(0,Xl.B)(function A2(r,e){e||(e=r.reduce((a,u)=>a+u.length,0));const t=(0,b2.E)(e);let s=0;for(const a of r)t.set(a,s),s+=a.length;return(0,w2.P)(t)}([e,r]),rp);return[g2,m2,t].join(p2)}function x2(r){return(0,Xl.B)(r,tp)}function ip(r=(0,Vn.randomBytes)(32)){return Xd._w(r)}function th(){return th=(0,S.Z)(function*(r,e,t,s,a=(0,ce.fromMiliseconds)(Date.now())){const u={alg:"EdDSA",typ:"JWT"},y={iss:np(s.publicKey),sub:r,aud:e,iat:a,exp:a+t},g=function I2(r){return(0,eh.m)([nc(r.header),nc(r.payload)].join("."),"utf8")}({header:u,payload:y});return function S2(r){return[nc(r.header),nc(r.payload),x2(r.signature)].join(".")}({header:u,payload:y,signature:Xd.Xx(s.secretKey,g)})}),th.apply(this,arguments)}ke(82768);var ms=ke(20259),De=ke(26446);const sp=r=>r.split("?")[0],C2=typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:ke(3569);class N2{constructor(e){if(this.url=e,this.events=new ur.EventEmitter,this.registering=!1,!(0,De.isWsUrl)(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}open(e=this.url){var t=this;return(0,S.Z)(function*(){yield t.register(e)})()}close(){var e=this;return(0,S.Z)(function*(){return new Promise((t,s)=>{typeof e.socket>"u"?s(new Error("Connection already closed")):(e.socket.onclose=a=>{e.onClose(a),t()},e.socket.close())})})()}send(e){var t=this;return(0,S.Z)(function*(){typeof t.socket>"u"&&(t.socket=yield t.register());try{t.socket.send((0,Us.u)(e))}catch(s){t.onError(e.id,s)}})()}register(e=this.url){if(!(0,De.isWsUrl)(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((s,a)=>{this.events.once("register_error",u=>{this.resetMaxListeners(),a(u)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return a(new Error("WebSocket connection is missing or invalid"));s(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,s)=>{const a=new URLSearchParams(e).get("origin"),u=(0,De.isReactNative)()?{headers:{origin:a}}:{rejectUnauthorized:!(0,De.isLocalhostUrl)(e)},l=new C2(e,[],u);typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u"?l.onerror=d=>{s(this.emitError(d.error))}:l.on("error",d=>{s(this.emitError(d))}),l.onopen=()=>{this.onOpen(l),t(l)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=t=>this.onClose(t),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?(0,Us.D)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const s=this.parseError(t),a=s.message||s.toString(),u=(0,De.formatJsonRpcError)(e,a);this.events.emit("payload",u)}parseError(e,t=this.url){return(0,De.parseConnectionError)(e,sp(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){const t=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${sp(this.url)}`));return this.events.emit("register_error",t),t}}var O2=ke(12650),T2=ke.n(O2),D2=ke(9557),F2=ke.n(D2),k2=function B2(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),s=0;s<t.length;s++)t[s]=255;for(var a=0;a<r.length;a++){var u=r.charAt(a),l=u.charCodeAt(0);if(255!==t[l])throw new TypeError(u+" is ambiguous");t[l]=a}var d=r.length,y=r.charAt(0),g=Math.log(d)/Math.log(256),w=Math.log(256)/Math.log(d);function O(B){if("string"!=typeof B)throw new TypeError("Expected String");if(0===B.length)return new Uint8Array;var H=0;if(" "!==B[H]){for(var W=0,le=0;B[H]===y;)W++,H++;for(var Ie=(B.length-H)*g+1>>>0,Ae=new Uint8Array(Ie);B[H];){var _e=t[B.charCodeAt(H)];if(255===_e)return;for(var ve=0,xe=Ie-1;(0!==_e||ve<le)&&-1!==xe;xe--,ve++)Ae[xe]=(_e+=d*Ae[xe]>>>0)%256>>>0,_e=_e/256>>>0;if(0!==_e)throw new Error("Non-zero carry");le=ve,H++}if(" "!==B[H]){for(var Fe=Ie-le;Fe!==Ie&&0===Ae[Fe];)Fe++;for(var Be=new Uint8Array(W+(Ie-Fe)),gt=W;Fe!==Ie;)Be[gt++]=Ae[Fe++];return Be}}}return{encode:function I(B){if(B instanceof Uint8Array||(ArrayBuffer.isView(B)?B=new Uint8Array(B.buffer,B.byteOffset,B.byteLength):Array.isArray(B)&&(B=Uint8Array.from(B))),!(B instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===B.length)return"";for(var H=0,W=0,le=0,Ie=B.length;le!==Ie&&0===B[le];)le++,H++;for(var Ae=(Ie-le)*w+1>>>0,_e=new Uint8Array(Ae);le!==Ie;){for(var ve=B[le],xe=0,Fe=Ae-1;(0!==ve||xe<W)&&-1!==Fe;Fe--,xe++)_e[Fe]=(ve+=256*_e[Fe]>>>0)%d>>>0,ve=ve/d>>>0;if(0!==ve)throw new Error("Non-zero carry");W=xe,le++}for(var Be=Ae-W;Be!==Ae&&0===_e[Be];)Be++;for(var gt=y.repeat(H);Be<Ae;++Be)gt+=r.charAt(_e[Be]);return gt},decodeUnsafe:O,decode:function F(B){var H=O(B);if(H)return H;throw new Error(`Non-${e} character`)}}};const ap=r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")};class z2{constructor(e,t,s){this.name=e,this.prefix=t,this.baseEncode=s}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class L2{constructor(e,t,s){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=s}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return up(this,e)}}class Z2{constructor(e){this.decoders=e}or(e){return up(this,e)}decode(e){const s=this.decoders[e[0]];if(s)return s.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const up=(r,e)=>new Z2({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class K2{constructor(e,t,s,a){this.name=e,this.prefix=t,this.baseEncode=s,this.baseDecode=a,this.encoder=new z2(e,t,s),this.decoder=new L2(e,t,a)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const ic=({name:r,prefix:e,encode:t,decode:s})=>new K2(r,e,t,s),Ja=({prefix:r,name:e,alphabet:t})=>{const{encode:s,decode:a}=k2(t,e);return ic({prefix:r,name:e,encode:s,decode:u=>ap(a(u))})},Tn=({name:r,prefix:e,bitsPerChar:t,alphabet:s})=>ic({prefix:e,name:r,encode:a=>((r,e,t)=>{const s="="===e[e.length-1],a=(1<<t)-1;let u="",l=0,d=0;for(let y=0;y<r.length;++y)for(d=d<<8|r[y],l+=8;l>t;)l-=t,u+=e[a&d>>l];if(l&&(u+=e[a&d<<t-l]),s)for(;u.length*t&7;)u+="=";return u})(a,s,t),decode:a=>((r,e,t,s)=>{const a={};for(let w=0;w<e.length;++w)a[e[w]]=w;let u=r.length;for(;"="===r[u-1];)--u;const l=new Uint8Array(u*t/8|0);let d=0,y=0,g=0;for(let w=0;w<u;++w){const I=a[r[w]];if(void 0===I)throw new SyntaxError(`Non-${s} character`);y=y<<t|I,d+=t,d>=8&&(d-=8,l[g++]=255&y>>d)}if(d>=t||255&y<<8-d)throw new SyntaxError("Unexpected end of data");return l})(a,s,t,r)}),V2=ic({prefix:"\0",name:"identity",encode:r=>(r=>(new TextDecoder).decode(r))(r),decode:r=>(r=>(new TextEncoder).encode(r))(r)});var G2=Object.freeze({__proto__:null,identity:V2});const J2=Tn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var W2=Object.freeze({__proto__:null,base2:J2});const Q2=Tn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Y2=Object.freeze({__proto__:null,base8:Q2});const X2=Ja({prefix:"9",name:"base10",alphabet:"0123456789"});var eb=Object.freeze({__proto__:null,base10:X2});const tb=Tn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),rb=Tn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var nb=Object.freeze({__proto__:null,base16:tb,base16upper:rb});const ib=Tn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),sb=Tn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ob=Tn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ab=Tn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ub=Tn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),cb=Tn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),lb=Tn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),hb=Tn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),fb=Tn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var db=Object.freeze({__proto__:null,base32:ib,base32upper:sb,base32pad:ob,base32padupper:ab,base32hex:ub,base32hexupper:cb,base32hexpad:lb,base32hexpadupper:hb,base32z:fb});const pb=Ja({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),gb=Ja({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var mb=Object.freeze({__proto__:null,base36:pb,base36upper:gb});const vb=Ja({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),yb=Ja({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var _b=Object.freeze({__proto__:null,base58btc:vb,base58flickr:yb});const bb=Tn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),wb=Tn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ab=Tn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),xb=Tn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Eb=Object.freeze({__proto__:null,base64:bb,base64pad:wb,base64url:Ab,base64urlpad:xb});const cp=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),Ib=cp.reduce((r,e,t)=>(r[t]=e,r),[]),Sb=cp.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]),Rb=ic({prefix:"\u{1f680}",name:"base256emoji",encode:function Mb(r){return r.reduce((e,t)=>e+Ib[t],"")},decode:function Pb(r){const e=[];for(const t of r){const s=Sb[t.codePointAt(0)];if(void 0===s)throw new Error(`Non-base256emoji character: ${t}`);e.push(s)}return new Uint8Array(e)}});var Cb=Object.freeze({__proto__:null,base256emoji:Rb}),lp=128,Tb=-128,Db=Math.pow(2,31),Bb=128,fp=127,qb=Math.pow(2,7),kb=Math.pow(2,14),Ub=Math.pow(2,21),jb=Math.pow(2,28),zb=Math.pow(2,35),Lb=Math.pow(2,42),Zb=Math.pow(2,49),Kb=Math.pow(2,56),Hb=Math.pow(2,63),Vb={encode:function hp(r,e,t){e=e||[];for(var s=t=t||0;r>=Db;)e[t++]=255&r|lp,r/=128;for(;r&Tb;)e[t++]=255&r|lp,r>>>=7;return e[t]=0|r,hp.bytes=t-s+1,e},decode:function nh(r,s){var l,t=0,a=0,u=s=s||0,d=r.length;do{if(u>=d)throw nh.bytes=0,new RangeError("Could not decode varint");l=r[u++],t+=a<28?(l&fp)<<a:(l&fp)*Math.pow(2,a),a+=7}while(l>=Bb);return nh.bytes=u-s,t},encodingLength:function(r){return r<qb?1:r<kb?2:r<Ub?3:r<jb?4:r<zb?5:r<Lb?6:r<Zb?7:r<Kb?8:r<Hb?9:10}},dp=Vb;const pp=(r,e,t=0)=>(dp.encode(r,e,t),e),gp=r=>dp.encodingLength(r),ih=(r,e)=>{const t=e.byteLength,s=gp(r),a=s+gp(t),u=new Uint8Array(a+t);return pp(r,u,0),pp(t,u,s),u.set(e,a),new Gb(r,t,e,u)};class Gb{constructor(e,t,s,a){this.code=e,this.size=t,this.digest=s,this.bytes=a}}const mp=({name:r,code:e,encode:t})=>new Jb(r,e,t);class Jb{constructor(e,t,s){this.name=e,this.code=t,this.encode=s}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?ih(this.code,t):t.then(s=>ih(this.code,s))}throw Error("Unknown type, must be binary type")}}const vp=r=>function(){var e=(0,S.Z)(function*(t){return new Uint8Array(yield crypto.subtle.digest(r,t))});return function(t){return e.apply(this,arguments)}}(),Wb=mp({name:"sha2-256",code:18,encode:vp("SHA-256")}),Qb=mp({name:"sha2-512",code:19,encode:vp("SHA-512")});Object.freeze({__proto__:null,sha256:Wb,sha512:Qb});const _p=ap;Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:_p,digest:r=>ih(0,_p(r))}}),new TextEncoder,new TextDecoder;const bp={...G2,...W2,...Y2,...eb,...nb,...db,...mb,..._b,...Eb,...Cb};function wp(r,e,t,s){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:s}}}const Ap=wp("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),sh=wp("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{const e=function tw(r=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(r):new Uint8Array(r)}((r=r.substring(1)).length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),rw={utf8:Ap,"utf-8":Ap,hex:bp.base16,latin1:sh,ascii:sh,binary:sh,...bp},lo="wc@2:core:",ow={database:":memory:"},Ep="client_ed25519_seed",uw=ce.ONE_DAY,dw=ce.SIX_HOURS,Sp="wss://relay.walletconnect.org",vs_created="subscription_created",vs_deleted="subscription_deleted",Iw=1e3*ce.FIVE_SECONDS,Wa={wc_pairingDelete:{req:{ttl:ce.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ce.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ce.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ce.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ce.ONE_DAY,prompt:!1,tag:0},res:{ttl:ce.ONE_DAY,prompt:!1,tag:0}}},Fi_expired="expirer_expired",ah="verify-api",Mp="https://verify.walletconnect.org",Qa=Mp,Tw=["https://verify.walletconnect.com",Mp];class Bw{constructor(e,t){var s=this;this.core=e,this.logger=t,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=lo,this.init=(0,S.Z)(function*(){if(!s.initialized){const a=yield s.getKeyChain();typeof a<"u"&&(s.keychain=a),s.initialized=!0}}),this.has=a=>(this.isInitialized(),this.keychain.has(a)),this.set=function(){var a=(0,S.Z)(function*(u,l){s.isInitialized(),s.keychain.set(u,l),yield s.persist()});return function(u,l){return a.apply(this,arguments)}}(),this.get=a=>{this.isInitialized();const u=this.keychain.get(a);if(typeof u>"u"){const{message:l}=he("NO_MATCHING_KEY",`${this.name}: ${a}`);throw new Error(l)}return u},this.del=function(){var a=(0,S.Z)(function*(u){s.isInitialized(),s.keychain.delete(u),yield s.persist()});return function(u){return a.apply(this,arguments)}}(),this.core=e,this.logger=(0,lt.Ep)(t,this.name)}get context(){return(0,lt.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}setKeyChain(e){var t=this;return(0,S.Z)(function*(){yield t.core.storage.setItem(t.storageKey,Ir(e))})()}getKeyChain(){var e=this;return(0,S.Z)(function*(){const t=yield e.core.storage.getItem(e.storageKey);return typeof t<"u"?Lt(t):void 0})()}persist(){var e=this;return(0,S.Z)(function*(){yield e.setKeyChain(e.keychain)})()}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}}class qw{constructor(e,t,s){var a=this;this.core=e,this.logger=t,this.name="crypto",this.randomSessionIdentifier=Ul(),this.initialized=!1,this.init=(0,S.Z)(function*(){a.initialized||(yield a.keychain.init(),a.initialized=!0)}),this.hasKeys=u=>(this.isInitialized(),this.keychain.has(u)),this.getClientId=(0,S.Z)(function*(){return a.isInitialized(),np(ip(yield a.getClientSeed()).publicKey)}),this.generateKeyPair=()=>{this.isInitialized();const u=function gy(){const r=ae.Au();return{privateKey:tn(r.secretKey,Yn),publicKey:tn(r.publicKey,Yn)}}();return this.setPrivateKey(u.publicKey,u.privateKey)},this.signJWT=function(){var u=(0,S.Z)(function*(l){a.isInitialized();const y=ip(yield a.getClientSeed()),g=a.randomSessionIdentifier;return yield function M2(r,e,t,s){return th.apply(this,arguments)}(g,l,uw,y)});return function(l){return u.apply(this,arguments)}}(),this.generateSharedKey=(u,l,d)=>{this.isInitialized();const g=function my(r,e){const t=ae.gi(Qe(r,Yn),Qe(e,Yn),!0);return tn(new oi.t(ai.mE,t).expand(32),Yn)}(this.getPrivateKey(u),l);return this.setSymKey(g,d)},this.setSymKey=function(){var u=(0,S.Z)(function*(l,d){a.isInitialized();const y=d||Ju(l);return yield a.keychain.set(y,l),y});return function(l,d){return u.apply(this,arguments)}}(),this.deleteKeyPair=function(){var u=(0,S.Z)(function*(l){a.isInitialized(),yield a.keychain.del(l)});return function(l){return u.apply(this,arguments)}}(),this.deleteSymKey=function(){var u=(0,S.Z)(function*(l){a.isInitialized(),yield a.keychain.del(l)});return function(l){return u.apply(this,arguments)}}(),this.encode=function(){var u=(0,S.Z)(function*(l,d,y){a.isInitialized();const g=Cd(y),w=(0,Us.u)(d);if(Nd(g)){const B=g.senderPublicKey,H=g.receiverPublicKey;l=yield a.generateSharedKey(B,H)}const I=a.getSymKey(l),{type:O,senderPublicKey:F}=g;return function yy(r){const e=function vy(r){return Qe(`${r}`,Md)}(typeof r.type<"u"?r.type:0);if(1===Za(e)&&typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const t=typeof r.senderPublicKey<"u"?Qe(r.senderPublicKey,Yn):void 0,s=typeof r.iv<"u"?Qe(r.iv,Yn):(0,Vn.randomBytes)(12);return function by(r){if(1===Za(r.type)){if(typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return tn(xr([r.type,r.senderPublicKey,r.iv,r.sealed]),Fl)}return tn(xr([r.type,r.iv,r.sealed]),Fl)}({type:e,sealed:new jr.OK(Qe(r.symKey,Yn)).seal(s,Qe(r.message,Bl)),iv:s,senderPublicKey:t})}({type:O,symKey:I,message:w,senderPublicKey:F})});return function(l,d,y){return u.apply(this,arguments)}}(),this.decode=function(){var u=(0,S.Z)(function*(l,d,y){a.isInitialized();const g=function wy(r,e){const t=Wu(r);return Cd({type:Za(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?tn(t.senderPublicKey,Yn):void 0,receiverPublicKey:e?.receiverPublicKey})}(d,y);if(Nd(g)){const w=g.receiverPublicKey,I=g.senderPublicKey;l=yield a.generateSharedKey(w,I)}try{const I=function _y(r){const e=new jr.OK(Qe(r.symKey,Yn)),{sealed:t,iv:s}=Wu(r.encoded),a=e.open(s,t);if(null===a)throw new Error("Failed to decrypt");return tn(a,Bl)}({symKey:a.getSymKey(l),encoded:d});return(0,Us.D)(I)}catch(w){a.logger.error(`Failed to decode message from topic: '${l}', clientId: '${yield a.getClientId()}'`),a.logger.error(w)}});return function(l,d,y){return u.apply(this,arguments)}}(),this.getPayloadType=u=>Za(Wu(u).type),this.getPayloadSenderPublicKey=u=>{const l=Wu(u);return l.senderPublicKey?tn(l.senderPublicKey,Yn):void 0},this.core=e,this.logger=(0,lt.Ep)(t,this.name),this.keychain=s||new Bw(this.core,this.logger)}get context(){return(0,lt.Fd)(this.logger)}setPrivateKey(e,t){var s=this;return(0,S.Z)(function*(){return yield s.keychain.set(e,t),e})()}getPrivateKey(e){return this.keychain.get(e)}getClientSeed(){var e=this;return(0,S.Z)(function*(){let t="";try{t=e.keychain.get(Ep)}catch{t=Ul(),yield e.keychain.set(Ep,t)}return function nw(r,e="utf8"){const t=rw[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?t.decoder.decode(`${t.prefix}${r}`):globalThis.Buffer.from(r,"utf8")}(t,"base16")})()}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}}class kw extends e2{constructor(e,t){var s;super(e,t),s=this,this.logger=e,this.core=t,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=lo,this.init=(0,S.Z)(function*(){if(!s.initialized){s.logger.trace("Initialized");try{const a=yield s.getRelayerMessages();typeof a<"u"&&(s.messages=a),s.logger.debug(`Successfully Restored records for ${s.name}`),s.logger.trace({type:"method",method:"restore",size:s.messages.size})}catch(a){s.logger.debug(`Failed to Restore records for ${s.name}`),s.logger.error(a)}finally{s.initialized=!0}}}),this.set=function(){var a=(0,S.Z)(function*(u,l){s.isInitialized();const d=To(l);let y=s.messages.get(u);return typeof y>"u"&&(y={}),typeof y[d]<"u"||(y[d]=l,s.messages.set(u,y),yield s.persist()),d});return function(u,l){return a.apply(this,arguments)}}(),this.get=a=>{this.isInitialized();let u=this.messages.get(a);return typeof u>"u"&&(u={}),u},this.has=(a,u)=>(this.isInitialized(),typeof this.get(a)[To(u)]<"u"),this.del=function(){var a=(0,S.Z)(function*(u){s.isInitialized(),s.messages.delete(u),yield s.persist()});return function(u){return a.apply(this,arguments)}}(),this.logger=(0,lt.Ep)(e,this.name),this.core=t}get context(){return(0,lt.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}setRelayerMessages(e){var t=this;return(0,S.Z)(function*(){yield t.core.storage.setItem(t.storageKey,Ir(e))})()}getRelayerMessages(){var e=this;return(0,S.Z)(function*(){const t=yield e.core.storage.getItem(e.storageKey);return typeof t<"u"?Lt(t):void 0})()}persist(){var e=this;return(0,S.Z)(function*(){yield e.setRelayerMessages(e.messages)})()}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Uw extends t2{constructor(e,t){var s;super(e,t),s=this,this.relayer=e,this.logger=t,this.events=new ur.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=(0,ce.toMiliseconds)(ce.ONE_MINUTE),this.failedPublishTimeout=(0,ce.toMiliseconds)(ce.ONE_SECOND),this.needsTransportRestart=!1,this.publish=function(){var a=(0,S.Z)(function*(u,l,d){var y;s.logger.debug("Publishing Payload"),s.logger.trace({type:"method",method:"publish",params:{topic:u,message:l,opts:d}});const g=d?.ttl||dw,w=jl(d),I=d?.prompt||!1,O=d?.tag||0,F=d?.id||(0,De.getBigIntRpcId)().toString(),B={topic:u,message:l,opts:{ttl:g,relay:w,prompt:I,tag:O,id:F}},H=`Failed to publish payload, please try again. id:${F} tag:${O}`,W=Date.now();let le,Ie=1;try{for(;void 0===le;){if(Date.now()-W>s.publishTimeout)throw new Error(H);s.logger.trace({id:F,attempts:Ie},`publisher.publish - attempt ${Ie}`),le=yield yield kn(s.rpcPublish(u,l,g,w,I,O,F).catch(Ae=>s.logger.warn(Ae)),s.publishTimeout,H),Ie++,le||(yield new Promise(Ae=>setTimeout(Ae,s.failedPublishTimeout)))}s.relayer.events.emit("relayer_publish",B),s.logger.debug("Successfully Published Payload"),s.logger.trace({type:"method",method:"publish",params:{id:F,topic:u,message:l,opts:d}})}catch(Ae){if(s.logger.debug("Failed to Publish Payload"),s.logger.error(Ae),null!=(y=d?.internal)&&y.throwOnFailedPublish)throw Ae;s.queue.set(F,B)}});return function(u,l,d){return a.apply(this,arguments)}}(),this.on=(a,u)=>{this.events.on(a,u)},this.once=(a,u)=>{this.events.once(a,u)},this.off=(a,u)=>{this.events.off(a,u)},this.removeListener=(a,u)=>{this.events.removeListener(a,u)},this.relayer=e,this.logger=(0,lt.Ep)(t,this.name),this.registerEventListeners()}get context(){return(0,lt.Fd)(this.logger)}rpcPublish(e,t,s,a,u,l,d){var y,g,w,I;const O={method:Ka(a.protocol).publish,params:{topic:e,message:t,ttl:s,prompt:u,tag:l},id:d};return Xn(null==(y=O.params)?void 0:y.prompt)&&(null==(g=O.params)||delete g.prompt),Xn(null==(w=O.params)?void 0:w.tag)&&(null==(I=O.params)||delete I.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:O}),this.relayer.request(O)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){var e=this;this.queue.forEach(function(){var t=(0,S.Z)(function*(s){const{topic:a,message:u,opts:l}=s;yield e.publish(a,u,l)});return function(s){return t.apply(this,arguments)}}())}registerEventListeners(){this.relayer.core.heartbeat.on(Ga_pulse,()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit("relayer_connection_stalled");this.checkQueue()}),this.relayer.on("relayer_message_ack",e=>{this.removeRequestFromQueue(e.id.toString())})}}class jw{constructor(){this.map=new Map,this.set=(e,t)=>{const s=this.get(e);this.exists(e,t)||this.map.set(e,[...s,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u")return void this.map.delete(e);if(!this.map.has(e))return;const s=this.get(e);if(!this.exists(e,t))return;const a=s.filter(u=>u!==t);a.length?this.map.set(e,a):this.map.delete(e)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var zw=Object.defineProperty,Lw=Object.defineProperties,Zw=Object.getOwnPropertyDescriptors,Pp=Object.getOwnPropertySymbols,Kw=Object.prototype.hasOwnProperty,Hw=Object.prototype.propertyIsEnumerable,Rp=(r,e,t)=>e in r?zw(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ya=(r,e)=>{for(var t in e||(e={}))Kw.call(e,t)&&Rp(r,t,e[t]);if(Pp)for(var t of Pp(e))Hw.call(e,t)&&Rp(r,t,e[t]);return r},uh=(r,e)=>Lw(r,Zw(e));class $w extends i2{constructor(e,t){var s;super(e,t),s=this,this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new jw,this.events=new ur.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=lo,this.subscribeTimeout=(0,ce.toMiliseconds)(ce.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=(0,S.Z)(function*(){s.initialized||(s.logger.trace("Initialized"),s.registerEventListeners(),s.clientId=yield s.relayer.core.crypto.getClientId())}),this.subscribe=function(){var a=(0,S.Z)(function*(u,l){yield s.restartToComplete(),s.isInitialized(),s.logger.debug("Subscribing Topic"),s.logger.trace({type:"method",method:"subscribe",params:{topic:u,opts:l}});try{const d=jl(l),y={topic:u,relay:d};s.pending.set(u,y);const g=yield s.rpcSubscribe(u,d);return"string"==typeof g&&(s.onSubscribe(g,y),s.logger.debug("Successfully Subscribed Topic"),s.logger.trace({type:"method",method:"subscribe",params:{topic:u,opts:l}})),g}catch(d){throw s.logger.debug("Failed to Subscribe Topic"),s.logger.error(d),d}});return function(u,l){return a.apply(this,arguments)}}(),this.unsubscribe=function(){var a=(0,S.Z)(function*(u,l){yield s.restartToComplete(),s.isInitialized(),typeof l?.id<"u"?yield s.unsubscribeById(u,l.id,l):yield s.unsubscribeByTopic(u,l)});return function(u,l){return a.apply(this,arguments)}}(),this.isSubscribed=function(){var a=(0,S.Z)(function*(u){if(s.topics.includes(u))return!0;const l=`${s.pendingSubscriptionWatchLabel}_${u}`;return yield new Promise((d,y)=>{const g=new ce.Watch;g.start(l);const w=setInterval(()=>{!s.pending.has(u)&&s.topics.includes(u)&&(clearInterval(w),g.stop(l),d(!0)),g.elapsed(l)>=Iw&&(clearInterval(w),g.stop(l),y(new Error("Subscription resolution timeout")))},s.pollingInterval)}).catch(()=>!1)});return function(u){return a.apply(this,arguments)}}(),this.on=(a,u)=>{this.events.on(a,u)},this.once=(a,u)=>{this.events.once(a,u)},this.off=(a,u)=>{this.events.off(a,u)},this.removeListener=(a,u)=>{this.events.removeListener(a,u)},this.start=(0,S.Z)(function*(){yield s.onConnect()}),this.stop=(0,S.Z)(function*(){yield s.onDisconnect()}),this.restart=(0,S.Z)(function*(){s.restartInProgress=!0,yield s.restore(),yield s.reset(),s.restartInProgress=!1}),this.relayer=e,this.logger=(0,lt.Ep)(t,this.name),this.clientId=""}get context(){return(0,lt.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let s=!1;try{s=this.getSubscription(e).topic===t}catch{}return s}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}unsubscribeByTopic(e,t){var s=this;return(0,S.Z)(function*(){const a=s.topicMap.get(e);yield Promise.all(a.map(function(){var u=(0,S.Z)(function*(l){return yield s.unsubscribeById(e,l,t)});return function(l){return u.apply(this,arguments)}}()))})()}unsubscribeById(e,t,s){var a=this;return(0,S.Z)(function*(){a.logger.debug("Unsubscribing Topic"),a.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:s}});try{const u=jl(s);yield a.rpcUnsubscribe(e,t,u);const l=Pt("USER_DISCONNECTED",`${a.name}, ${e}`);yield a.onUnsubscribe(e,t,l),a.logger.debug("Successfully Unsubscribed Topic"),a.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:s}})}catch(u){throw a.logger.debug("Failed to Unsubscribe Topic"),a.logger.error(u),u}})()}rpcSubscribe(e,t){var s=this;return(0,S.Z)(function*(){const a={method:Ka(t.protocol).subscribe,params:{topic:e}};s.logger.debug("Outgoing Relay Payload"),s.logger.trace({type:"payload",direction:"outgoing",request:a});try{return(yield yield kn(s.relayer.request(a).catch(u=>s.logger.warn(u)),s.subscribeTimeout))?To(e+s.clientId):null}catch{s.logger.debug("Outgoing Relay Subscribe Payload stalled"),s.relayer.events.emit("relayer_connection_stalled")}return null})()}rpcBatchSubscribe(e){var t=this;return(0,S.Z)(function*(){if(!e.length)return;const a={method:Ka(e[0].relay.protocol).batchSubscribe,params:{topics:e.map(u=>u.topic)}};t.logger.debug("Outgoing Relay Payload"),t.logger.trace({type:"payload",direction:"outgoing",request:a});try{return yield yield kn(t.relayer.request(a).catch(u=>t.logger.warn(u)),t.subscribeTimeout)}catch{t.relayer.events.emit("relayer_connection_stalled")}})()}rpcBatchFetchMessages(e){var t=this;return(0,S.Z)(function*(){if(!e.length)return;const a={method:Ka(e[0].relay.protocol).batchFetchMessages,params:{topics:e.map(l=>l.topic)}};let u;t.logger.debug("Outgoing Relay Payload"),t.logger.trace({type:"payload",direction:"outgoing",request:a});try{u=yield yield kn(t.relayer.request(a).catch(l=>t.logger.warn(l)),t.subscribeTimeout)}catch{t.relayer.events.emit("relayer_connection_stalled")}return u})()}rpcUnsubscribe(e,t,s){const a={method:Ka(s.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a}),this.relayer.request(a)}onSubscribe(e,t){this.setSubscription(e,uh(Ya({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,Ya({},t)),this.pending.delete(t.topic)})}onUnsubscribe(e,t,s){var a=this;return(0,S.Z)(function*(){a.events.removeAllListeners(t),a.hasSubscription(t,e)&&a.deleteSubscription(t,s),yield a.relayer.messages.del(e)})()}setRelayerSubscriptions(e){var t=this;return(0,S.Z)(function*(){yield t.relayer.core.storage.setItem(t.storageKey,e)})()}getRelayerSubscriptions(){var e=this;return(0,S.Z)(function*(){return yield e.relayer.core.storage.getItem(e.storageKey)})()}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,Ya({},t)),this.topicMap.set(t.topic,e),this.events.emit(vs_created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:s}=he("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(s)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const s=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(s.topic,e),this.events.emit(vs_deleted,uh(Ya({},s),{reason:t}))}persist(){var e=this;return(0,S.Z)(function*(){yield e.setRelayerSubscriptions(e.values),e.events.emit("subscription_sync")})()}reset(){var e=this;return(0,S.Z)(function*(){if(e.cached.length){const t=Math.ceil(e.cached.length/e.batchSubscribeTopicsLimit);for(let s=0;s<t;s++){const a=e.cached.splice(0,e.batchSubscribeTopicsLimit);yield e.batchFetchMessages(a),yield e.batchSubscribe(a)}}e.events.emit("subscription_resubscribed")})()}restore(){var e=this;return(0,S.Z)(function*(){try{const t=yield e.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(e.subscriptions.size){const{message:s}=he("RESTORE_WILL_OVERRIDE",e.name);throw e.logger.error(s),e.logger.error(`${e.name}: ${JSON.stringify(e.values)}`),new Error(s)}e.cached=t,e.logger.debug(`Successfully Restored subscriptions for ${e.name}`),e.logger.trace({type:"method",method:"restore",subscriptions:e.values})}catch(t){e.logger.debug(`Failed to Restore subscriptions for ${e.name}`),e.logger.error(t)}})()}batchSubscribe(e){var t=this;return(0,S.Z)(function*(){if(!e.length)return;const s=yield t.rpcBatchSubscribe(e);gs(s)&&t.onBatchSubscribe(s.map((a,u)=>uh(Ya({},e[u]),{id:a})))})()}batchFetchMessages(e){var t=this;return(0,S.Z)(function*(){if(!e.length)return;t.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const s=yield t.rpcBatchFetchMessages(e);s&&s.messages&&(t.pendingBatchMessages=t.pendingBatchMessages.concat(s.messages))})()}onConnect(){var e=this;return(0,S.Z)(function*(){yield e.restart(),e.onEnable()})()}onDisconnect(){this.onDisable()}checkPending(){var e=this;return(0,S.Z)(function*(){if(!e.initialized||!e.relayer.connected)return;const t=[];e.pending.forEach(s=>{t.push(s)}),yield e.batchSubscribe(t),e.pendingBatchMessages.length&&(yield e.relayer.handleBatchMessageEvents(e.pendingBatchMessages),e.pendingBatchMessages=[])})()}registerEventListeners(){var e=this;this.relayer.core.heartbeat.on(Ga_pulse,(0,S.Z)(function*(){yield e.checkPending()})),this.events.on(vs_created,function(){var t=(0,S.Z)(function*(s){const a=vs_created;e.logger.info(`Emitting ${a}`),e.logger.debug({type:"event",event:a,data:s}),yield e.persist()});return function(s){return t.apply(this,arguments)}}()),this.events.on(vs_deleted,function(){var t=(0,S.Z)(function*(s){const a=vs_deleted;e.logger.info(`Emitting ${a}`),e.logger.debug({type:"event",event:a,data:s}),yield e.persist()});return function(s){return t.apply(this,arguments)}}())}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}restartToComplete(){var e=this;return(0,S.Z)(function*(){e.restartInProgress&&(yield new Promise(t=>{const s=setInterval(()=>{e.restartInProgress||(clearInterval(s),t())},e.pollingInterval)}))})()}}var Vw=Object.defineProperty,Cp=Object.getOwnPropertySymbols,Gw=Object.prototype.hasOwnProperty,Jw=Object.prototype.propertyIsEnumerable,Np=(r,e,t)=>e in r?Vw(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class Qw extends r2{constructor(e){var t;super(e),t=this,this.protocol="wc",this.version=2,this.events=new ur.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=(0,ce.toMiliseconds)(ce.THIRTY_SECONDS+ce.ONE_SECOND),this.request=function(){var s=(0,S.Z)(function*(a){var u,l;t.logger.debug("Publishing Request Payload");const d=a.id||(0,De.getBigIntRpcId)().toString();yield t.toEstablishConnection();try{const y=t.provider.request(a);t.requestsInFlight.set(d,{promise:y,request:a}),t.logger.trace({id:d,method:a.method,topic:null==(u=a.params)?void 0:u.topic},"relayer.request - attempt to publish...");const g=yield new Promise(function(){var w=(0,S.Z)(function*(I,O){const F=()=>{O(new Error(`relayer.request - publish interrupted, id: ${d}`))};t.provider.on("disconnect",F);const B=yield y;t.provider.off("disconnect",F),I(B)});return function(I,O){return w.apply(this,arguments)}}());return t.logger.trace({id:d,method:a.method,topic:null==(l=a.params)?void 0:l.topic},"relayer.request - published"),g}catch(y){throw t.logger.debug(`Failed to Publish Request: ${d}`),y}finally{t.requestsInFlight.delete(d)}});return function(a){return s.apply(this,arguments)}}(),this.resetPingTimeout=()=>{if(_n())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var s,a,u;null==(u=null==(a=null==(s=this.provider)?void 0:s.connection)?void 0:a.socket)||u.terminate()},this.heartBeatTimeout)}catch(s){this.logger.warn(s)}},this.onPayloadHandler=s=>{this.onProviderPayload(s),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.trace("relayer connected"),this.startPingTimeout(),this.events.emit("relayer_connect")},this.onDisconnectHandler=()=>{this.logger.trace("relayer disconnected"),this.onProviderDisconnect()},this.onProviderErrorHandler=s=>{this.logger.error(s),this.events.emit("relayer_error",s),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on("payload",this.onPayloadHandler),this.provider.on("connect",this.onConnectHandler),this.provider.on("disconnect",this.onDisconnectHandler),this.provider.on("error",this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&"string"!=typeof e.logger?(0,lt.Ep)(e.logger,this.name):(0,lt.gw)((0,lt.jI)({level:e.logger||"error"})),this.messages=new kw(this.logger,e.core),this.subscriber=new $w(this,this.logger),this.publisher=new Uw(this,this.logger),this.relayUrl=e?.relayUrl||Sp,this.projectId=e.projectId,this.bundleId=function Ns(){var r;try{return Rn()&&typeof global<"u"&&typeof(null==global?void 0:global.Application)<"u"?null==(r=global.Application)?void 0:r.applicationId:void 0}catch{return}}(),this.provider={}}init(){var e=this;return(0,S.Z)(function*(){e.logger.trace("Initialized"),e.registerEventListeners(),yield Promise.all([e.messages.init(),e.subscriber.init()]),yield e.transportOpen(),e.initialized=!0,setTimeout((0,S.Z)(function*(){0===e.subscriber.topics.length&&0===e.subscriber.pending.size&&(e.logger.info("No topics subscribed to after init, closing transport"),yield e.transportClose(),e.transportExplicitlyClosed=!1)}),1e4)})()}get context(){return(0,lt.Fd)(this.logger)}get connected(){var e,t,s;return 1===(null==(s=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:s.readyState)}get connecting(){var e,t,s;return 0===(null==(s=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:s.readyState)}publish(e,t,s){var a=this;return(0,S.Z)(function*(){a.isInitialized(),yield a.publisher.publish(e,t,s),yield a.recordMessageEvent({topic:e,message:t,publishedAt:Date.now()})})()}subscribe(e,t){var s=this;return(0,S.Z)(function*(){var a;s.isInitialized();let l,u=(null==(a=s.subscriber.topicMap.get(e))?void 0:a[0])||"";const d=y=>{y.topic===e&&(s.subscriber.off(vs_created,d),l())};return yield Promise.all([new Promise(y=>{l=y,s.subscriber.on(vs_created,d)}),new Promise(function(){var y=(0,S.Z)(function*(g){u=(yield s.subscriber.subscribe(e,t))||u,g()});return function(g){return y.apply(this,arguments)}}())]),u})()}unsubscribe(e,t){var s=this;return(0,S.Z)(function*(){s.isInitialized(),yield s.subscriber.unsubscribe(e,t)})()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}transportDisconnect(){var e=this;return(0,S.Z)(function*(){if(!e.hasExperiencedNetworkDisruption&&e.connected&&e.requestsInFlight.size>0)try{yield Promise.all(Array.from(e.requestsInFlight.values()).map(t=>t.promise))}catch(t){e.logger.warn(t)}e.hasExperiencedNetworkDisruption||e.connected?yield kn(e.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>e.onProviderDisconnect()):e.onProviderDisconnect()})()}transportClose(){var e=this;return(0,S.Z)(function*(){e.transportExplicitlyClosed=!0,yield e.transportDisconnect()})()}transportOpen(e){var t=this;return(0,S.Z)(function*(){yield t.confirmOnlineStateOrThrow(),e&&e!==t.relayUrl&&(t.relayUrl=e,yield t.transportDisconnect()),yield t.createProvider(),t.connectionAttemptInProgress=!0,t.transportExplicitlyClosed=!1;try{yield new Promise(function(){var s=(0,S.Z)(function*(a,u){const l=()=>{t.provider.off("disconnect",l),u(new Error("Connection interrupted while trying to subscribe"))};t.provider.on("disconnect",l),yield kn(t.provider.connect(),(0,ce.toMiliseconds)(ce.ONE_MINUTE),`Socket stalled when trying to connect to ${t.relayUrl}`).catch(d=>{u(d)}),t.subscriber.start().catch(d=>{t.logger.error(d),t.onDisconnectHandler()}),t.hasExperiencedNetworkDisruption=!1,a()});return function(a,u){return s.apply(this,arguments)}}())}catch(s){t.logger.error(s);const a=s;if(t.hasExperiencedNetworkDisruption=!0,!t.isConnectionStalled(a.message))throw s}finally{t.connectionAttemptInProgress=!1}})()}restartTransport(e){var t=this;return(0,S.Z)(function*(){t.connectionAttemptInProgress||(t.relayUrl=e||t.relayUrl,yield t.confirmOnlineStateOrThrow(),yield t.transportClose(),yield t.transportOpen())})()}confirmOnlineStateOrThrow(){return(0,S.Z)(function*(){if(!(yield Hd()))throw new Error("No internet connection detected. Please restart your network and try again.")})()}handleBatchMessageEvents(e){var t=this;return(0,S.Z)(function*(){if(0===e?.length)return void t.logger.trace("Batch message events is empty. Ignoring...");const s=e.sort((a,u)=>a.publishedAt-u.publishedAt);t.logger.trace(`Batch of ${s.length} message events sorted`);for(const a of s)try{yield t.onMessageEvent(a)}catch(u){t.logger.warn(u)}t.logger.trace(`Batch of ${s.length} message events processed`)})()}startPingTimeout(){var e,t,s,a,u;if(_n())try{null!=(t=null==(e=this.provider)?void 0:e.connection)&&t.socket&&(null==(u=null==(a=null==(s=this.provider)?void 0:s.connection)?void 0:a.socket)||u.once("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(l){this.logger.warn(l)}}isConnectionStalled(e){return this.staleConnectionErrors.some(t=>e.includes(t))}createProvider(){var e=this;return(0,S.Z)(function*(){e.provider.connection&&e.unregisterProviderListeners();const t=yield e.core.crypto.signJWT(e.relayUrl);e.provider=new ms.r(new N2(function yr({protocol:r,version:e,relayUrl:t,sdkVersion:s,auth:a,projectId:u,useOnCloseEvent:l,bundleId:d}){const y=t.split("?"),g=Fr(r,e,s),I=function io(r,e){let t=Ur.parse(r);return t=kt(kt({},t),e),Ur.stringify(t)}(y[1]||"",{auth:a,ua:g,projectId:u,useOnCloseEvent:l||void 0,origin:d||void 0});return y[0]+"?"+I}({sdkVersion:"2.14.0",protocol:e.protocol,version:e.version,relayUrl:e.relayUrl,projectId:e.projectId,auth:t,useOnCloseEvent:!0,bundleId:e.bundleId}))),e.registerProviderListeners()})()}recordMessageEvent(e){var t=this;return(0,S.Z)(function*(){const{topic:s,message:a}=e;yield t.messages.set(s,a)})()}shouldIgnoreMessageEvent(e){var t=this;return(0,S.Z)(function*(){const{topic:s,message:a}=e;if(!a||0===a.length)return t.logger.debug(`Ignoring invalid/empty message: ${a}`),!0;if(!(yield t.subscriber.isSubscribed(s)))return t.logger.debug(`Ignoring message for non-subscribed topic ${s}`),!0;const u=t.messages.has(s,a);return u&&t.logger.debug(`Ignoring duplicate message: ${a}`),u})()}onProviderPayload(e){var t=this;return(0,S.Z)(function*(){if(t.logger.debug("Incoming Relay Payload"),t.logger.trace({type:"payload",direction:"incoming",payload:e}),(0,De.isJsonRpcRequest)(e)){if(!e.method.endsWith("_subscription"))return;const s=e.params,{topic:a,message:u,publishedAt:l}=s.data,d={topic:a,message:u,publishedAt:l};t.logger.debug("Emitting Relayer Payload"),t.logger.trace(((r,e)=>{for(var t in e||(e={}))Gw.call(e,t)&&Np(r,t,e[t]);if(Cp)for(var t of Cp(e))Jw.call(e,t)&&Np(r,t,e[t]);return r})({type:"event",event:s.id},d)),t.events.emit(s.id,d),yield t.acknowledgePayload(e),yield t.onMessageEvent(d)}else(0,De.isJsonRpcResponse)(e)&&t.events.emit("relayer_message_ack",e)})()}onMessageEvent(e){var t=this;return(0,S.Z)(function*(){(yield t.shouldIgnoreMessageEvent(e))||(t.events.emit("relayer_message",e),yield t.recordMessageEvent(e))})()}acknowledgePayload(e){var t=this;return(0,S.Z)(function*(){const s=(0,De.formatJsonRpcResult)(e.id,!0);yield t.provider.connection.send(s)})()}unregisterProviderListeners(){this.provider.off("payload",this.onPayloadHandler),this.provider.off("connect",this.onConnectHandler),this.provider.off("disconnect",this.onDisconnectHandler),this.provider.off("error",this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}registerEventListeners(){var e=this;return(0,S.Z)(function*(){let t=yield Hd();!function y_(r){switch(qn()){case Ye.browser:!function __(r){!Rn()&&Or()&&(window.addEventListener("online",()=>r(!0)),window.addEventListener("offline",()=>r(!1)))}(r);break;case Ye.reactNative:!function b_(r){Rn()&&typeof global<"u"&&null!=global&&global.NetInfo&&global?.NetInfo.addEventListener(e=>r(e?.isConnected))}(r)}}(function(){var s=(0,S.Z)(function*(a){t!==a&&(t=a,a?yield e.restartTransport().catch(u=>e.logger.error(u)):(e.hasExperiencedNetworkDisruption=!0,yield e.transportDisconnect(),e.transportExplicitlyClosed=!1))});return function(a){return s.apply(this,arguments)}}())})()}onProviderDisconnect(){var e=this;return(0,S.Z)(function*(){yield e.subscriber.stop(),e.requestsInFlight.clear(),clearTimeout(e.pingTimeout),e.events.emit("relayer_disconnect"),e.connectionAttemptInProgress=!1,!e.transportExplicitlyClosed&&setTimeout((0,S.Z)(function*(){yield e.transportOpen().catch(t=>e.logger.error(t))}),(0,ce.toMiliseconds)(.1))})()}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}toEstablishConnection(){var e=this;return(0,S.Z)(function*(){yield e.confirmOnlineStateOrThrow(),!e.connected&&(e.connectionAttemptInProgress&&(yield new Promise(t=>{const s=setInterval(()=>{e.connected&&(clearInterval(s),t())},e.connectionStatusPollingInterval)})),yield e.transportOpen())})()}}var Yw=Object.defineProperty,Op=Object.getOwnPropertySymbols,Xw=Object.prototype.hasOwnProperty,e6=Object.prototype.propertyIsEnumerable,Tp=(r,e,t)=>e in r?Yw(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Dp=(r,e)=>{for(var t in e||(e={}))Xw.call(e,t)&&Tp(r,t,e[t]);if(Op)for(var t of Op(e))e6.call(e,t)&&Tp(r,t,e[t]);return r};class Fo extends n2{constructor(e,t,s,a=lo,u=void 0){var l;super(e,t,s,a),l=this,this.core=e,this.logger=t,this.name=s,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=lo,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=(0,S.Z)(function*(){l.initialized||(l.logger.trace("Initialized"),yield l.restore(),l.cached.forEach(d=>{l.getKey&&null!==d&&!Xn(d)?l.map.set(l.getKey(d),d):function Jy(r){var e;return null==(e=r?.proposer)?void 0:e.publicKey}(d)?l.map.set(d.id,d):function Wy(r){return r?.topic}(d)&&l.map.set(d.topic,d)}),l.cached=[],l.initialized=!0)}),this.set=function(){var d=(0,S.Z)(function*(y,g){l.isInitialized(),l.map.has(y)?yield l.update(y,g):(l.logger.debug("Setting value"),l.logger.trace({type:"method",method:"set",key:y,value:g}),l.map.set(y,g),yield l.persist())});return function(y,g){return d.apply(this,arguments)}}(),this.get=d=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:d}),this.getData(d)),this.getAll=d=>(this.isInitialized(),d?this.values.filter(y=>Object.keys(d).every(g=>T2()(y[g],d[g]))):this.values),this.update=function(){var d=(0,S.Z)(function*(y,g){l.isInitialized(),l.logger.debug("Updating value"),l.logger.trace({type:"method",method:"update",key:y,update:g});const w=Dp(Dp({},l.getData(y)),g);l.map.set(y,w),yield l.persist()});return function(y,g){return d.apply(this,arguments)}}(),this.delete=function(){var d=(0,S.Z)(function*(y,g){l.isInitialized(),l.map.has(y)&&(l.logger.debug("Deleting value"),l.logger.trace({type:"method",method:"delete",key:y,reason:g}),l.map.delete(y),l.addToRecentlyDeleted(y),yield l.persist())});return function(y,g){return d.apply(this,arguments)}}(),this.logger=(0,lt.Ep)(t,this.name),this.storagePrefix=a,this.getKey=u}get context(){return(0,lt.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}setDataStore(e){var t=this;return(0,S.Z)(function*(){yield t.core.storage.setItem(t.storageKey,e)})()}getDataStore(){var e=this;return(0,S.Z)(function*(){return yield e.core.storage.getItem(e.storageKey)})()}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:a}=he("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(a),new Error(a)}const{message:s}=he("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}return t}persist(){var e=this;return(0,S.Z)(function*(){yield e.setDataStore(e.values)})()}restore(){var e=this;return(0,S.Z)(function*(){try{const t=yield e.getDataStore();if(typeof t>"u"||!t.length)return;if(e.map.size){const{message:s}=he("RESTORE_WILL_OVERRIDE",e.name);throw e.logger.error(s),new Error(s)}e.cached=t,e.logger.debug(`Successfully Restored value for ${e.name}`),e.logger.trace({type:"method",method:"restore",value:e.values})}catch(t){e.logger.debug(`Failed to Restore value for ${e.name}`),e.logger.error(t)}})()}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}}class t6{constructor(e,t){var s=this;this.core=e,this.logger=t,this.name="pairing",this.version="0.3",this.events=new(pr()),this.initialized=!1,this.storagePrefix=lo,this.ignoredPayloadTypes=[1],this.registeredMethods=[],this.init=(0,S.Z)(function*(){s.initialized||(yield s.pairings.init(),yield s.cleanup(),s.registerRelayerEvents(),s.registerExpirerEvents(),s.initialized=!0,s.logger.trace("Initialized"))}),this.register=({methods:a})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...a])]},this.create=function(){var a=(0,S.Z)(function*(u){s.isInitialized();const l=Ul(),d=yield s.core.crypto.setSymKey(l),y=hn(ce.FIVE_MINUTES),g={protocol:"irn"},w={topic:d,expiry:y,relay:g,active:!1},I=function Oy(r){return`${r.protocol}:${r.topic}@${r.version}?`+Ur.stringify(Dd(((r,e)=>Ey(r,Iy(e)))(Dd({symKey:r.symKey},function Ny(r,e="-"){const s={};return Object.keys(r).forEach(a=>{r[a]&&(s["relay"+e+a]=r[a])}),s}(r.relay)),{expiryTimestamp:r.expiryTimestamp}),r.methods?{methods:r.methods.join(",")}:{}))}({protocol:s.core.protocol,version:s.core.version,topic:d,symKey:l,relay:g,expiryTimestamp:y,methods:u?.methods});return s.core.expirer.set(d,y),yield s.pairings.set(d,w),yield s.core.relayer.subscribe(d),{topic:d,uri:I}});return function(u){return a.apply(this,arguments)}}(),this.pair=function(){var a=(0,S.Z)(function*(u){s.isInitialized(),s.isValidPair(u);const{topic:l,symKey:d,relay:y,expiryTimestamp:g,methods:w}=Fd(u.uri);let I;if(s.pairings.keys.includes(l)&&(I=s.pairings.get(l),I.active))throw new Error(`Pairing already exists: ${l}. Please try again with a new connection URI.`);const O=g||hn(ce.FIVE_MINUTES),F={topic:l,relay:y,expiry:O,active:!1,methods:w};return s.core.expirer.set(l,O),yield s.pairings.set(l,F),u.activatePairing&&(yield s.activate({topic:l})),s.events.emit("pairing_create",F),s.core.crypto.keychain.has(l)||(yield s.core.crypto.setSymKey(d,l)),yield s.core.relayer.subscribe(l,{relay:y}),F});return function(u){return a.apply(this,arguments)}}(),this.activate=function(){var a=(0,S.Z)(function*({topic:u}){s.isInitialized();const l=hn(ce.THIRTY_DAYS);s.core.expirer.set(u,l),yield s.pairings.update(u,{active:!0,expiry:l})});return function(u){return a.apply(this,arguments)}}(),this.ping=function(){var a=(0,S.Z)(function*(u){s.isInitialized(),yield s.isValidPing(u);const{topic:l}=u;if(s.pairings.keys.includes(l)){const d=yield s.sendRequest(l,"wc_pairingPing",{}),{done:y,resolve:g,reject:w}=Ds();s.events.once(rt("pairing_ping",d),({error:I})=>{I?w(I):g()}),yield y()}});return function(u){return a.apply(this,arguments)}}(),this.updateExpiry=function(){var a=(0,S.Z)(function*({topic:u,expiry:l}){s.isInitialized(),yield s.pairings.update(u,{expiry:l})});return function(u){return a.apply(this,arguments)}}(),this.updateMetadata=function(){var a=(0,S.Z)(function*({topic:u,metadata:l}){s.isInitialized(),yield s.pairings.update(u,{peerMetadata:l})});return function(u){return a.apply(this,arguments)}}(),this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=function(){var a=(0,S.Z)(function*(u){s.isInitialized(),yield s.isValidDisconnect(u);const{topic:l}=u;s.pairings.keys.includes(l)&&(yield s.sendRequest(l,"wc_pairingDelete",Pt("USER_DISCONNECTED")),yield s.deletePairing(l))});return function(u){return a.apply(this,arguments)}}(),this.sendRequest=function(){var a=(0,S.Z)(function*(u,l,d){const y=(0,De.formatJsonRpcRequest)(l,d),g=yield s.core.crypto.encode(u,y),w=Wa[l].req;return s.core.history.set(u,y),s.core.relayer.publish(u,g,w),y.id});return function(u,l,d){return a.apply(this,arguments)}}(),this.sendResult=function(){var a=(0,S.Z)(function*(u,l,d){const y=(0,De.formatJsonRpcResult)(u,d),g=yield s.core.crypto.encode(l,y),w=yield s.core.history.get(l,u),I=Wa[w.request.method].res;yield s.core.relayer.publish(l,g,I),yield s.core.history.resolve(y)});return function(u,l,d){return a.apply(this,arguments)}}(),this.sendError=function(){var a=(0,S.Z)(function*(u,l,d){const y=(0,De.formatJsonRpcError)(u,d),g=yield s.core.crypto.encode(l,y),w=yield s.core.history.get(l,u),I=Wa[w.request.method]?Wa[w.request.method].res:Wa.unregistered_method.res;yield s.core.relayer.publish(l,g,I),yield s.core.history.resolve(y)});return function(u,l,d){return a.apply(this,arguments)}}(),this.deletePairing=function(){var a=(0,S.Z)(function*(u,l){yield s.core.relayer.unsubscribe(u),yield Promise.all([s.pairings.delete(u,Pt("USER_DISCONNECTED")),s.core.crypto.deleteSymKey(u),l?Promise.resolve():s.core.expirer.del(u)])});return function(u,l){return a.apply(this,arguments)}}(),this.cleanup=(0,S.Z)(function*(){const a=s.pairings.getAll().filter(u=>Un(u.expiry));yield Promise.all(a.map(u=>s.deletePairing(u.topic)))}),this.onRelayEventRequest=a=>{const{topic:u,payload:l}=a;switch(l.method){case"wc_pairingPing":return this.onPairingPingRequest(u,l);case"wc_pairingDelete":return this.onPairingDeleteRequest(u,l);default:return this.onUnknownRpcMethodRequest(u,l)}},this.onRelayEventResponse=function(){var a=(0,S.Z)(function*(u){const{topic:l,payload:d}=u,y=(yield s.core.history.get(l,d.id)).request.method;return"wc_pairingPing"===y?s.onPairingPingResponse(l,d):s.onUnknownRpcMethodResponse(y)});return function(u){return a.apply(this,arguments)}}(),this.onPairingPingRequest=function(){var a=(0,S.Z)(function*(u,l){const{id:d}=l;try{s.isValidPing({topic:u}),yield s.sendResult(d,u,!0),s.events.emit("pairing_ping",{id:d,topic:u})}catch(y){yield s.sendError(d,u,y),s.logger.error(y)}});return function(u,l){return a.apply(this,arguments)}}(),this.onPairingPingResponse=(a,u)=>{const{id:l}=u;setTimeout(()=>{(0,De.isJsonRpcResult)(u)?this.events.emit(rt("pairing_ping",l),{}):(0,De.isJsonRpcError)(u)&&this.events.emit(rt("pairing_ping",l),{error:u.error})},500)},this.onPairingDeleteRequest=function(){var a=(0,S.Z)(function*(u,l){const{id:d}=l;try{s.isValidDisconnect({topic:u}),yield s.deletePairing(u),s.events.emit("pairing_delete",{id:d,topic:u})}catch(y){yield s.sendError(d,u,y),s.logger.error(y)}});return function(u,l){return a.apply(this,arguments)}}(),this.onUnknownRpcMethodRequest=function(){var a=(0,S.Z)(function*(u,l){const{id:d,method:y}=l;try{if(s.registeredMethods.includes(y))return;const g=Pt("WC_METHOD_UNSUPPORTED",y);yield s.sendError(d,u,g),s.logger.error(g)}catch(g){yield s.sendError(d,u,g),s.logger.error(g)}});return function(u,l){return a.apply(this,arguments)}}(),this.onUnknownRpcMethodResponse=a=>{this.registeredMethods.includes(a)||this.logger.error(Pt("WC_METHOD_UNSUPPORTED",a))},this.isValidPair=a=>{var u;if(!ci(a)){const{message:d}=he("MISSING_OR_INVALID",`pair() params: ${a}`);throw new Error(d)}if(!function Gy(r){if(Zr(r,!1))try{return typeof new URL(r)<"u"}catch{return!1}return!1}(a.uri)){const{message:d}=he("MISSING_OR_INVALID",`pair() uri: ${a.uri}`);throw new Error(d)}const l=Fd(a.uri);if(null==(u=l?.relay)||!u.protocol){const{message:d}=he("MISSING_OR_INVALID","pair() uri#relay-protocol");throw new Error(d)}if(null==l||!l.symKey){const{message:d}=he("MISSING_OR_INVALID","pair() uri#symKey");throw new Error(d)}if(null!=l&&l.expiryTimestamp&&(0,ce.toMiliseconds)(l?.expiryTimestamp)<Date.now()){const{message:d}=he("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(d)}},this.isValidPing=function(){var a=(0,S.Z)(function*(u){if(!ci(u)){const{message:d}=he("MISSING_OR_INVALID",`ping() params: ${u}`);throw new Error(d)}const{topic:l}=u;yield s.isValidPairingTopic(l)});return function(u){return a.apply(this,arguments)}}(),this.isValidDisconnect=function(){var a=(0,S.Z)(function*(u){if(!ci(u)){const{message:d}=he("MISSING_OR_INVALID",`disconnect() params: ${u}`);throw new Error(d)}const{topic:l}=u;yield s.isValidPairingTopic(l)});return function(u){return a.apply(this,arguments)}}(),this.isValidPairingTopic=function(){var a=(0,S.Z)(function*(u){if(!Zr(u,!1)){const{message:l}=he("MISSING_OR_INVALID",`pairing topic should be a string: ${u}`);throw new Error(l)}if(!s.pairings.keys.includes(u)){const{message:l}=he("NO_MATCHING_KEY",`pairing topic doesn't exist: ${u}`);throw new Error(l)}if(Un(s.pairings.get(u).expiry)){yield s.deletePairing(u);const{message:l}=he("EXPIRED",`pairing topic: ${u}`);throw new Error(l)}});return function(u){return a.apply(this,arguments)}}(),this.core=e,this.logger=(0,lt.Ep)(t,this.name),this.pairings=new Fo(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,lt.Fd)(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){var e=this;this.core.relayer.on("relayer_message",function(){var t=(0,S.Z)(function*(s){const{topic:a,message:u}=s;if(!e.pairings.keys.includes(a)||e.ignoredPayloadTypes.includes(e.core.crypto.getPayloadType(u)))return;const l=yield e.core.crypto.decode(a,u);try{(0,De.isJsonRpcRequest)(l)?(e.core.history.set(a,l),e.onRelayEventRequest({topic:a,payload:l})):(0,De.isJsonRpcResponse)(l)&&(yield e.core.history.resolve(l),yield e.onRelayEventResponse({topic:a,payload:l}),e.core.history.delete(a,l.id))}catch(d){e.logger.error(d)}});return function(s){return t.apply(this,arguments)}}())}registerExpirerEvents(){var e=this;this.core.expirer.on(Fi_expired,function(){var t=(0,S.Z)(function*(s){const{topic:a}=Eu(s.target);a&&e.pairings.keys.includes(a)&&(yield e.deletePairing(a,!0),e.events.emit("pairing_expire",{topic:a}))});return function(s){return t.apply(this,arguments)}}())}}class r6 extends X_{constructor(e,t){var s;super(e,t),s=this,this.core=e,this.logger=t,this.records=new Map,this.events=new ur.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=lo,this.init=(0,S.Z)(function*(){s.initialized||(s.logger.trace("Initialized"),yield s.restore(),s.cached.forEach(a=>s.records.set(a.id,a)),s.cached=[],s.registerEventListeners(),s.initialized=!0)}),this.set=(a,u,l)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:a,request:u,chainId:l}),this.records.has(u.id))return;const d={id:u.id,topic:a,request:{method:u.method,params:u.params||null},chainId:l,expiry:hn(ce.THIRTY_DAYS)};this.records.set(d.id,d),this.persist(),this.events.emit("history_created",d)},this.resolve=function(){var a=(0,S.Z)(function*(u){if(s.isInitialized(),s.logger.debug("Updating JSON-RPC response history record"),s.logger.trace({type:"method",method:"update",response:u}),!s.records.has(u.id))return;const l=yield s.getRecord(u.id);typeof l.response>"u"&&(l.response=(0,De.isJsonRpcError)(u)?{error:u.error}:{result:u.result},s.records.set(l.id,l),s.persist(),s.events.emit("history_updated",l))});return function(u){return a.apply(this,arguments)}}(),this.get=function(){var a=(0,S.Z)(function*(u,l){return s.isInitialized(),s.logger.debug("Getting record"),s.logger.trace({type:"method",method:"get",topic:u,id:l}),yield s.getRecord(l)});return function(u,l){return a.apply(this,arguments)}}(),this.delete=(a,u)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:u}),this.values.forEach(l=>{if(l.topic===a){if(typeof u<"u"&&l.id!==u)return;this.records.delete(l.id),this.events.emit("history_deleted",l)}}),this.persist()},this.exists=function(){var a=(0,S.Z)(function*(u,l){return s.isInitialized(),!!s.records.has(l)&&(yield s.getRecord(l)).topic===u});return function(u,l){return a.apply(this,arguments)}}(),this.on=(a,u)=>{this.events.on(a,u)},this.once=(a,u)=>{this.events.once(a,u)},this.off=(a,u)=>{this.events.off(a,u)},this.removeListener=(a,u)=>{this.events.removeListener(a,u)},this.logger=(0,lt.Ep)(t,this.name)}get context(){return(0,lt.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const s={topic:t.topic,request:(0,De.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(s)}),e}setJsonRpcRecords(e){var t=this;return(0,S.Z)(function*(){yield t.core.storage.setItem(t.storageKey,e)})()}getJsonRpcRecords(){var e=this;return(0,S.Z)(function*(){return yield e.core.storage.getItem(e.storageKey)})()}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:s}=he("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(s)}return t}persist(){var e=this;return(0,S.Z)(function*(){yield e.setJsonRpcRecords(e.values),e.events.emit("history_sync")})()}restore(){var e=this;return(0,S.Z)(function*(){try{const t=yield e.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(e.records.size){const{message:s}=he("RESTORE_WILL_OVERRIDE",e.name);throw e.logger.error(s),new Error(s)}e.cached=t,e.logger.debug(`Successfully Restored records for ${e.name}`),e.logger.trace({type:"method",method:"restore",records:e.values})}catch(t){e.logger.debug(`Failed to Restore records for ${e.name}`),e.logger.error(t)}})()}registerEventListeners(){this.events.on("history_created",e=>{const t="history_created";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on("history_updated",e=>{const t="history_updated";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on("history_deleted",e=>{const t="history_deleted";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.core.heartbeat.on(Ga_pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{(0,ce.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit("history_deleted",t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}}class n6 extends s2{constructor(e,t){var s;super(e,t),s=this,this.core=e,this.logger=t,this.expirations=new Map,this.events=new ur.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=lo,this.init=(0,S.Z)(function*(){s.initialized||(s.logger.trace("Initialized"),yield s.restore(),s.cached.forEach(a=>s.expirations.set(a.target,a)),s.cached=[],s.registerEventListeners(),s.initialized=!0)}),this.has=a=>{try{const u=this.formatTarget(a);return typeof this.getExpiration(u)<"u"}catch{return!1}},this.set=(a,u)=>{this.isInitialized();const l=this.formatTarget(a),d={target:l,expiry:u};this.expirations.set(l,d),this.checkExpiry(l,d),this.events.emit("expirer_created",{target:l,expiration:d})},this.get=a=>{this.isInitialized();const u=this.formatTarget(a);return this.getExpiration(u)},this.del=a=>{if(this.isInitialized(),this.has(a)){const u=this.formatTarget(a),l=this.getExpiration(u);this.expirations.delete(u),this.events.emit("expirer_deleted",{target:u,expiration:l})}},this.on=(a,u)=>{this.events.on(a,u)},this.once=(a,u)=>{this.events.once(a,u)},this.off=(a,u)=>{this.events.off(a,u)},this.removeListener=(a,u)=>{this.events.removeListener(a,u)},this.logger=(0,lt.Ep)(t,this.name)}get context(){return(0,lt.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return function el(r){return xu("topic",r)}(e);if("number"==typeof e)return function tl(r){return xu("id",r)}(e);const{message:t}=he("UNKNOWN_TYPE","Target type: "+typeof e);throw new Error(t)}setExpirations(e){var t=this;return(0,S.Z)(function*(){yield t.core.storage.setItem(t.storageKey,e)})()}getExpirations(){var e=this;return(0,S.Z)(function*(){return yield e.core.storage.getItem(e.storageKey)})()}persist(){var e=this;return(0,S.Z)(function*(){yield e.setExpirations(e.values),e.events.emit("expirer_sync")})()}restore(){var e=this;return(0,S.Z)(function*(){try{const t=yield e.getExpirations();if(typeof t>"u"||!t.length)return;if(e.expirations.size){const{message:s}=he("RESTORE_WILL_OVERRIDE",e.name);throw e.logger.error(s),new Error(s)}e.cached=t,e.logger.debug(`Successfully Restored expirations for ${e.name}`),e.logger.trace({type:"method",method:"restore",expirations:e.values})}catch(t){e.logger.debug(`Failed to Restore expirations for ${e.name}`),e.logger.error(t)}})()}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:s}=he("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(s),new Error(s)}return t}checkExpiry(e,t){const{expiry:s}=t;(0,ce.toMiliseconds)(s)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(Fi_expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(Ga_pulse,()=>this.checkExpirations()),this.events.on("expirer_created",e=>{const t="expirer_created";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Fi_expired,e=>{const t=Fi_expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on("expirer_deleted",e=>{const t="expirer_deleted";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}}class i6 extends o2{constructor(e,t){var s;super(e,t),s=this,this.projectId=e,this.logger=t,this.name=ah,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=function(){var a=(0,S.Z)(function*(u){if(s.verifyDisabled||Rn()||!Or())return;const l=s.getVerifyUrl(u?.verifyUrl);s.verifyUrl!==l&&s.removeIframe(),s.verifyUrl=l;try{yield s.createIframe()}catch(d){s.logger.info(`Verify iframe failed to load: ${s.verifyUrl}`),s.logger.info(d),s.verifyDisabled=!0}});return function(u){return a.apply(this,arguments)}}(),this.register=function(){var a=(0,S.Z)(function*(u){s.initialized?s.sendPost(u.attestationId):(s.addToQueue(u.attestationId),yield s.init())});return function(u){return a.apply(this,arguments)}}(),this.resolve=function(){var a=(0,S.Z)(function*(u){if(s.isDevEnv)return"";const l=s.getVerifyUrl(u?.verifyUrl);return s.fetchAttestation(u.attestationId,l)});return function(u){return a.apply(this,arguments)}}(),this.fetchAttestation=function(){var a=(0,S.Z)(function*(u,l){s.logger.info(`resolving attestation: ${u} from url: ${l}`);const d=s.startAbortTimer(5*ce.ONE_SECOND),y=yield fetch(`${l}/attestation/${u}`,{signal:s.abortController.signal});return clearTimeout(d),200===y.status?yield y.json():void 0});return function(u,l){return a.apply(this,arguments)}}(),this.addToQueue=a=>{this.queue.push(a)},this.processQueue=()=>{0!==this.queue.length&&(this.queue.forEach(a=>this.sendPost(a)),this.queue=[])},this.sendPost=a=>{var u;try{if(!this.iframe)return;null==(u=this.iframe.contentWindow)||u.postMessage(a,"*"),this.logger.info(`postMessage sent: ${a} ${this.verifyUrl}`)}catch{}},this.createIframe=(0,S.Z)(function*(){let a;const u=l=>{"verify_ready"===l.data&&(s.onInit(),window.removeEventListener("message",u),a())};yield Promise.race([new Promise(l=>{const d=document.getElementById(ah);if(d)return s.iframe=d,s.onInit(),l();window.addEventListener("message",u);const y=document.createElement("iframe");y.id=ah,y.src=`${s.verifyUrl}/${s.projectId}`,y.style.display="none",document.body.append(y),s.iframe=y,a=l}),new Promise((l,d)=>setTimeout(()=>{window.removeEventListener("message",u),d("verify iframe load timeout")},(0,ce.toMiliseconds)(ce.FIVE_SECONDS)))])}),this.onInit=()=>{this.initialized=!0,this.processQueue()},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=a=>{let u=a||Qa;return Tw.includes(u)||(this.logger.info(`verify url: ${u}, not included in trusted list, assigning default: ${Qa}`),u=Qa),u},this.logger=(0,lt.Ep)(t,this.name),this.verifyUrl=Qa,this.abortController=new AbortController,this.isDevEnv=_n()&&process.env.IS_VITEST}get context(){return(0,lt.Fd)(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,ce.toMiliseconds)(e))}}class s6 extends a2{constructor(e,t){var s;super(e,t),s=this,this.projectId=e,this.logger=t,this.context="echo",this.registerDeviceToken=function(){var a=(0,S.Z)(function*(u){const{clientId:l,token:d,notificationType:y,enableEncrypted:g=!1}=u,w=`https://echo.walletconnect.com/${s.projectId}/clients`;yield F2()(w,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:l,type:y,token:d,always_raw:g})})});return function(u){return a.apply(this,arguments)}}(),this.logger=(0,lt.Ep)(t,this.context)}}var o6=Object.defineProperty,Fp=Object.getOwnPropertySymbols,a6=Object.prototype.hasOwnProperty,u6=Object.prototype.propertyIsEnumerable,Bp=(r,e,t)=>e in r?o6(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,qp=(r,e)=>{for(var t in e||(e={}))a6.call(e,t)&&Bp(r,t,e[t]);if(Fp)for(var t of Fp(e))u6.call(e,t)&&Bp(r,t,e[t]);return r};class ch extends Y_{constructor(e){var t,s;super(e),t=this,this.protocol="wc",this.version=2,this.name="core",this.events=new ur.EventEmitter,this.initialized=!1,this.on=(d,y)=>this.events.on(d,y),this.once=(d,y)=>this.events.once(d,y),this.off=(d,y)=>this.events.off(d,y),this.removeListener=(d,y)=>this.events.removeListener(d,y),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Sp,this.customStoragePrefix=null!=e&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const a=(0,lt.jI)({level:"string"==typeof e?.logger&&e.logger?e.logger:"error"}),{logger:u,chunkLoggerController:l}=(0,lt.Rt)({opts:a,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=l,null!=(s=this.logChunkController)&&s.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=(0,S.Z)(function*(){var d,y;null!=(d=t.logChunkController)&&d.downloadLogsBlobInBrowser&&(null==(y=t.logChunkController)||y.downloadLogsBlobInBrowser({clientId:yield t.crypto.getClientId()}))})),this.logger=(0,lt.Ep)(u,this.name),this.heartbeat=new Yl,this.crypto=new qw(this,this.logger,e?.keychain),this.history=new r6(this,this.logger),this.expirer=new n6(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new W_(qp(qp({},ow),e?.storageOptions)),this.relayer=new Qw({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new t6(this,this.logger),this.verify=new i6(this.projectId||"",this.logger),this.echoClient=new s6(this.projectId||"",this.logger)}static init(e){return(0,S.Z)(function*(){const t=new ch(e);yield t.initialize();const s=yield t.crypto.getClientId();return yield t.storage.setItem("WALLETCONNECT_CLIENT_ID",s),t})()}get context(){return(0,lt.Fd)(this.logger)}start(){var e=this;return(0,S.Z)(function*(){e.initialized||(yield e.initialize())})()}getLogsBlob(){var e=this;return(0,S.Z)(function*(){var t;return null==(t=e.logChunkController)?void 0:t.logsToBlob({clientId:yield e.crypto.getClientId()})})()}initialize(){var e=this;return(0,S.Z)(function*(){e.logger.trace("Initialized");try{yield e.crypto.init(),yield e.history.init(),yield e.expirer.init(),yield e.relayer.init(),yield e.heartbeat.init(),yield e.pairing.init(),e.initialized=!0,e.logger.info("Core Initialization Success")}catch(t){throw e.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),e.logger.error(t.message),t}})()}}const c6=ch,lh="wc@2:client:",zp="WALLETCONNECT_DEEPLINK_CHOICE",Lp="Proposal expired",la=ce.SEVEN_DAYS,Dn={wc_sessionPropose:{req:{ttl:ce.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ce.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ce.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ce.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ce.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ce.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ce.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ce.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ce.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ce.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ce.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ce.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ce.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ce.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ce.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ce.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ce.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ce.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ce.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ce.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ce.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ce.FIVE_MINUTES,prompt:!1,tag:1119}}},fh={min:ce.FIVE_MINUTES,max:ce.SEVEN_DAYS},p6=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],sc="wc@1.5:auth:",oc=`${sc}:PUB_KEY`;var b6=Object.defineProperty,w6=Object.defineProperties,A6=Object.getOwnPropertyDescriptors,Zp=Object.getOwnPropertySymbols,x6=Object.prototype.hasOwnProperty,E6=Object.prototype.propertyIsEnumerable,Kp=(r,e,t)=>e in r?b6(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,fn=(r,e)=>{for(var t in e||(e={}))x6.call(e,t)&&Kp(r,t,e[t]);if(Zp)for(var t of Zp(e))E6.call(e,t)&&Kp(r,t,e[t]);return r},Bo=(r,e)=>w6(r,A6(e));class I6 extends c2{constructor(e){var t;super(e),t=this,this.name="engine",this.events=new(pr()),this.initialized=!1,this.requestQueue={state:"IDLE",queue:[]},this.sessionRequestQueue={state:"IDLE",queue:[]},this.requestQueueDelay=ce.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.relayMessageCache=[],this.init=(0,S.Z)(function*(){t.initialized||(yield t.cleanup(),t.registerRelayerEvents(),t.registerExpirerEvents(),t.registerPairingEvents(),t.client.core.pairing.register({methods:Object.keys(Dn)}),t.initialized=!0,setTimeout(()=>{t.sessionRequestQueue.queue=t.getPendingSessionRequests(),t.processSessionRequestQueue()},(0,ce.toMiliseconds)(t.requestQueueDelay)))}),this.connect=function(){var s=(0,S.Z)(function*(a){yield t.isInitialized();const u=Bo(fn({},a),{requiredNamespaces:a.requiredNamespaces||{},optionalNamespaces:a.optionalNamespaces||{}});yield t.isValidConnect(u);const{pairingTopic:l,requiredNamespaces:d,optionalNamespaces:y,sessionProperties:g,relays:w}=u;let O,I=l,F=!1;try{I&&(F=t.client.core.pairing.pairings.get(I).active)}catch(xe){throw t.client.logger.error(`connect() -> pairing.get(${I}) failed`),xe}if(!I||!F){const{topic:xe,uri:Fe}=yield t.client.core.pairing.create();I=xe,O=Fe}if(!I){const{message:xe}=he("NO_MATCHING_KEY",`connect() pairing topic: ${I}`);throw new Error(xe)}const B=yield t.client.core.crypto.generateKeyPair(),H=Dn.wc_sessionPropose.req.ttl||ce.FIVE_MINUTES,W=hn(H),le=fn({requiredNamespaces:d,optionalNamespaces:y,relays:w??[{protocol:"irn"}],proposer:{publicKey:B,metadata:t.client.metadata},expiryTimestamp:W,pairingTopic:I},g&&{sessionProperties:g}),{reject:Ie,resolve:Ae,done:_e}=Ds(H,Lp);t.events.once(rt("session_connect"),function(){var xe=(0,S.Z)(function*({error:Fe,session:Be}){if(Fe)Ie(Fe);else if(Be){Be.self.publicKey=B;const gt=Bo(fn({},Be),{pairingTopic:le.pairingTopic,requiredNamespaces:le.requiredNamespaces,optionalNamespaces:le.optionalNamespaces});yield t.client.session.set(Be.topic,gt),yield t.setExpiry(Be.topic,Be.expiry),I&&(yield t.client.core.pairing.updateMetadata({topic:I,metadata:Be.peer.metadata})),t.cleanupDuplicatePairings(gt),Ae(gt)}});return function(Fe){return xe.apply(this,arguments)}}());const ve=yield t.sendRequest({topic:I,method:"wc_sessionPropose",params:le,throwOnFailedPublish:!0});return yield t.setProposal(ve,fn({id:ve},le)),{uri:O,approval:_e}});return function(a){return s.apply(this,arguments)}}(),this.pair=function(){var s=(0,S.Z)(function*(a){yield t.isInitialized();try{return yield t.client.core.pairing.pair(a)}catch(u){throw t.client.logger.error("pair() failed"),u}});return function(a){return s.apply(this,arguments)}}(),this.approve=function(){var s=(0,S.Z)(function*(a){yield t.isInitialized();try{yield t.isValidApprove(a)}catch(_e){throw t.client.logger.error("approve() -> isValidApprove() failed"),_e}const{id:u,relayProtocol:l,namespaces:d,sessionProperties:y,sessionConfig:g}=a;let w;try{w=t.client.proposal.get(u)}catch(_e){throw t.client.logger.error(`approve() -> proposal.get(${u}) failed`),_e}const{pairingTopic:I,proposer:O,requiredNamespaces:F,optionalNamespaces:B}=w,H=yield t.client.core.crypto.generateKeyPair(),W=O.publicKey,le=yield t.client.core.crypto.generateSharedKey(H,W),Ie=fn(fn({relay:{protocol:l??"irn"},namespaces:d,controller:{publicKey:H,metadata:t.client.metadata},expiry:hn(la)},y&&{sessionProperties:y}),g&&{sessionConfig:g});yield t.client.core.relayer.subscribe(le);const Ae=Bo(fn({},Ie),{topic:le,requiredNamespaces:F,optionalNamespaces:B,pairingTopic:I,acknowledged:!1,self:Ie.controller,peer:{publicKey:O.publicKey,metadata:O.metadata},controller:H});yield t.client.session.set(le,Ae);try{yield t.sendResult({id:u,topic:I,result:{relay:{protocol:l??"irn"},responderPublicKey:H},throwOnFailedPublish:!0}),yield t.sendRequest({topic:le,method:"wc_sessionSettle",params:Ie,throwOnFailedPublish:!0})}catch(_e){throw t.client.logger.error(_e),t.client.session.delete(le,Pt("USER_DISCONNECTED")),yield t.client.core.relayer.unsubscribe(le),_e}return yield t.client.core.pairing.updateMetadata({topic:I,metadata:O.metadata}),yield t.client.proposal.delete(u,Pt("USER_DISCONNECTED")),yield t.client.core.pairing.activate({topic:I}),yield t.setExpiry(le,hn(la)),{topic:le,acknowledged:()=>new Promise(_e=>setTimeout(()=>_e(t.client.session.get(le)),500))}});return function(a){return s.apply(this,arguments)}}(),this.reject=function(){var s=(0,S.Z)(function*(a){yield t.isInitialized();try{yield t.isValidReject(a)}catch(y){throw t.client.logger.error("reject() -> isValidReject() failed"),y}const{id:u,reason:l}=a;let d;try{d=t.client.proposal.get(u).pairingTopic}catch(y){throw t.client.logger.error(`reject() -> proposal.get(${u}) failed`),y}d&&(yield t.sendError({id:u,topic:d,error:l,rpcOpts:Dn.wc_sessionPropose.reject}),yield t.client.proposal.delete(u,Pt("USER_DISCONNECTED")))});return function(a){return s.apply(this,arguments)}}(),this.update=function(){var s=(0,S.Z)(function*(a){yield t.isInitialized();try{yield t.isValidUpdate(a)}catch(F){throw t.client.logger.error("update() -> isValidUpdate() failed"),F}const{topic:u,namespaces:l}=a,{done:d,resolve:y,reject:g}=Ds(),w=(0,De.payloadId)(),I=(0,De.getBigIntRpcId)().toString(),O=t.client.session.get(u).namespaces;return t.events.once(rt("session_update",w),({error:F})=>{F?g(F):y()}),yield t.client.session.update(u,{namespaces:l}),yield t.sendRequest({topic:u,method:"wc_sessionUpdate",params:{namespaces:l},throwOnFailedPublish:!0,clientRpcId:w,relayRpcId:I}).catch(F=>{t.client.logger.error(F),t.client.session.update(u,{namespaces:O}),g(F)}),{acknowledged:d}});return function(a){return s.apply(this,arguments)}}(),this.extend=function(){var s=(0,S.Z)(function*(a){yield t.isInitialized();try{yield t.isValidExtend(a)}catch(w){throw t.client.logger.error("extend() -> isValidExtend() failed"),w}const{topic:u}=a,l=(0,De.payloadId)(),{done:d,resolve:y,reject:g}=Ds();return t.events.once(rt("session_extend",l),({error:w})=>{w?g(w):y()}),yield t.setExpiry(u,hn(la)),t.sendRequest({topic:u,method:"wc_sessionExtend",params:{},clientRpcId:l,throwOnFailedPublish:!0}).catch(w=>{g(w)}),{acknowledged:d}});return function(a){return s.apply(this,arguments)}}(),this.request=function(){var s=(0,S.Z)(function*(a){yield t.isInitialized();try{yield t.isValidRequest(a)}catch(H){throw t.client.logger.error("request() -> isValidRequest() failed"),H}const{chainId:u,request:l,topic:d,expiry:y=Dn.wc_sessionRequest.req.ttl}=a,g=t.client.session.get(d),w=(0,De.payloadId)(),I=(0,De.getBigIntRpcId)().toString(),{done:O,resolve:F,reject:B}=Ds(y,"Request expired. Please try again.");return t.events.once(rt("session_request",w),({error:H,result:W})=>{H?B(H):F(W)}),yield Promise.all([new Promise(function(){var H=(0,S.Z)(function*(W){yield t.sendRequest({clientRpcId:w,relayRpcId:I,topic:d,method:"wc_sessionRequest",params:{request:Bo(fn({},l),{expiryTimestamp:hn(y)}),chainId:u},expiry:y,throwOnFailedPublish:!0}).catch(le=>B(le)),t.client.events.emit("session_request_sent",{topic:d,request:l,chainId:u,id:w}),W()});return function(W){return H.apply(this,arguments)}}()),new Promise(function(){var H=(0,S.Z)(function*(W){var le;if(null==(le=g.sessionConfig)||!le.disableDeepLink){const Ie=yield function nl(r,e){return so.apply(this,arguments)}(t.client.core.storage,zp);!function rl(r){Ca.apply(this,arguments)}({id:w,topic:d,wcDeepLink:Ie})}W()});return function(W){return H.apply(this,arguments)}}()),O()]).then(H=>H[2])});return function(a){return s.apply(this,arguments)}}(),this.respond=function(){var s=(0,S.Z)(function*(a){yield t.isInitialized(),yield t.isValidRespond(a);const{topic:u,response:l}=a,{id:d}=l;(0,De.isJsonRpcResult)(l)?yield t.sendResult({id:d,topic:u,result:l.result,throwOnFailedPublish:!0}):(0,De.isJsonRpcError)(l)&&(yield t.sendError({id:d,topic:u,error:l.error})),t.cleanupAfterResponse(a)});return function(a){return s.apply(this,arguments)}}(),this.ping=function(){var s=(0,S.Z)(function*(a){yield t.isInitialized();try{yield t.isValidPing(a)}catch(l){throw t.client.logger.error("ping() -> isValidPing() failed"),l}const{topic:u}=a;if(t.client.session.keys.includes(u)){const l=(0,De.payloadId)(),d=(0,De.getBigIntRpcId)().toString(),{done:y,resolve:g,reject:w}=Ds();t.events.once(rt("session_ping",l),({error:I})=>{I?w(I):g()}),yield Promise.all([t.sendRequest({topic:u,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:l,relayRpcId:d}),y()])}else t.client.core.pairing.pairings.keys.includes(u)&&(yield t.client.core.pairing.ping({topic:u}))});return function(a){return s.apply(this,arguments)}}(),this.emit=function(){var s=(0,S.Z)(function*(a){yield t.isInitialized(),yield t.isValidEmit(a);const{topic:u,event:l,chainId:d}=a,y=(0,De.getBigIntRpcId)().toString();yield t.sendRequest({topic:u,method:"wc_sessionEvent",params:{event:l,chainId:d},throwOnFailedPublish:!0,relayRpcId:y})});return function(a){return s.apply(this,arguments)}}(),this.disconnect=function(){var s=(0,S.Z)(function*(a){yield t.isInitialized(),yield t.isValidDisconnect(a);const{topic:u}=a;if(t.client.session.keys.includes(u))yield t.sendRequest({topic:u,method:"wc_sessionDelete",params:Pt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),yield t.deleteSession({topic:u,emitEvent:!1});else{if(!t.client.core.pairing.pairings.keys.includes(u)){const{message:l}=he("MISMATCHED_TOPIC",`Session or pairing topic not found: ${u}`);throw new Error(l)}yield t.client.core.pairing.disconnect({topic:u})}});return function(a){return s.apply(this,arguments)}}(),this.find=s=>(this.isInitialized(),this.client.session.getAll().filter(a=>function $y(r,e){const{requiredNamespaces:t}=e,s=Object.keys(r.namespaces),a=Object.keys(t);let u=!0;return!!hr(a,s)&&(s.forEach(l=>{const{accounts:d,methods:y,events:g}=r.namespaces[l],w=oa(d),I=t[l];hr(zr(l,I),w)&&hr(I.methods,y)&&hr(I.events,g)||(u=!1)}),u)}(a,s))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=function(){var s=(0,S.Z)(function*(a){t.isInitialized(),t.isValidAuthenticate(a);const{chains:u,statement:l="",uri:d,domain:y,nonce:g,type:w,exp:I,nbf:O,methods:F=[],expiry:B}=a,H=[...a.resources||[]],{topic:W,uri:le}=yield t.client.core.pairing.create({methods:["wc_sessionAuthenticate"]});t.client.logger.info({message:"Generated new pairing",pairing:{topic:W,uri:le}});const Ie=yield t.client.core.crypto.generateKeyPair(),Ae=Ju(Ie);if(yield Promise.all([t.client.auth.authKeys.set(oc,{responseTopic:Ae,publicKey:Ie}),t.client.auth.pairingTopics.set(Ae,{topic:Ae,pairingTopic:W})]),yield t.client.core.relayer.subscribe(Ae),t.client.logger.info(`sending request to new pairing topic: ${W}`),F.length>0){const{namespace:x}=G(u[0]);let R=function ly(r,e,t){const s=function uy(r,e,t,s={}){return t?.sort((a,u)=>a.localeCompare(u)),{att:{[r]:Ad(e,t,s)}}}(r,e,t);return Dl(s)}(x,"request",F);sa(H)&&(R=hy(R,H.pop())),H.push(R)}const _e=B&&B>Dn.wc_sessionAuthenticate.req.ttl?B:Dn.wc_sessionAuthenticate.req.ttl,ve={authPayload:{type:w??"caip122",chains:u,statement:l,aud:d,domain:y,version:"1",nonce:g,iat:(new Date).toISOString(),exp:I,nbf:O,resources:H},requester:{publicKey:Ie,metadata:t.client.metadata},expiryTimestamp:hn(_e)},Fe={requiredNamespaces:{},optionalNamespaces:{eip155:{chains:u,methods:[...new Set(["personal_sign",...F])],events:["chainChanged","accountsChanged"]}},relays:[{protocol:"irn"}],pairingTopic:W,proposer:{publicKey:Ie,metadata:t.client.metadata},expiryTimestamp:hn(Dn.wc_sessionPropose.req.ttl)},{done:Be,resolve:gt,reject:xn}=Ds(_e,"Request expired"),pt=function(){var x=(0,S.Z)(function*({error:R,session:T}){if(t.events.off(rt("session_request",f),En),R)xn(R);else if(T){T.self.publicKey=Ie,yield t.client.session.set(T.topic,T),yield t.setExpiry(T.topic,T.expiry),W&&(yield t.client.core.pairing.updateMetadata({topic:W,metadata:T.peer.metadata}));const k=t.client.session.get(T.topic);yield t.deleteProposal(_),gt({session:k})}});return function(T){return x.apply(this,arguments)}}(),En=function(){var x=(0,S.Z)(function*(R){if(yield t.deletePendingAuthRequest(f,{message:"fulfilled",code:0}),R.error){const Oe=Pt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return R.error.code===Oe.code?void 0:(t.events.off(rt("session_connect"),pt),xn(R.error.message))}yield t.deleteProposal(_),t.events.off(rt("session_connect"),pt);const{cacaos:T,responder:k}=R.result,Z=[],N=[];for(const Oe of T){(yield bd({cacao:Oe,projectId:t.client.core.projectId}))||(t.client.logger.error(Oe,"Signature verification failed"),xn(Pt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Pe}=Oe,A=sa(Pe.resources),te=[_d(Pe.iss)],J=Gu(Pe.iss);if(A){const re=Id(A),be=Sd(A);Z.push(...re),te.push(...be)}for(const re of te)N.push(`${re}:${J}`)}const m=yield t.client.core.crypto.generateSharedKey(Ie,k.publicKey);let C;Z.length>0&&(C={topic:m,acknowledged:!0,self:{publicKey:Ie,metadata:t.client.metadata},peer:k,controller:k.publicKey,expiry:hn(la),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:W,namespaces:Ud([...new Set(Z)],[...new Set(N)])},yield t.client.core.relayer.subscribe(m),yield t.client.session.set(m,C),W&&(yield t.client.core.pairing.updateMetadata({topic:W,metadata:k.metadata})),C=t.client.session.get(m)),gt({auths:T,session:C})});return function(T){return x.apply(this,arguments)}}(),f=(0,De.payloadId)(),_=(0,De.payloadId)();t.events.once(rt("session_connect"),pt),t.events.once(rt("session_request",f),En);try{yield Promise.all([t.sendRequest({topic:W,method:"wc_sessionAuthenticate",params:ve,expiry:a.expiry,throwOnFailedPublish:!0,clientRpcId:f}),t.sendRequest({topic:W,method:"wc_sessionPropose",params:Fe,expiry:Dn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:_})])}catch(x){throw t.events.off(rt("session_connect"),pt),t.events.off(rt("session_request",f),En),x}return yield t.setProposal(_,fn({id:_},Fe)),yield t.setAuthRequest(f,{request:Bo(fn({},ve),{verifyContext:{}}),pairingTopic:W}),{uri:le,response:Be}});return function(a){return s.apply(this,arguments)}}(),this.approveSessionAuthenticate=function(){var s=(0,S.Z)(function*(a){t.isInitialized();const{id:u,auths:l}=a,d=t.getPendingAuthRequest(u);if(!d)throw new Error(`Could not find pending auth request with id ${u}`);const y=d.requester.publicKey,g=yield t.client.core.crypto.generateKeyPair(),w=Ju(y),I={type:1,receiverPublicKey:y,senderPublicKey:g},O=[],F=[];for(const W of l){if(!(yield bd({cacao:W,projectId:t.client.core.projectId}))){const ve=Pt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw yield t.sendError({id:u,topic:w,error:ve,encodeOpts:I}),new Error(ve.message)}const{p:le}=W,Ie=sa(le.resources),Ae=[_d(le.iss)],_e=Gu(le.iss);if(Ie){const ve=Id(Ie),xe=Sd(Ie);O.push(...ve),Ae.push(...xe)}for(const ve of Ae)F.push(`${ve}:${_e}`)}const B=yield t.client.core.crypto.generateSharedKey(g,y);let H;return O?.length>0&&(H={topic:B,acknowledged:!0,self:{publicKey:g,metadata:t.client.metadata},peer:{publicKey:y,metadata:d.requester.metadata},controller:y,expiry:hn(la),authentication:l,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:d.pairingTopic,namespaces:Ud([...new Set(O)],[...new Set(F)])},yield t.client.core.relayer.subscribe(B),yield t.client.session.set(B,H),yield t.client.core.pairing.updateMetadata({topic:d.pairingTopic,metadata:d.requester.metadata})),yield t.sendResult({topic:w,id:u,result:{cacaos:l,responder:{publicKey:g,metadata:t.client.metadata}},encodeOpts:I,throwOnFailedPublish:!0}),yield t.client.auth.requests.delete(u,{message:"fulfilled",code:0}),yield t.client.core.pairing.activate({topic:d.pairingTopic}),{session:H}});return function(a){return s.apply(this,arguments)}}(),this.rejectSessionAuthenticate=function(){var s=(0,S.Z)(function*(a){yield t.isInitialized();const{id:u,reason:l}=a,d=t.getPendingAuthRequest(u);if(!d)throw new Error(`Could not find pending auth request with id ${u}`);const y=d.requester.publicKey,g=yield t.client.core.crypto.generateKeyPair(),w=Ju(y),I={type:1,receiverPublicKey:y,senderPublicKey:g};yield t.sendError({id:u,topic:w,error:l,encodeOpts:I,rpcOpts:Dn.wc_sessionAuthenticate.reject}),yield t.client.auth.requests.delete(u,{message:"rejected",code:0}),yield t.client.proposal.delete(u,Pt("USER_DISCONNECTED"))});return function(a){return s.apply(this,arguments)}}(),this.formatAuthMessage=s=>{this.isInitialized();const{request:a,iss:u}=s;return wd(a,u)},this.processRelayMessageCache=()=>{setTimeout((0,S.Z)(function*(){if(0!==t.relayMessageCache.length)for(;t.relayMessageCache.length>0;)try{const s=t.relayMessageCache.shift();s&&(yield t.onRelayMessage(s))}catch(s){t.client.logger.error(s)}}),50)},this.cleanupDuplicatePairings=function(){var s=(0,S.Z)(function*(a){if(a.pairingTopic)try{const u=t.client.core.pairing.pairings.get(a.pairingTopic),l=t.client.core.pairing.pairings.getAll().filter(d=>{var y,g;return(null==(y=d.peerMetadata)?void 0:y.url)&&(null==(g=d.peerMetadata)?void 0:g.url)===a.peer.metadata.url&&d.topic&&d.topic!==u.topic});if(0===l.length)return;t.client.logger.info(`Cleaning up ${l.length} duplicate pairing(s)`),yield Promise.all(l.map(d=>t.client.core.pairing.disconnect({topic:d.topic}))),t.client.logger.info("Duplicate pairings clean up finished")}catch(u){t.client.logger.error(u)}});return function(a){return s.apply(this,arguments)}}(),this.deleteSession=function(){var s=(0,S.Z)(function*(a){var u;const{topic:l,expirerHasDeleted:d=!1,emitEvent:y=!0,id:g=0}=a,{self:w}=t.client.session.get(l);yield t.client.core.relayer.unsubscribe(l),yield t.client.session.delete(l,Pt("USER_DISCONNECTED")),t.addToRecentlyDeleted(l,"session"),t.client.core.crypto.keychain.has(w.publicKey)&&(yield t.client.core.crypto.deleteKeyPair(w.publicKey)),t.client.core.crypto.keychain.has(l)&&(yield t.client.core.crypto.deleteSymKey(l)),d||t.client.core.expirer.del(l),t.client.core.storage.removeItem(zp).catch(I=>t.client.logger.warn(I)),t.getPendingSessionRequests().forEach(I=>{I.topic===l&&t.deletePendingSessionRequest(I.id,Pt("USER_DISCONNECTED"))}),l===(null==(u=t.sessionRequestQueue.queue[0])?void 0:u.topic)&&(t.sessionRequestQueue.state="IDLE"),y&&t.client.events.emit("session_delete",{id:g,topic:l})});return function(a){return s.apply(this,arguments)}}(),this.deleteProposal=function(){var s=(0,S.Z)(function*(a,u){yield Promise.all([t.client.proposal.delete(a,Pt("USER_DISCONNECTED")),u?Promise.resolve():t.client.core.expirer.del(a)]),t.addToRecentlyDeleted(a,"proposal")});return function(a,u){return s.apply(this,arguments)}}(),this.deletePendingSessionRequest=function(){var s=(0,S.Z)(function*(a,u,l=!1){yield Promise.all([t.client.pendingRequest.delete(a,u),l?Promise.resolve():t.client.core.expirer.del(a)]),t.addToRecentlyDeleted(a,"request"),t.sessionRequestQueue.queue=t.sessionRequestQueue.queue.filter(d=>d.id!==a),l&&(t.sessionRequestQueue.state="IDLE",t.client.events.emit("session_request_expire",{id:a}))});return function(a,u){return s.apply(this,arguments)}}(),this.deletePendingAuthRequest=function(){var s=(0,S.Z)(function*(a,u,l=!1){yield Promise.all([t.client.auth.requests.delete(a,u),l?Promise.resolve():t.client.core.expirer.del(a)])});return function(a,u){return s.apply(this,arguments)}}(),this.setExpiry=function(){var s=(0,S.Z)(function*(a,u){t.client.session.keys.includes(a)&&(t.client.core.expirer.set(a,u),yield t.client.session.update(a,{expiry:u}))});return function(a,u){return s.apply(this,arguments)}}(),this.setProposal=function(){var s=(0,S.Z)(function*(a,u){t.client.core.expirer.set(a,hn(Dn.wc_sessionPropose.req.ttl)),yield t.client.proposal.set(a,u)});return function(a,u){return s.apply(this,arguments)}}(),this.setAuthRequest=function(){var s=(0,S.Z)(function*(a,u){const{request:l,pairingTopic:d}=u;t.client.core.expirer.set(a,l.expiryTimestamp),yield t.client.auth.requests.set(a,{authPayload:l.authPayload,requester:l.requester,expiryTimestamp:l.expiryTimestamp,id:a,pairingTopic:d,verifyContext:l.verifyContext})});return function(a,u){return s.apply(this,arguments)}}(),this.setPendingSessionRequest=function(){var s=(0,S.Z)(function*(a){const{id:u,topic:l,params:d,verifyContext:y}=a,g=d.request.expiryTimestamp||hn(Dn.wc_sessionRequest.req.ttl);t.client.core.expirer.set(u,g),yield t.client.pendingRequest.set(u,{id:u,topic:l,params:d,verifyContext:y})});return function(a){return s.apply(this,arguments)}}(),this.sendRequest=function(){var s=(0,S.Z)(function*(a){const{topic:u,method:l,params:d,expiry:y,relayRpcId:g,clientRpcId:w,throwOnFailedPublish:I}=a,O=(0,De.formatJsonRpcRequest)(l,d,w);if(Or()&&p6.includes(l)){const H=To(JSON.stringify(O));t.client.core.verify.register({attestationId:H})}let F;try{F=yield t.client.core.crypto.encode(u,O)}catch(H){throw yield t.cleanup(),t.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${u} failed`),H}const B=Dn[l].req;return y&&(B.ttl=y),g&&(B.id=g),t.client.core.history.set(u,O),I?(B.internal=Bo(fn({},B.internal),{throwOnFailedPublish:!0}),yield t.client.core.relayer.publish(u,F,B)):t.client.core.relayer.publish(u,F,B).catch(H=>t.client.logger.error(H)),O.id});return function(a){return s.apply(this,arguments)}}(),this.sendResult=function(){var s=(0,S.Z)(function*(a){const{id:u,topic:l,result:d,throwOnFailedPublish:y,encodeOpts:g}=a,w=(0,De.formatJsonRpcResult)(u,d);let I,O;try{I=yield t.client.core.crypto.encode(l,w,g)}catch(B){throw yield t.cleanup(),t.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${l} failed`),B}try{O=yield t.client.core.history.get(l,u)}catch(B){throw t.client.logger.error(`sendResult() -> history.get(${l}, ${u}) failed`),B}const F=Dn[O.request.method].res;y?(F.internal=Bo(fn({},F.internal),{throwOnFailedPublish:!0}),yield t.client.core.relayer.publish(l,I,F)):t.client.core.relayer.publish(l,I,F).catch(B=>t.client.logger.error(B)),yield t.client.core.history.resolve(w)});return function(a){return s.apply(this,arguments)}}(),this.sendError=function(){var s=(0,S.Z)(function*(a){const{id:u,topic:l,error:d,encodeOpts:y,rpcOpts:g}=a,w=(0,De.formatJsonRpcError)(u,d);let I,O;try{I=yield t.client.core.crypto.encode(l,w,y)}catch(B){throw yield t.cleanup(),t.client.logger.error(`sendError() -> core.crypto.encode() for topic ${l} failed`),B}try{O=yield t.client.core.history.get(l,u)}catch(B){throw t.client.logger.error(`sendError() -> history.get(${l}, ${u}) failed`),B}t.client.core.relayer.publish(l,I,g||Dn[O.request.method].res),yield t.client.core.history.resolve(w)});return function(a){return s.apply(this,arguments)}}(),this.cleanup=(0,S.Z)(function*(){const s=[],a=[];t.client.session.getAll().forEach(u=>{let l=!1;Un(u.expiry)&&(l=!0),t.client.core.crypto.keychain.has(u.topic)||(l=!0),l&&s.push(u.topic)}),t.client.proposal.getAll().forEach(u=>{Un(u.expiryTimestamp)&&a.push(u.id)}),yield Promise.all([...s.map(u=>t.deleteSession({topic:u})),...a.map(u=>t.deleteProposal(u))])}),this.onRelayEventRequest=function(){var s=(0,S.Z)(function*(a){t.requestQueue.queue.push(a),yield t.processRequestsQueue()});return function(a){return s.apply(this,arguments)}}(),this.processRequestsQueue=(0,S.Z)(function*(){if("ACTIVE"!==t.requestQueue.state){for(t.client.logger.info(`Request queue starting with ${t.requestQueue.queue.length} requests`);t.requestQueue.queue.length>0;){t.requestQueue.state="ACTIVE";const s=t.requestQueue.queue.shift();if(s)try{yield t.processRequest(s)}catch(a){t.client.logger.warn(a)}}t.requestQueue.state="IDLE"}else t.client.logger.info("Request queue already active, skipping...")}),this.processRequest=function(){var s=(0,S.Z)(function*(a){const{topic:u,payload:l}=a,d=l.method;if(!t.shouldIgnorePairingRequest({topic:u,requestMethod:d}))switch(d){case"wc_sessionPropose":return yield t.onSessionProposeRequest(u,l);case"wc_sessionSettle":return yield t.onSessionSettleRequest(u,l);case"wc_sessionUpdate":return yield t.onSessionUpdateRequest(u,l);case"wc_sessionExtend":return yield t.onSessionExtendRequest(u,l);case"wc_sessionPing":return yield t.onSessionPingRequest(u,l);case"wc_sessionDelete":return yield t.onSessionDeleteRequest(u,l);case"wc_sessionRequest":return yield t.onSessionRequest(u,l);case"wc_sessionEvent":return yield t.onSessionEventRequest(u,l);case"wc_sessionAuthenticate":return yield t.onSessionAuthenticateRequest(u,l);default:return t.client.logger.info(`Unsupported request method ${d}`)}});return function(a){return s.apply(this,arguments)}}(),this.onRelayEventResponse=function(){var s=(0,S.Z)(function*(a){const{topic:u,payload:l}=a,d=(yield t.client.core.history.get(u,l.id)).request.method;switch(d){case"wc_sessionPropose":return t.onSessionProposeResponse(u,l);case"wc_sessionSettle":return t.onSessionSettleResponse(u,l);case"wc_sessionUpdate":return t.onSessionUpdateResponse(u,l);case"wc_sessionExtend":return t.onSessionExtendResponse(u,l);case"wc_sessionPing":return t.onSessionPingResponse(u,l);case"wc_sessionRequest":return t.onSessionRequestResponse(u,l);case"wc_sessionAuthenticate":return t.onSessionAuthenticateResponse(u,l);default:return t.client.logger.info(`Unsupported response method ${d}`)}});return function(a){return s.apply(this,arguments)}}(),this.onRelayEventUnknownPayload=s=>{const{topic:a}=s,{message:u}=he("MISSING_OR_INVALID",`Decoded payload on topic ${a} is not identifiable as a JSON-RPC request or a response.`);throw new Error(u)},this.shouldIgnorePairingRequest=s=>{const{topic:a,requestMethod:u}=s,l=this.expectedPairingMethodMap.get(a);return!(!l||l.includes(u)||!(l.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0))},this.onSessionProposeRequest=function(){var s=(0,S.Z)(function*(a,u){const{params:l,id:d}=u;try{t.isValidConnect(fn({},u.params));const y=l.expiryTimestamp||hn(Dn.wc_sessionPropose.req.ttl),g=fn({id:d,pairingTopic:a,expiryTimestamp:y},l);yield t.setProposal(d,g);const w=To(JSON.stringify(u)),I=yield t.getVerifyContext(w,g.proposer.metadata);t.client.events.emit("session_proposal",{id:d,params:g,verifyContext:I})}catch(y){yield t.sendError({id:d,topic:a,error:y,rpcOpts:Dn.wc_sessionPropose.autoReject}),t.client.logger.error(y)}});return function(a,u){return s.apply(this,arguments)}}(),this.onSessionProposeResponse=function(){var s=(0,S.Z)(function*(a,u){const{id:l}=u;if((0,De.isJsonRpcResult)(u)){const{result:d}=u;t.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:d});const y=t.client.proposal.get(l);t.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:y});const g=y.proposer.publicKey;t.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:g});const w=d.responderPublicKey;t.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:w});const I=yield t.client.core.crypto.generateSharedKey(g,w);t.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:I});const O=yield t.client.core.relayer.subscribe(I);t.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:O}),yield t.client.core.pairing.activate({topic:a})}else if((0,De.isJsonRpcError)(u)){yield t.client.proposal.delete(l,Pt("USER_DISCONNECTED"));const d=rt("session_connect");if(0===t.events.listenerCount(d))throw new Error(`emitting ${d} without any listeners, 954`);t.events.emit(rt("session_connect"),{error:u.error})}});return function(a,u){return s.apply(this,arguments)}}(),this.onSessionSettleRequest=function(){var s=(0,S.Z)(function*(a,u){const{id:l,params:d}=u;try{t.isValidSessionSettleRequest(d);const{relay:y,controller:g,expiry:w,namespaces:I,sessionProperties:O,sessionConfig:F}=u.params,B=fn(fn({topic:a,relay:y,expiry:w,namespaces:I,acknowledged:!0,pairingTopic:"",requiredNamespaces:{},optionalNamespaces:{},controller:g.publicKey,self:{publicKey:"",metadata:t.client.metadata},peer:{publicKey:g.publicKey,metadata:g.metadata}},O&&{sessionProperties:O}),F&&{sessionConfig:F});yield t.sendResult({id:u.id,topic:a,result:!0,throwOnFailedPublish:!0});const H=rt("session_connect");if(0===t.events.listenerCount(H))throw new Error(`emitting ${H} without any listeners 997`);t.events.emit(rt("session_connect"),{session:B})}catch(y){yield t.sendError({id:l,topic:a,error:y}),t.client.logger.error(y)}});return function(a,u){return s.apply(this,arguments)}}(),this.onSessionSettleResponse=function(){var s=(0,S.Z)(function*(a,u){const{id:l}=u;(0,De.isJsonRpcResult)(u)?(yield t.client.session.update(a,{acknowledged:!0}),t.events.emit(rt("session_approve",l),{})):(0,De.isJsonRpcError)(u)&&(yield t.client.session.delete(a,Pt("USER_DISCONNECTED")),t.events.emit(rt("session_approve",l),{error:u.error}))});return function(a,u){return s.apply(this,arguments)}}(),this.onSessionUpdateRequest=function(){var s=(0,S.Z)(function*(a,u){const{params:l,id:d}=u;try{const y=`${a}_session_update`,g=Ha.get(y);if(g&&t.isRequestOutOfSync(g,d))return t.client.logger.info(`Discarding out of sync request - ${d}`),void t.sendError({id:d,topic:a,error:Pt("INVALID_UPDATE_REQUEST")});t.isValidUpdate(fn({topic:a},l));try{Ha.set(y,d),yield t.client.session.update(a,{namespaces:l.namespaces}),yield t.sendResult({id:d,topic:a,result:!0,throwOnFailedPublish:!0})}catch(w){throw Ha.delete(y),w}t.client.events.emit("session_update",{id:d,topic:a,params:l})}catch(y){yield t.sendError({id:d,topic:a,error:y}),t.client.logger.error(y)}});return function(a,u){return s.apply(this,arguments)}}(),this.isRequestOutOfSync=(s,a)=>parseInt(a.toString().slice(0,-3))<=parseInt(s.toString().slice(0,-3)),this.onSessionUpdateResponse=(s,a)=>{const{id:u}=a,l=rt("session_update",u);if(0===this.events.listenerCount(l))throw new Error(`emitting ${l} without any listeners`);(0,De.isJsonRpcResult)(a)?this.events.emit(rt("session_update",u),{}):(0,De.isJsonRpcError)(a)&&this.events.emit(rt("session_update",u),{error:a.error})},this.onSessionExtendRequest=function(){var s=(0,S.Z)(function*(a,u){const{id:l}=u;try{t.isValidExtend({topic:a}),yield t.setExpiry(a,hn(la)),yield t.sendResult({id:l,topic:a,result:!0,throwOnFailedPublish:!0}),t.client.events.emit("session_extend",{id:l,topic:a})}catch(d){yield t.sendError({id:l,topic:a,error:d}),t.client.logger.error(d)}});return function(a,u){return s.apply(this,arguments)}}(),this.onSessionExtendResponse=(s,a)=>{const{id:u}=a,l=rt("session_extend",u);if(0===this.events.listenerCount(l))throw new Error(`emitting ${l} without any listeners`);(0,De.isJsonRpcResult)(a)?this.events.emit(rt("session_extend",u),{}):(0,De.isJsonRpcError)(a)&&this.events.emit(rt("session_extend",u),{error:a.error})},this.onSessionPingRequest=function(){var s=(0,S.Z)(function*(a,u){const{id:l}=u;try{t.isValidPing({topic:a}),yield t.sendResult({id:l,topic:a,result:!0,throwOnFailedPublish:!0}),t.client.events.emit("session_ping",{id:l,topic:a})}catch(d){yield t.sendError({id:l,topic:a,error:d}),t.client.logger.error(d)}});return function(a,u){return s.apply(this,arguments)}}(),this.onSessionPingResponse=(s,a)=>{const{id:u}=a,l=rt("session_ping",u);if(0===this.events.listenerCount(l))throw new Error(`emitting ${l} without any listeners`);setTimeout(()=>{(0,De.isJsonRpcResult)(a)?this.events.emit(rt("session_ping",u),{}):(0,De.isJsonRpcError)(a)&&this.events.emit(rt("session_ping",u),{error:a.error})},500)},this.onSessionDeleteRequest=function(){var s=(0,S.Z)(function*(a,u){const{id:l}=u;try{t.isValidDisconnect({topic:a,reason:u.params}),yield Promise.all([new Promise(d=>{t.client.core.relayer.once("relayer_publish",(0,S.Z)(function*(){d(yield t.deleteSession({topic:a,id:l}))}))}),t.sendResult({id:l,topic:a,result:!0,throwOnFailedPublish:!0}),t.cleanupPendingSentRequestsForTopic({topic:a,error:Pt("USER_DISCONNECTED")})])}catch(d){t.client.logger.error(d)}});return function(a,u){return s.apply(this,arguments)}}(),this.onSessionRequest=function(){var s=(0,S.Z)(function*(a,u){var l;const{id:d,params:y}=u;try{yield t.isValidRequest(fn({topic:a},y));const g=To(JSON.stringify((0,De.formatJsonRpcRequest)("wc_sessionRequest",y,d))),w=t.client.session.get(a),O={id:d,topic:a,params:y,verifyContext:yield t.getVerifyContext(g,w.peer.metadata)};yield t.setPendingSessionRequest(O),null!=(l=t.client.signConfig)&&l.disableRequestQueue?t.emitSessionRequest(O):(t.addSessionRequestToSessionRequestQueue(O),t.processSessionRequestQueue())}catch(g){yield t.sendError({id:d,topic:a,error:g}),t.client.logger.error(g)}});return function(a,u){return s.apply(this,arguments)}}(),this.onSessionRequestResponse=(s,a)=>{const{id:u}=a,l=rt("session_request",u);if(0===this.events.listenerCount(l))throw new Error(`emitting ${l} without any listeners`);(0,De.isJsonRpcResult)(a)?this.events.emit(rt("session_request",u),{result:a.result}):(0,De.isJsonRpcError)(a)&&this.events.emit(rt("session_request",u),{error:a.error})},this.onSessionEventRequest=function(){var s=(0,S.Z)(function*(a,u){const{id:l,params:d}=u;try{const y=`${a}_session_event_${d.event.name}`,g=Ha.get(y);if(g&&t.isRequestOutOfSync(g,l))return void t.client.logger.info(`Discarding out of sync request - ${l}`);t.isValidEmit(fn({topic:a},d)),t.client.events.emit("session_event",{id:l,topic:a,params:d}),Ha.set(y,l)}catch(y){yield t.sendError({id:l,topic:a,error:y}),t.client.logger.error(y)}});return function(a,u){return s.apply(this,arguments)}}(),this.onSessionAuthenticateResponse=(s,a)=>{const{id:u}=a;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:s,payload:a}),(0,De.isJsonRpcResult)(a)?this.events.emit(rt("session_request",u),{result:a.result}):(0,De.isJsonRpcError)(a)&&this.events.emit(rt("session_request",u),{error:a.error})},this.onSessionAuthenticateRequest=function(){var s=(0,S.Z)(function*(a,u){try{const{requester:l,authPayload:d,expiryTimestamp:y}=u.params,g=To(JSON.stringify(u)),w=yield t.getVerifyContext(g,t.client.metadata),I={requester:l,pairingTopic:a,id:u.id,authPayload:d,verifyContext:w,expiryTimestamp:y};yield t.setAuthRequest(u.id,{request:I,pairingTopic:a}),t.client.events.emit("session_authenticate",{topic:a,params:u.params,id:u.id,verifyContext:w})}catch(l){t.client.logger.error(l);const g={type:1,receiverPublicKey:u.params.requester.publicKey,senderPublicKey:yield t.client.core.crypto.generateKeyPair()};yield t.sendError({id:u.id,topic:a,error:l,encodeOpts:g,rpcOpts:Dn.wc_sessionAuthenticate.autoReject})}});return function(a,u){return s.apply(this,arguments)}}(),this.addSessionRequestToSessionRequestQueue=s=>{this.sessionRequestQueue.queue.push(s)},this.cleanupAfterResponse=s=>{this.deletePendingSessionRequest(s.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state="IDLE",this.processSessionRequestQueue()},(0,ce.toMiliseconds)(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:s,error:a})=>{const u=this.client.core.history.pending;u.length>0&&u.filter(l=>l.topic===s&&"wc_sessionRequest"===l.request.method).forEach(l=>{const y=rt("session_request",l.request.id);if(0===this.events.listenerCount(y))throw new Error(`emitting ${y} without any listeners`);this.events.emit(rt("session_request",l.request.id),{error:a})})},this.processSessionRequestQueue=()=>{if("ACTIVE"===this.sessionRequestQueue.state)return void this.client.logger.info("session request queue is already active.");const s=this.sessionRequestQueue.queue[0];if(s)try{this.sessionRequestQueue.state="ACTIVE",this.emitSessionRequest(s)}catch(a){this.client.logger.error(a)}else this.client.logger.info("session request queue is empty.")},this.emitSessionRequest=s=>{this.client.events.emit("session_request",s)},this.onPairingCreated=s=>{if(s.methods&&this.expectedPairingMethodMap.set(s.topic,s.methods),s.active)return;const a=this.client.proposal.getAll().find(u=>u.pairingTopic===s.topic);a&&this.onSessionProposeRequest(s.topic,(0,De.formatJsonRpcRequest)("wc_sessionPropose",{requiredNamespaces:a.requiredNamespaces,optionalNamespaces:a.optionalNamespaces,relays:a.relays,proposer:a.proposer,sessionProperties:a.sessionProperties},a.id))},this.isValidConnect=function(){var s=(0,S.Z)(function*(a){if(!ci(a)){const{message:w}=he("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(a)}`);throw new Error(w)}const{pairingTopic:u,requiredNamespaces:l,optionalNamespaces:d,sessionProperties:y,relays:g}=a;if(Xn(u)||(yield t.isValidPairingTopic(u)),!function i_(r,e){let t=!1;return e&&!r?t=!0:r&&gs(r)&&r.length&&r.forEach(s=>{t=Ld(s)}),t}(g,!0)){const{message:w}=he("MISSING_OR_INVALID",`connect() relays: ${g}`);throw new Error(w)}!Xn(l)&&0!==ua(l)&&t.validateNamespaces(l,"requiredNamespaces"),!Xn(d)&&0!==ua(d)&&t.validateNamespaces(d,"optionalNamespaces"),Xn(y)||t.validateSessionProps(y,"sessionProperties")});return function(a){return s.apply(this,arguments)}}(),this.validateNamespaces=(s,a)=>{const u=function n_(r,e,t){let s=null;if(r&&ua(r)){const a=zd(r,e);a&&(s=a);const u=function Xy(r,e,t){let s=null;return Object.entries(r).forEach(([a,u])=>{if(s)return;const l=function Yy(r,e,t){let s=null;return gs(e)&&e.length?e.forEach(a=>{s||Yu(a)||(s=Pt("UNSUPPORTED_CHAINS",`${t}, chain ${a} should be a string and conform to "namespace:chainId" format`))}):Yu(r)||(s=Pt("UNSUPPORTED_CHAINS",`${t}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),s}(a,zr(a,u),`${e} ${t}`);l&&(s=l)}),s}(r,e,t);u&&(s=u)}else s=he("MISSING_OR_INVALID",`${e}, ${t} should be an object with data`);return s}(s,"connect()",a);if(u)throw new Error(u.message)},this.isValidApprove=function(){var s=(0,S.Z)(function*(a){if(!ci(a))throw new Error(he("MISSING_OR_INVALID",`approve() params: ${a}`).message);const{id:u,namespaces:l,relayProtocol:d,sessionProperties:y}=a;t.checkRecentlyDeleted(u),yield t.isValidProposalId(u);const g=t.client.proposal.get(u),w=Xu(l,"approve()");if(w)throw new Error(w.message);const I=Ll(g.requiredNamespaces,l,"approve()");if(I)throw new Error(I.message);if(!Zr(d,!0)){const{message:O}=he("MISSING_OR_INVALID",`approve() relayProtocol: ${d}`);throw new Error(O)}Xn(y)||t.validateSessionProps(y,"sessionProperties")});return function(a){return s.apply(this,arguments)}}(),this.isValidReject=function(){var s=(0,S.Z)(function*(a){if(!ci(a)){const{message:d}=he("MISSING_OR_INVALID",`reject() params: ${a}`);throw new Error(d)}const{id:u,reason:l}=a;if(t.checkRecentlyDeleted(u),yield t.isValidProposalId(u),!function o_(r){return!!(r&&"object"==typeof r&&r.code&&zl(r.code,!1)&&r.message&&Zr(r.message,!1))}(l)){const{message:d}=he("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(l)}`);throw new Error(d)}});return function(a){return s.apply(this,arguments)}}(),this.isValidSessionSettleRequest=s=>{if(!ci(s)){const{message:w}=he("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${s}`);throw new Error(w)}const{relay:a,controller:u,namespaces:l,expiry:d}=s;if(!Ld(a)){const{message:w}=he("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(w)}const y=function Qy(r,e){let t=null;return Zr(r?.publicKey,!1)||(t=he("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}(u,"onSessionSettleRequest()");if(y)throw new Error(y.message);const g=Xu(l,"onSessionSettleRequest()");if(g)throw new Error(g.message);if(Un(d)){const{message:w}=he("EXPIRED","onSessionSettleRequest()");throw new Error(w)}},this.isValidUpdate=function(){var s=(0,S.Z)(function*(a){if(!ci(a)){const{message:w}=he("MISSING_OR_INVALID",`update() params: ${a}`);throw new Error(w)}const{topic:u,namespaces:l}=a;t.checkRecentlyDeleted(u),yield t.isValidSessionTopic(u);const d=t.client.session.get(u),y=Xu(l,"update()");if(y)throw new Error(y.message);const g=Ll(d.requiredNamespaces,l,"update()");if(g)throw new Error(g.message)});return function(a){return s.apply(this,arguments)}}(),this.isValidExtend=function(){var s=(0,S.Z)(function*(a){if(!ci(a)){const{message:l}=he("MISSING_OR_INVALID",`extend() params: ${a}`);throw new Error(l)}const{topic:u}=a;t.checkRecentlyDeleted(u),yield t.isValidSessionTopic(u)});return function(a){return s.apply(this,arguments)}}(),this.isValidRequest=function(){var s=(0,S.Z)(function*(a){if(!ci(a)){const{message:w}=he("MISSING_OR_INVALID",`request() params: ${a}`);throw new Error(w)}const{topic:u,request:l,chainId:d,expiry:y}=a;t.checkRecentlyDeleted(u),yield t.isValidSessionTopic(u);const{namespaces:g}=t.client.session.get(u);if(!Zd(g,d)){const{message:w}=he("MISSING_OR_INVALID",`request() chainId: ${d}`);throw new Error(w)}if(!function a_(r){return!(Xn(r)||!Zr(r.method,!1))}(l)){const{message:w}=he("MISSING_OR_INVALID",`request() ${JSON.stringify(l)}`);throw new Error(w)}if(!function l_(r,e,t){return!!Zr(t,!1)&&function zy(r,e){const t=[];return Object.values(r).forEach(s=>{oa(s.accounts).includes(e)&&t.push(...s.methods)}),t}(r,e).includes(t)}(g,d,l.method)){const{message:w}=he("MISSING_OR_INVALID",`request() method: ${l.method}`);throw new Error(w)}if(y&&!function p_(r,e){return zl(r,!1)&&r<=e.max&&r>=e.min}(y,fh)){const{message:w}=he("MISSING_OR_INVALID",`request() expiry: ${y}. Expiry must be a number (in seconds) between ${fh.min} and ${fh.max}`);throw new Error(w)}});return function(a){return s.apply(this,arguments)}}(),this.isValidRespond=function(){var s=(0,S.Z)(function*(a){var u;if(!ci(a)){const{message:y}=he("MISSING_OR_INVALID",`respond() params: ${a}`);throw new Error(y)}const{topic:l,response:d}=a;try{yield t.isValidSessionTopic(l)}catch(y){throw null!=(u=a?.response)&&u.id&&t.cleanupAfterResponse(a),y}if(!function u_(r){return!(Xn(r)||Xn(r.result)&&Xn(r.error)||!zl(r.id,!1)||!Zr(r.jsonrpc,!1))}(d)){const{message:y}=he("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(d)}`);throw new Error(y)}});return function(a){return s.apply(this,arguments)}}(),this.isValidPing=function(){var s=(0,S.Z)(function*(a){if(!ci(a)){const{message:l}=he("MISSING_OR_INVALID",`ping() params: ${a}`);throw new Error(l)}const{topic:u}=a;yield t.isValidSessionOrPairingTopic(u)});return function(a){return s.apply(this,arguments)}}(),this.isValidEmit=function(){var s=(0,S.Z)(function*(a){if(!ci(a)){const{message:g}=he("MISSING_OR_INVALID",`emit() params: ${a}`);throw new Error(g)}const{topic:u,event:l,chainId:d}=a;yield t.isValidSessionTopic(u);const{namespaces:y}=t.client.session.get(u);if(!Zd(y,d)){const{message:g}=he("MISSING_OR_INVALID",`emit() chainId: ${d}`);throw new Error(g)}if(!function c_(r){return!(Xn(r)||!Zr(r.name,!1))}(l)){const{message:g}=he("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(l)}`);throw new Error(g)}if(!function h_(r,e,t){return!!Zr(t,!1)&&function Ly(r,e){const t=[];return Object.values(r).forEach(s=>{oa(s.accounts).includes(e)&&t.push(...s.events)}),t}(r,e).includes(t)}(y,d,l.name)){const{message:g}=he("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(l)}`);throw new Error(g)}});return function(a){return s.apply(this,arguments)}}(),this.isValidDisconnect=function(){var s=(0,S.Z)(function*(a){if(!ci(a)){const{message:l}=he("MISSING_OR_INVALID",`disconnect() params: ${a}`);throw new Error(l)}const{topic:u}=a;yield t.isValidSessionOrPairingTopic(u)});return function(a){return s.apply(this,arguments)}}(),this.isValidAuthenticate=s=>{const{chains:a,uri:u,domain:l,nonce:d}=s;if(!Array.isArray(a)||0===a.length)throw new Error("chains is required and must be a non-empty array");if(!Zr(u,!1))throw new Error("uri is required parameter");if(!Zr(l,!1))throw new Error("domain is required parameter");if(!Zr(d,!1))throw new Error("nonce is required parameter");if([...new Set(a.map(g=>G(g).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:y}=G(a[0]);if("eip155"!==y)throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=function(){var s=(0,S.Z)(function*(a,u){const l={verified:{verifyUrl:u.verifyUrl||Qa,validation:"UNKNOWN",origin:u.url||""}};try{const d=yield t.client.core.verify.resolve({attestationId:a,verifyUrl:u.verifyUrl});d&&(l.verified.origin=d.origin,l.verified.isScam=d.isScam,l.verified.validation=d.origin===new URL(u.url).origin?"VALID":"INVALID")}catch(d){t.client.logger.info(d)}return t.client.logger.info(`Verify context: ${JSON.stringify(l)}`),l});return function(a,u){return s.apply(this,arguments)}}(),this.validateSessionProps=(s,a)=>{Object.values(s).forEach(u=>{if(!Zr(u,!1)){const{message:l}=he("MISSING_OR_INVALID",`${a} must be in Record<string, string> format. Received: ${JSON.stringify(u)}`);throw new Error(l)}})},this.getPendingAuthRequest=s=>{const a=this.client.auth.requests.get(s);return"object"==typeof a?a:void 0},this.addToRecentlyDeleted=(s,a)=>{if(this.recentlyDeletedMap.set(s,a),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let u=0;const l=this.recentlyDeletedLimit/2;for(const d of this.recentlyDeletedMap.keys()){if(u++>=l)break;this.recentlyDeletedMap.delete(d)}}},this.checkRecentlyDeleted=s=>{const a=this.recentlyDeletedMap.get(s);if(a){const{message:u}=he("MISSING_OR_INVALID",`Record was recently deleted - ${a}: ${s}`);throw new Error(u)}}}isInitialized(){var e=this;return(0,S.Z)(function*(){if(!e.initialized){const{message:t}=he("NOT_INITIALIZED",e.name);throw new Error(t)}yield e.client.core.relayer.confirmOnlineStateOrThrow()})()}registerRelayerEvents(){this.client.core.relayer.on("relayer_message",e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):this.onRelayMessage(e)})}onRelayMessage(e){var t=this;return(0,S.Z)(function*(){const{topic:s,message:a}=e,{publicKey:u}=t.client.auth.authKeys.keys.includes(oc)?t.client.auth.authKeys.get(oc):{responseTopic:void 0,publicKey:void 0},l=yield t.client.core.crypto.decode(s,a,{receiverPublicKey:u});try{(0,De.isJsonRpcRequest)(l)?(t.client.core.history.set(s,l),t.onRelayEventRequest({topic:s,payload:l})):(0,De.isJsonRpcResponse)(l)?(yield t.client.core.history.resolve(l),yield t.onRelayEventResponse({topic:s,payload:l}),t.client.core.history.delete(s,l.id)):t.onRelayEventUnknownPayload({topic:s,payload:l})}catch(d){t.client.logger.error(d)}})()}registerExpirerEvents(){var e=this;this.client.core.expirer.on(Fi_expired,function(){var t=(0,S.Z)(function*(s){const{topic:a,id:u}=Eu(s.target);return u&&e.client.pendingRequest.keys.includes(u)?yield e.deletePendingSessionRequest(u,he("EXPIRED"),!0):u&&e.client.auth.requests.keys.includes(u)?yield e.deletePendingAuthRequest(u,he("EXPIRED"),!0):void(a?e.client.session.keys.includes(a)&&(yield e.deleteSession({topic:a,expirerHasDeleted:!0}),e.client.events.emit("session_expire",{topic:a})):u&&(yield e.deleteProposal(u,!0),e.client.events.emit("proposal_expire",{id:u})))});return function(s){return t.apply(this,arguments)}}())}registerPairingEvents(){this.client.core.pairing.events.on("pairing_create",e=>this.onPairingCreated(e)),this.client.core.pairing.events.on("pairing_delete",e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Zr(e,!1)){const{message:t}=he("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=he("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(Un(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=he("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}isValidSessionTopic(e){var t=this;return(0,S.Z)(function*(){if(!Zr(e,!1)){const{message:s}=he("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(s)}if(t.checkRecentlyDeleted(e),!t.client.session.keys.includes(e)){const{message:s}=he("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(s)}if(Un(t.client.session.get(e).expiry)){yield t.deleteSession({topic:e});const{message:s}=he("EXPIRED",`session topic: ${e}`);throw new Error(s)}if(!t.client.core.crypto.keychain.has(e)){const{message:s}=he("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw yield t.deleteSession({topic:e}),new Error(s)}})()}isValidSessionOrPairingTopic(e){var t=this;return(0,S.Z)(function*(){if(t.checkRecentlyDeleted(e),t.client.session.keys.includes(e))yield t.isValidSessionTopic(e);else{if(!t.client.core.pairing.pairings.keys.includes(e)){if(Zr(e,!1)){const{message:s}=he("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(s)}{const{message:s}=he("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(s)}}t.isValidPairingTopic(e)}})()}isValidProposalId(e){var t=this;return(0,S.Z)(function*(){if(!function s_(r){return"number"==typeof r}(e)){const{message:s}=he("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(s)}if(!t.client.proposal.keys.includes(e)){const{message:s}=he("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(s)}if(Un(t.client.proposal.get(e).expiryTimestamp)){yield t.deleteProposal(e);const{message:s}=he("EXPIRED",`proposal id: ${e}`);throw new Error(s)}})()}}class S6 extends Fo{constructor(e,t){super(e,t,"proposal",lh),this.core=e,this.logger=t}}class M6 extends Fo{constructor(e,t){super(e,t,"session",lh),this.core=e,this.logger=t}}class P6 extends Fo{constructor(e,t){super(e,t,"request",lh,s=>s.id),this.core=e,this.logger=t}}class R6 extends Fo{constructor(e,t){super(e,t,"authKeys",sc,()=>oc),this.core=e,this.logger=t}}class C6 extends Fo{constructor(e,t){super(e,t,"pairingTopics",sc),this.core=e,this.logger=t}}class N6 extends Fo{constructor(e,t){super(e,t,"requests",sc,s=>s.id),this.core=e,this.logger=t}}class O6{constructor(e,t){this.core=e,this.logger=t,this.authKeys=new R6(this.core,this.logger),this.pairingTopics=new C6(this.core,this.logger),this.requests=new N6(this.core,this.logger)}init(){var e=this;return(0,S.Z)(function*(){yield e.authKeys.init(),yield e.pairingTopics.init(),yield e.requests.init()})()}}class dh extends u2{constructor(e){var t;super(e),t=this,this.protocol="wc",this.version=2,this.name="client",this.events=new ur.EventEmitter,this.on=(a,u)=>this.events.on(a,u),this.once=(a,u)=>this.events.once(a,u),this.off=(a,u)=>this.events.off(a,u),this.removeListener=(a,u)=>this.events.removeListener(a,u),this.removeAllListeners=a=>this.events.removeAllListeners(a),this.connect=function(){var a=(0,S.Z)(function*(u){try{return yield t.engine.connect(u)}catch(l){throw t.logger.error(l.message),l}});return function(u){return a.apply(this,arguments)}}(),this.pair=function(){var a=(0,S.Z)(function*(u){try{return yield t.engine.pair(u)}catch(l){throw t.logger.error(l.message),l}});return function(u){return a.apply(this,arguments)}}(),this.approve=function(){var a=(0,S.Z)(function*(u){try{return yield t.engine.approve(u)}catch(l){throw t.logger.error(l.message),l}});return function(u){return a.apply(this,arguments)}}(),this.reject=function(){var a=(0,S.Z)(function*(u){try{return yield t.engine.reject(u)}catch(l){throw t.logger.error(l.message),l}});return function(u){return a.apply(this,arguments)}}(),this.update=function(){var a=(0,S.Z)(function*(u){try{return yield t.engine.update(u)}catch(l){throw t.logger.error(l.message),l}});return function(u){return a.apply(this,arguments)}}(),this.extend=function(){var a=(0,S.Z)(function*(u){try{return yield t.engine.extend(u)}catch(l){throw t.logger.error(l.message),l}});return function(u){return a.apply(this,arguments)}}(),this.request=function(){var a=(0,S.Z)(function*(u){try{return yield t.engine.request(u)}catch(l){throw t.logger.error(l.message),l}});return function(u){return a.apply(this,arguments)}}(),this.respond=function(){var a=(0,S.Z)(function*(u){try{return yield t.engine.respond(u)}catch(l){throw t.logger.error(l.message),l}});return function(u){return a.apply(this,arguments)}}(),this.ping=function(){var a=(0,S.Z)(function*(u){try{return yield t.engine.ping(u)}catch(l){throw t.logger.error(l.message),l}});return function(u){return a.apply(this,arguments)}}(),this.emit=function(){var a=(0,S.Z)(function*(u){try{return yield t.engine.emit(u)}catch(l){throw t.logger.error(l.message),l}});return function(u){return a.apply(this,arguments)}}(),this.disconnect=function(){var a=(0,S.Z)(function*(u){try{return yield t.engine.disconnect(u)}catch(l){throw t.logger.error(l.message),l}});return function(u){return a.apply(this,arguments)}}(),this.find=a=>{try{return this.engine.find(a)}catch(u){throw this.logger.error(u.message),u}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(a){throw this.logger.error(a.message),a}},this.authenticate=function(){var a=(0,S.Z)(function*(u){try{return yield t.engine.authenticate(u)}catch(l){throw t.logger.error(l.message),l}});return function(u){return a.apply(this,arguments)}}(),this.formatAuthMessage=a=>{try{return this.engine.formatAuthMessage(a)}catch(u){throw this.logger.error(u.message),u}},this.approveSessionAuthenticate=function(){var a=(0,S.Z)(function*(u){try{return yield t.engine.approveSessionAuthenticate(u)}catch(l){throw t.logger.error(l.message),l}});return function(u){return a.apply(this,arguments)}}(),this.rejectSessionAuthenticate=function(){var a=(0,S.Z)(function*(u){try{return yield t.engine.rejectSessionAuthenticate(u)}catch(l){throw t.logger.error(l.message),l}});return function(u){return a.apply(this,arguments)}}(),this.name=e?.name||"client",this.metadata=e?.metadata||function Os(){return(0,tt.D)()||{name:"",description:"",url:"",icons:[""]}}(),this.signConfig=e?.signConfig;const s=typeof e?.logger<"u"&&"string"!=typeof e?.logger?e.logger:(0,lt.gw)((0,lt.jI)({level:e?.logger||"error"}));this.core=e?.core||new c6(e),this.logger=(0,lt.Ep)(s,this.name),this.session=new M6(this.core,this.logger),this.proposal=new S6(this.core,this.logger),this.pendingRequest=new P6(this.core,this.logger),this.engine=new I6(this),this.auth=new O6(this.core,this.logger)}static init(e){return(0,S.Z)(function*(){const t=new dh(e);return yield t.initialize(),t})()}get context(){return(0,lt.Fd)(this.logger)}get pairing(){return this.core.pairing.pairings}initialize(){var e=this;return(0,S.Z)(function*(){e.logger.trace("Initialized");try{yield e.core.start(),yield e.session.init(),yield e.proposal.init(),yield e.pendingRequest.init(),yield e.engine.init(),yield e.auth.init(),e.core.verify.init({verifyUrl:e.metadata.verifyUrl}),e.logger.info("SignClient Initialization Success"),e.engine.processRelayMessageCache()}catch(t){throw e.logger.info("SignClient Initialization Failure"),e.logger.error(t.message),t}})()}}var js=ke(20901);const $p="wc@2:universal_provider:",ha="generic";var Xa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ph={exports:{}};!function(r,e){(function(){var t,l="Expected a function",y="__lodash_hash_undefined__",w="__lodash_placeholder__",T=1/0,k=9007199254740991,N=NaN,m=4294967295,Pe=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],A="[object Arguments]",te="[object Array]",re="[object Boolean]",be="[object Date]",ye="[object Error]",Ce="[object Function]",He="[object GeneratorFunction]",fe="[object Map]",yt="[object Number]",ht="[object Object]",bs="[object Promise]",_t="[object RegExp]",dn="[object Set]",wt="[object String]",It="[object Symbol]",At="[object WeakMap]",xi="[object ArrayBuffer]",mt="[object DataView]",Rt="[object Float32Array]",Ji="[object Float64Array]",Ct="[object Int8Array]",Nt="[object Int16Array]",Wi="[object Int32Array]",Ot="[object Uint8Array]",Tt="[object Uint8ClampedArray]",Qi="[object Uint16Array]",Dt="[object Uint32Array]",Gt=/\b__p \+= '';/g,Zs=/\b(__p \+=) '' \+/g,Jt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ut=/&(?:amp|lt|gt|quot|#39);/g,ws=/[&<>"']/g,Wt=RegExp(Ut.source),Qt=RegExp(ws.source),Ks=/<%-([\s\S]+?)%>/g,Yt=/<%([\s\S]+?)%>/g,jt=/<%=([\s\S]+?)%>/g,Hs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xt=/^\w*$/,er=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yi=/[\\^$.*+?()[\]{}|]/g,tr=RegExp(Yi.source),Ft=/^\s+/,$s=/\s/,rr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,nr=/\{\n\/\* \[wrapped with (.+)\] \*/,Vs=/,? & /,ir=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,sr=/[()=,{}\[\]\/\s]/,Gs=/\\(\\)?/g,or=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,zt=/\w*$/,As=/^[-+]0x[0-9a-f]+$/i,xs=/^0b[01]+$/i,Es=/^\[object .+?Constructor\]$/,Is=/^0o[0-7]+$/i,Ss=/^(?:0|[1-9]\d*)$/,Ms=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ho=/($^)/,eu=/['\n\r\u2028\u2029\\]/g,fo="\\ud800-\\udfff",da="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pa="\\u2700-\\u27bf",ga="a-z\\xdf-\\xf6\\xf8-\\xff",c0="A-Z\\xc0-\\xd6\\xd8-\\xde",l0="\\ufe0e\\ufe0f",h0="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",A3="["+fo+"]",f0="["+h0+"]",pc="["+da+"]",d0="\\d+",x3="["+pa+"]",p0="["+ga+"]",g0="[^"+fo+h0+d0+pa+ga+c0+"]",Ah="\\ud83c[\\udffb-\\udfff]",m0="[^"+fo+"]",xh="(?:\\ud83c[\\udde6-\\uddff]){2}",Eh="[\\ud800-\\udbff][\\udc00-\\udfff]",ma="["+c0+"]",y0="(?:"+p0+"|"+g0+")",I3="(?:"+ma+"|"+g0+")",_0="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",b0="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",w0="(?:"+pc+"|"+Ah+")?",A0="["+l0+"]?",x0=A0+w0+"(?:\\u200d(?:"+[m0,xh,Eh].join("|")+")"+A0+w0+")*",R3="(?:"+[x3,xh,Eh].join("|")+")"+x0,C3="(?:"+[m0+pc+"?",pc,xh,Eh,A3].join("|")+")",N3=RegExp("['\u2019]","g"),O3=RegExp(pc,"g"),Ih=RegExp(Ah+"(?="+Ah+")|"+C3+x0,"g"),T3=RegExp([ma+"?"+p0+"+"+_0+"(?="+[f0,ma,"$"].join("|")+")",I3+"+"+b0+"(?="+[f0,ma+y0,"$"].join("|")+")",ma+"?"+y0+"+"+_0,ma+"+"+b0,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",d0,R3].join("|"),"g"),D3=RegExp("[\\u200d"+fo+da+l0+"]"),F3=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,B3=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],q3=-1,vr={};vr[Rt]=vr[Ji]=vr[Ct]=vr[Nt]=vr[Wi]=vr[Ot]=vr[Tt]=vr[Qi]=vr[Dt]=!0,vr[A]=vr[te]=vr[xi]=vr[re]=vr[mt]=vr[be]=vr[ye]=vr[Ce]=vr[fe]=vr[yt]=vr[ht]=vr[_t]=vr[dn]=vr[wt]=vr[At]=!1;var dr={};dr[A]=dr[te]=dr[xi]=dr[mt]=dr[re]=dr[be]=dr[Rt]=dr[Ji]=dr[Ct]=dr[Nt]=dr[Wi]=dr[fe]=dr[yt]=dr[ht]=dr[_t]=dr[dn]=dr[wt]=dr[It]=dr[Ot]=dr[Tt]=dr[Qi]=dr[Dt]=!0,dr[ye]=dr[Ce]=dr[At]=!1;var z3={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},L3=parseFloat,Z3=parseInt,E0="object"==typeof Xa&&Xa&&Xa.Object===Object&&Xa,K3="object"==typeof self&&self&&self.Object===Object&&self,Fn=E0||K3||Function("return this")(),Sh=e&&!e.nodeType&&e,ko=Sh&&r&&!r.nodeType&&r,I0=ko&&ko.exports===Sh,Mh=I0&&E0.process,Bi=function(){try{return ko&&ko.require&&ko.require("util").types||Mh&&Mh.binding&&Mh.binding("util")}catch{}}(),S0=Bi&&Bi.isArrayBuffer,M0=Bi&&Bi.isDate,P0=Bi&&Bi.isMap,R0=Bi&&Bi.isRegExp,C0=Bi&&Bi.isSet,N0=Bi&&Bi.isTypedArray;function Ei(z,Y,V){switch(V.length){case 0:return z.call(Y);case 1:return z.call(Y,V[0]);case 2:return z.call(Y,V[0],V[1]);case 3:return z.call(Y,V[0],V[1],V[2])}return z.apply(Y,V)}function H3(z,Y,V,Ee){for(var $e=-1,xt=null==z?0:z.length;++$e<xt;){var pn=z[$e];Y(Ee,pn,V(pn),z)}return Ee}function qi(z,Y){for(var V=-1,Ee=null==z?0:z.length;++V<Ee&&!1!==Y(z[V],V,z););return z}function $3(z,Y){for(var V=null==z?0:z.length;V--&&!1!==Y(z[V],V,z););return z}function O0(z,Y){for(var V=-1,Ee=null==z?0:z.length;++V<Ee;)if(!Y(z[V],V,z))return!1;return!0}function po(z,Y){for(var V=-1,Ee=null==z?0:z.length,$e=0,xt=[];++V<Ee;){var pn=z[V];Y(pn,V,z)&&(xt[$e++]=pn)}return xt}function gc(z,Y){return!(null==z||!z.length)&&va(z,Y,0)>-1}function Ph(z,Y,V){for(var Ee=-1,$e=null==z?0:z.length;++Ee<$e;)if(V(Y,z[Ee]))return!0;return!1}function Ar(z,Y){for(var V=-1,Ee=null==z?0:z.length,$e=Array(Ee);++V<Ee;)$e[V]=Y(z[V],V,z);return $e}function go(z,Y){for(var V=-1,Ee=Y.length,$e=z.length;++V<Ee;)z[$e+V]=Y[V];return z}function Rh(z,Y,V,Ee){var $e=-1,xt=null==z?0:z.length;for(Ee&&xt&&(V=z[++$e]);++$e<xt;)V=Y(V,z[$e],$e,z);return V}function V3(z,Y,V,Ee){var $e=null==z?0:z.length;for(Ee&&$e&&(V=z[--$e]);$e--;)V=Y(V,z[$e],$e,z);return V}function Ch(z,Y){for(var V=-1,Ee=null==z?0:z.length;++V<Ee;)if(Y(z[V],V,z))return!0;return!1}var G3=Nh("length");function T0(z,Y,V){var Ee;return V(z,function($e,xt,pn){if(Y($e,xt,pn))return Ee=xt,!1}),Ee}function mc(z,Y,V,Ee){for(var $e=z.length,xt=V+(Ee?1:-1);Ee?xt--:++xt<$e;)if(Y(z[xt],xt,z))return xt;return-1}function va(z,Y,V){return Y==Y?function uA(z,Y,V){for(var Ee=V-1,$e=z.length;++Ee<$e;)if(z[Ee]===Y)return Ee;return-1}(z,Y,V):mc(z,D0,V)}function Q3(z,Y,V,Ee){for(var $e=V-1,xt=z.length;++$e<xt;)if(Ee(z[$e],Y))return $e;return-1}function D0(z){return z!=z}function F0(z,Y){var V=null==z?0:z.length;return V?Th(z,Y)/V:N}function Nh(z){return function(Y){return null==Y?t:Y[z]}}function Oh(z){return function(Y){return null==z?t:z[Y]}}function B0(z,Y,V,Ee,$e){return $e(z,function(xt,pn,ar){V=Ee?(Ee=!1,xt):Y(V,xt,pn,ar)}),V}function Th(z,Y){for(var V,Ee=-1,$e=z.length;++Ee<$e;){var xt=Y(z[Ee]);xt!==t&&(V=V===t?xt:V+xt)}return V}function Dh(z,Y){for(var V=-1,Ee=Array(z);++V<z;)Ee[V]=Y(V);return Ee}function q0(z){return z&&z.slice(0,z0(z)+1).replace(Ft,"")}function Ii(z){return function(Y){return z(Y)}}function Fh(z,Y){return Ar(Y,function(V){return z[V]})}function uu(z,Y){return z.has(Y)}function k0(z,Y){for(var V=-1,Ee=z.length;++V<Ee&&va(Y,z[V],0)>-1;);return V}function U0(z,Y){for(var V=z.length;V--&&va(Y,z[V],0)>-1;);return V}var tA=Oh({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),rA=Oh({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nA(z){return"\\"+z3[z]}function ya(z){return D3.test(z)}function Bh(z){var Y=-1,V=Array(z.size);return z.forEach(function(Ee,$e){V[++Y]=[$e,Ee]}),V}function j0(z,Y){return function(V){return z(Y(V))}}function mo(z,Y){for(var V=-1,Ee=z.length,$e=0,xt=[];++V<Ee;){var pn=z[V];(pn===Y||pn===w)&&(z[V]=w,xt[$e++]=V)}return xt}function vc(z){var Y=-1,V=Array(z.size);return z.forEach(function(Ee){V[++Y]=Ee}),V}function _a(z){return ya(z)?function hA(z){for(var Y=Ih.lastIndex=0;Ih.test(z);)++Y;return Y}(z):G3(z)}function Xi(z){return ya(z)?function fA(z){return z.match(Ih)||[]}(z):function J3(z){return z.split("")}(z)}function z0(z){for(var Y=z.length;Y--&&$s.test(z.charAt(Y)););return Y}var lA=Oh({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ba=function z(Y){var n,V=(Y=null==Y?Fn:ba.defaults(Fn.Object(),Y,ba.pick(Fn,B3))).Array,Ee=Y.Date,$e=Y.Error,xt=Y.Function,pn=Y.Math,ar=Y.Object,qh=Y.RegExp,gA=Y.String,ki=Y.TypeError,yc=V.prototype,wa=ar.prototype,_c=Y["__core-js_shared__"],bc=xt.prototype.toString,Bt=wa.hasOwnProperty,vA=0,L0=(n=/[^.]+$/.exec(_c&&_c.keys&&_c.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",wc=wa.toString,yA=bc.call(ar),_A=Fn._,bA=qh("^"+bc.call(Bt).replace(Yi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ac=I0?Y.Buffer:t,vo=Y.Symbol,xc=Y.Uint8Array,Z0=Ac?Ac.allocUnsafe:t,Ec=j0(ar.getPrototypeOf,ar),K0=ar.create,H0=wa.propertyIsEnumerable,Ic=yc.splice,$0=vo?vo.isConcatSpreadable:t,cu=vo?vo.iterator:t,Uo=vo?vo.toStringTag:t,Sc=function(){try{var n=Ko(ar,"defineProperty");return n({},"",{}),n}catch{}}(),wA=Y.clearTimeout!==Fn.clearTimeout&&Y.clearTimeout,AA=Ee&&Ee.now!==Fn.Date.now&&Ee.now,xA=Y.setTimeout!==Fn.setTimeout&&Y.setTimeout,Mc=pn.ceil,Pc=pn.floor,kh=ar.getOwnPropertySymbols,EA=Ac?Ac.isBuffer:t,V0=Y.isFinite,IA=yc.join,SA=j0(ar.keys,ar),gn=pn.max,Zn=pn.min,MA=Ee.now,PA=Y.parseInt,G0=pn.random,RA=yc.reverse,Uh=Ko(Y,"DataView"),lu=Ko(Y,"Map"),jh=Ko(Y,"Promise"),Aa=Ko(Y,"Set"),hu=Ko(Y,"WeakMap"),fu=Ko(ar,"create"),Rc=hu&&new hu,xa={},CA=Ho(Uh),NA=Ho(lu),OA=Ho(jh),TA=Ho(Aa),DA=Ho(hu),Cc=vo?vo.prototype:t,du=Cc?Cc.valueOf:t,J0=Cc?Cc.toString:t;function E(n){if(qr(n)&&!Je(n)&&!(n instanceof ct)){if(n instanceof Ui)return n;if(Bt.call(n,"__wrapped__"))return Wg(n)}return new Ui(n)}var Ea=function(){function n(){}return function(o){if(!Sr(o))return{};if(K0)return K0(o);n.prototype=o;var h=new n;return n.prototype=t,h}}();function Nc(){}function Ui(n,o){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=t}function ct(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function jo(n){var o=-1,h=null==n?0:n.length;for(this.clear();++o<h;){var p=n[o];this.set(p[0],p[1])}}function Js(n){var o=-1,h=null==n?0:n.length;for(this.clear();++o<h;){var p=n[o];this.set(p[0],p[1])}}function Ws(n){var o=-1,h=null==n?0:n.length;for(this.clear();++o<h;){var p=n[o];this.set(p[0],p[1])}}function zo(n){var o=-1,h=null==n?0:n.length;for(this.__data__=new Ws;++o<h;)this.add(n[o])}function es(n){var o=this.__data__=new Js(n);this.size=o.size}function W0(n,o){var h=Je(n),p=!h&&$o(n),b=!h&&!p&&Ao(n),M=!h&&!p&&!b&&Pa(n),D=h||p||b||M,q=D?Dh(n.length,gA):[],L=q.length;for(var ne in n)(o||Bt.call(n,ne))&&(!D||!("length"==ne||b&&("offset"==ne||"parent"==ne)||M&&("buffer"==ne||"byteLength"==ne||"byteOffset"==ne)||eo(ne,L)))&&q.push(ne);return q}function Q0(n){var o=n.length;return o?n[Qh(0,o-1)]:t}function ox(n,o){return Hc(di(n),Lo(o,0,n.length))}function ax(n){return Hc(di(n))}function zh(n,o,h){(h!==t&&!ts(n[o],h)||h===t&&!(o in n))&&Qs(n,o,h)}function pu(n,o,h){var p=n[o];(!Bt.call(n,o)||!ts(p,h)||h===t&&!(o in n))&&Qs(n,o,h)}function Oc(n,o){for(var h=n.length;h--;)if(ts(n[h][0],o))return h;return-1}function ux(n,o,h,p){return yo(n,function(b,M,D){o(p,b,h(b),D)}),p}function Y0(n,o){return n&&Rs(o,In(o),n)}function Qs(n,o,h){"__proto__"==o&&Sc?Sc(n,o,{configurable:!0,enumerable:!0,value:h,writable:!0}):n[o]=h}function Lh(n,o){for(var h=-1,p=o.length,b=V(p),M=null==n;++h<p;)b[h]=M?t:xf(n,o[h]);return b}function Lo(n,o,h){return n==n&&(h!==t&&(n=n<=h?n:h),o!==t&&(n=n>=o?n:o)),n}function ji(n,o,h,p,b,M){var D,q=1&o,L=2&o,ne=4&o;if(h&&(D=b?h(n,p,b,M):h(n)),D!==t)return D;if(!Sr(n))return n;var ie=Je(n);if(ie){if(D=function Qx(n){var o=n.length,h=new n.constructor(o);return o&&"string"==typeof n[0]&&Bt.call(n,"index")&&(h.index=n.index,h.input=n.input),h}(n),!q)return di(n,D)}else{var oe=Kn(n),pe=oe==Ce||oe==He;if(Ao(n))return Ag(n,q);if(oe==ht||oe==A||pe&&!b){if(D=L||pe?{}:zg(n),!q)return L?function jx(n,o){return Rs(n,Ug(n),o)}(n,function cx(n,o){return n&&Rs(o,gi(o),n)}(D,n)):function Ux(n,o){return Rs(n,ff(n),o)}(n,Y0(D,n))}else{if(!dr[oe])return b?n:{};D=function Yx(n,o,h){var p=n.constructor;switch(o){case xi:return sf(n);case re:case be:return new p(+n);case mt:return function Fx(n,o){var h=o?sf(n.buffer):n.buffer;return new n.constructor(h,n.byteOffset,n.byteLength)}(n,h);case Rt:case Ji:case Ct:case Nt:case Wi:case Ot:case Tt:case Qi:case Dt:return xg(n,h);case fe:return new p;case yt:case wt:return new p(n);case _t:return function Bx(n){var o=new n.constructor(n.source,zt.exec(n));return o.lastIndex=n.lastIndex,o}(n);case dn:return new p;case It:return function qx(n){return du?ar(du.call(n)):{}}(n)}}(n,oe,q)}}M||(M=new es);var Re=M.get(n);if(Re)return Re;M.set(n,D),m1(n)?n.forEach(function(ze){D.add(ji(ze,o,h,ze,n,M))}):p1(n)&&n.forEach(function(ze,ot){D.set(ot,ji(ze,o,h,ot,n,M))});var et=ie?t:(ne?L?cf:uf:L?gi:In)(n);return qi(et||n,function(ze,ot){et&&(ze=n[ot=ze]),pu(D,ot,ji(ze,o,h,ot,n,M))}),D}function X0(n,o,h){var p=h.length;if(null==n)return!p;for(n=ar(n);p--;){var b=h[p],D=n[b];if(D===t&&!(b in n)||!(0,o[b])(D))return!1}return!0}function eg(n,o,h){if("function"!=typeof n)throw new ki(l);return wu(function(){n.apply(t,h)},o)}function gu(n,o,h,p){var b=-1,M=gc,D=!0,q=n.length,L=[],ne=o.length;if(!q)return L;h&&(o=Ar(o,Ii(h))),p?(M=Ph,D=!1):o.length>=200&&(M=uu,D=!1,o=new zo(o));e:for(;++b<q;){var ie=n[b],oe=null==h?ie:h(ie);if(ie=p||0!==ie?ie:0,D&&oe==oe){for(var pe=ne;pe--;)if(o[pe]===oe)continue e;L.push(ie)}else M(o,oe,p)||L.push(ie)}return L}E.templateSettings={escape:Ks,evaluate:Yt,interpolate:jt,variable:"",imports:{_:E}},(E.prototype=Nc.prototype).constructor=E,(Ui.prototype=Ea(Nc.prototype)).constructor=Ui,(ct.prototype=Ea(Nc.prototype)).constructor=ct,jo.prototype.clear=function kA(){this.__data__=fu?fu(null):{},this.size=0},jo.prototype.delete=function UA(n){var o=this.has(n)&&delete this.__data__[n];return this.size-=o?1:0,o},jo.prototype.get=function jA(n){var o=this.__data__;if(fu){var h=o[n];return h===y?t:h}return Bt.call(o,n)?o[n]:t},jo.prototype.has=function zA(n){var o=this.__data__;return fu?o[n]!==t:Bt.call(o,n)},jo.prototype.set=function LA(n,o){var h=this.__data__;return this.size+=this.has(n)?0:1,h[n]=fu&&o===t?y:o,this},Js.prototype.clear=function ZA(){this.__data__=[],this.size=0},Js.prototype.delete=function KA(n){var o=this.__data__,h=Oc(o,n);return!(h<0||(h==o.length-1?o.pop():Ic.call(o,h,1),--this.size,0))},Js.prototype.get=function HA(n){var o=this.__data__,h=Oc(o,n);return h<0?t:o[h][1]},Js.prototype.has=function $A(n){return Oc(this.__data__,n)>-1},Js.prototype.set=function VA(n,o){var h=this.__data__,p=Oc(h,n);return p<0?(++this.size,h.push([n,o])):h[p][1]=o,this},Ws.prototype.clear=function GA(){this.size=0,this.__data__={hash:new jo,map:new(lu||Js),string:new jo}},Ws.prototype.delete=function JA(n){var o=Kc(this,n).delete(n);return this.size-=o?1:0,o},Ws.prototype.get=function WA(n){return Kc(this,n).get(n)},Ws.prototype.has=function QA(n){return Kc(this,n).has(n)},Ws.prototype.set=function YA(n,o){var h=Kc(this,n),p=h.size;return h.set(n,o),this.size+=h.size==p?0:1,this},zo.prototype.add=zo.prototype.push=function XA(n){return this.__data__.set(n,y),this},zo.prototype.has=function ex(n){return this.__data__.has(n)},es.prototype.clear=function tx(){this.__data__=new Js,this.size=0},es.prototype.delete=function rx(n){var o=this.__data__,h=o.delete(n);return this.size=o.size,h},es.prototype.get=function nx(n){return this.__data__.get(n)},es.prototype.has=function ix(n){return this.__data__.has(n)},es.prototype.set=function sx(n,o){var h=this.__data__;if(h instanceof Js){var p=h.__data__;if(!lu||p.length<199)return p.push([n,o]),this.size=++h.size,this;h=this.__data__=new Ws(p)}return h.set(n,o),this.size=h.size,this};var yo=Mg(Ps),tg=Mg(Kh,!0);function hx(n,o){var h=!0;return yo(n,function(p,b,M){return h=!!o(p,b,M)}),h}function Tc(n,o,h){for(var p=-1,b=n.length;++p<b;){var M=n[p],D=o(M);if(null!=D&&(q===t?D==D&&!Mi(D):h(D,q)))var q=D,L=M}return L}function rg(n,o){var h=[];return yo(n,function(p,b,M){o(p,b,M)&&h.push(p)}),h}function Bn(n,o,h,p,b){var M=-1,D=n.length;for(h||(h=e5),b||(b=[]);++M<D;){var q=n[M];o>0&&h(q)?o>1?Bn(q,o-1,h,p,b):go(b,q):p||(b[b.length]=q)}return b}var Zh=Pg(),ng=Pg(!0);function Ps(n,o){return n&&Zh(n,o,In)}function Kh(n,o){return n&&ng(n,o,In)}function Dc(n,o){return po(o,function(h){return to(n[h])})}function Zo(n,o){for(var h=0,p=(o=bo(o,n)).length;null!=n&&h<p;)n=n[Cs(o[h++])];return h&&h==p?n:t}function ig(n,o,h){var p=o(n);return Je(n)?p:go(p,h(n))}function ei(n){return null==n?n===t?"[object Undefined]":"[object Null]":Uo&&Uo in ar(n)?function Gx(n){var o=Bt.call(n,Uo),h=n[Uo];try{n[Uo]=t;var p=!0}catch{}var b=wc.call(n);return p&&(o?n[Uo]=h:delete n[Uo]),b}(n):function a5(n){return wc.call(n)}(n)}function Hh(n,o){return n>o}function dx(n,o){return null!=n&&Bt.call(n,o)}function px(n,o){return null!=n&&o in ar(n)}function $h(n,o,h){for(var p=h?Ph:gc,b=n[0].length,M=n.length,D=M,q=V(M),L=1/0,ne=[];D--;){var ie=n[D];D&&o&&(ie=Ar(ie,Ii(o))),L=Zn(ie.length,L),q[D]=!h&&(o||b>=120&&ie.length>=120)?new zo(D&&ie):t}ie=n[0];var oe=-1,pe=q[0];e:for(;++oe<b&&ne.length<L;){var Re=ie[oe],je=o?o(Re):Re;if(Re=h||0!==Re?Re:0,!(pe?uu(pe,je):p(ne,je,h))){for(D=M;--D;){var et=q[D];if(!(et?uu(et,je):p(n[D],je,h)))continue e}pe&&pe.push(je),ne.push(Re)}}return ne}function mu(n,o,h){var p=null==(n=Hg(n,o=bo(o,n)))?n:n[Cs(Li(o))];return null==p?t:Ei(p,n,h)}function sg(n){return qr(n)&&ei(n)==A}function vu(n,o,h,p,b){return n===o||(null==n||null==o||!qr(n)&&!qr(o)?n!=n&&o!=o:function _x(n,o,h,p,b,M){var D=Je(n),q=Je(o),L=D?te:Kn(n),ne=q?te:Kn(o),ie=(L=L==A?ht:L)==ht,oe=(ne=ne==A?ht:ne)==ht,pe=L==ne;if(pe&&Ao(n)){if(!Ao(o))return!1;D=!0,ie=!1}if(pe&&!ie)return M||(M=new es),D||Pa(n)?kg(n,o,h,p,b,M):function $x(n,o,h,p,b,M,D){switch(h){case mt:if(n.byteLength!=o.byteLength||n.byteOffset!=o.byteOffset)return!1;n=n.buffer,o=o.buffer;case xi:return!(n.byteLength!=o.byteLength||!M(new xc(n),new xc(o)));case re:case be:case yt:return ts(+n,+o);case ye:return n.name==o.name&&n.message==o.message;case _t:case wt:return n==o+"";case fe:var q=Bh;case dn:if(q||(q=vc),n.size!=o.size&&!(1&p))return!1;var ne=D.get(n);if(ne)return ne==o;p|=2,D.set(n,o);var ie=kg(q(n),q(o),p,b,M,D);return D.delete(n),ie;case It:if(du)return du.call(n)==du.call(o)}return!1}(n,o,L,h,p,b,M);if(!(1&h)){var Re=ie&&Bt.call(n,"__wrapped__"),je=oe&&Bt.call(o,"__wrapped__");if(Re||je){var et=Re?n.value():n,ze=je?o.value():o;return M||(M=new es),b(et,ze,h,p,M)}}return!!pe&&(M||(M=new es),function Vx(n,o,h,p,b,M){var D=1&h,q=uf(n),L=q.length;if(L!=uf(o).length&&!D)return!1;for(var oe=L;oe--;){var pe=q[oe];if(!(D?pe in o:Bt.call(o,pe)))return!1}var Re=M.get(n),je=M.get(o);if(Re&&je)return Re==o&&je==n;var et=!0;M.set(n,o),M.set(o,n);for(var ze=D;++oe<L;){var ot=n[pe=q[oe]],ft=o[pe];if(p)var Pi=D?p(ft,ot,pe,o,n,M):p(ot,ft,pe,n,o,M);if(!(Pi===t?ot===ft||b(ot,ft,h,p,M):Pi)){et=!1;break}ze||(ze="constructor"==pe)}if(et&&!ze){var ri=n.constructor,Ri=o.constructor;ri!=Ri&&"constructor"in n&&"constructor"in o&&!("function"==typeof ri&&ri instanceof ri&&"function"==typeof Ri&&Ri instanceof Ri)&&(et=!1)}return M.delete(n),M.delete(o),et}(n,o,h,p,b,M))}(n,o,h,p,vu,b))}function Vh(n,o,h,p){var b=h.length,M=b,D=!p;if(null==n)return!M;for(n=ar(n);b--;){var q=h[b];if(D&&q[2]?q[1]!==n[q[0]]:!(q[0]in n))return!1}for(;++b<M;){var L=(q=h[b])[0],ne=n[L],ie=q[1];if(D&&q[2]){if(ne===t&&!(L in n))return!1}else{var oe=new es;if(p)var pe=p(ne,ie,L,n,o,oe);if(!(pe===t?vu(ie,ne,3,p,oe):pe))return!1}}return!0}function og(n){return!(!Sr(n)||function r5(n){return!!L0&&L0 in n}(n))&&(to(n)?bA:Es).test(Ho(n))}function ag(n){return"function"==typeof n?n:null==n?mi:"object"==typeof n?Je(n)?lg(n[0],n[1]):cg(n):R1(n)}function Gh(n){if(!bu(n))return SA(n);var o=[];for(var h in ar(n))Bt.call(n,h)&&"constructor"!=h&&o.push(h);return o}function Jh(n,o){return n<o}function ug(n,o){var h=-1,p=pi(n)?V(n.length):[];return yo(n,function(b,M,D){p[++h]=o(b,M,D)}),p}function cg(n){var o=hf(n);return 1==o.length&&o[0][2]?Zg(o[0][0],o[0][1]):function(h){return h===n||Vh(h,n,o)}}function lg(n,o){return df(n)&&Lg(o)?Zg(Cs(n),o):function(h){var p=xf(h,n);return p===t&&p===o?Ef(h,n):vu(o,p,3)}}function Fc(n,o,h,p,b){n!==o&&Zh(o,function(M,D){if(b||(b=new es),Sr(M))!function Ix(n,o,h,p,b,M,D){var q=gf(n,h),L=gf(o,h),ne=D.get(L);if(ne)zh(n,h,ne);else{var ie=M?M(q,L,h+"",n,o,D):t,oe=ie===t;if(oe){var pe=Je(L),Re=!pe&&Ao(L),je=!pe&&!Re&&Pa(L);ie=L,pe||Re||je?Je(q)?ie=q:Kr(q)?ie=di(q):Re?(oe=!1,ie=Ag(L,!0)):je?(oe=!1,ie=xg(L,!0)):ie=[]:Au(L)||$o(L)?(ie=q,$o(q)?ie=_1(q):(!Sr(q)||to(q))&&(ie=zg(L))):oe=!1}oe&&(D.set(L,ie),b(ie,L,p,M,D),D.delete(L)),zh(n,h,ie)}}(n,o,D,h,Fc,p,b);else{var q=p?p(gf(n,D),M,D+"",n,o,b):t;q===t&&(q=M),zh(n,D,q)}},gi)}function hg(n,o){var h=n.length;if(h)return eo(o+=o<0?h:0,h)?n[o]:t}function fg(n,o,h){o=o.length?Ar(o,function(M){return Je(M)?function(D){return Zo(D,1===M.length?M[0]:M)}:M}):[mi];var p=-1;return o=Ar(o,Ii(qe())),function Y3(z,Y){var V=z.length;for(z.sort(Y);V--;)z[V]=z[V].value;return z}(ug(n,function(M,D,q){return{criteria:Ar(o,function(ne){return ne(M)}),index:++p,value:M}}),function(M,D){return function kx(n,o,h){for(var p=-1,b=n.criteria,M=o.criteria,D=b.length,q=h.length;++p<D;){var L=Eg(b[p],M[p]);if(L)return p>=q?L:L*("desc"==h[p]?-1:1)}return n.index-o.index}(M,D,h)})}function dg(n,o,h){for(var p=-1,b=o.length,M={};++p<b;){var D=o[p],q=Zo(n,D);h(q,D)&&yu(M,bo(D,n),q)}return M}function Wh(n,o,h,p){var b=p?Q3:va,M=-1,D=o.length,q=n;for(n===o&&(o=di(o)),h&&(q=Ar(n,Ii(h)));++M<D;)for(var L=0,ne=o[M],ie=h?h(ne):ne;(L=b(q,ie,L,p))>-1;)q!==n&&Ic.call(q,L,1),Ic.call(n,L,1);return n}function pg(n,o){for(var h=n?o.length:0,p=h-1;h--;){var b=o[h];if(h==p||b!==M){var M=b;eo(b)?Ic.call(n,b,1):ef(n,b)}}return n}function Qh(n,o){return n+Pc(G0()*(o-n+1))}function Yh(n,o){var h="";if(!n||o<1||o>k)return h;do{o%2&&(h+=n),(o=Pc(o/2))&&(n+=n)}while(o);return h}function nt(n,o){return mf(Kg(n,o,mi),n+"")}function Rx(n){return Q0(Ra(n))}function Cx(n,o){var h=Ra(n);return Hc(h,Lo(o,0,h.length))}function yu(n,o,h,p){if(!Sr(n))return n;for(var b=-1,M=(o=bo(o,n)).length,D=M-1,q=n;null!=q&&++b<M;){var L=Cs(o[b]),ne=h;if("__proto__"===L||"constructor"===L||"prototype"===L)return n;if(b!=D){var ie=q[L];(ne=p?p(ie,L,q):t)===t&&(ne=Sr(ie)?ie:eo(o[b+1])?[]:{})}pu(q,L,ne),q=q[L]}return n}var gg=Rc?function(n,o){return Rc.set(n,o),n}:mi,Nx=Sc?function(n,o){return Sc(n,"toString",{configurable:!0,enumerable:!1,value:Sf(o),writable:!0})}:mi;function Ox(n){return Hc(Ra(n))}function zi(n,o,h){var p=-1,b=n.length;o<0&&(o=-o>b?0:b+o),(h=h>b?b:h)<0&&(h+=b),b=o>h?0:h-o>>>0,o>>>=0;for(var M=V(b);++p<b;)M[p]=n[p+o];return M}function Tx(n,o){var h;return yo(n,function(p,b,M){return!(h=o(p,b,M))}),!!h}function Bc(n,o,h){var p=0,b=null==n?p:n.length;if("number"==typeof o&&o==o&&b<=2147483647){for(;p<b;){var M=p+b>>>1,D=n[M];null!==D&&!Mi(D)&&(h?D<=o:D<o)?p=M+1:b=M}return b}return Xh(n,o,mi,h)}function Xh(n,o,h,p){var b=0,M=null==n?0:n.length;if(0===M)return 0;for(var D=(o=h(o))!=o,q=null===o,L=Mi(o),ne=o===t;b<M;){var ie=Pc((b+M)/2),oe=h(n[ie]),pe=oe!==t,Re=null===oe,je=oe==oe,et=Mi(oe);if(D)var ze=p||je;else ze=ne?je&&(p||pe):q?je&&pe&&(p||!Re):L?je&&pe&&!Re&&(p||!et):!Re&&!et&&(p?oe<=o:oe<o);ze?b=ie+1:M=ie}return Zn(M,4294967294)}function mg(n,o){for(var h=-1,p=n.length,b=0,M=[];++h<p;){var D=n[h],q=o?o(D):D;if(!h||!ts(q,L)){var L=q;M[b++]=0===D?0:D}}return M}function vg(n){return"number"==typeof n?n:Mi(n)?N:+n}function Si(n){if("string"==typeof n)return n;if(Je(n))return Ar(n,Si)+"";if(Mi(n))return J0?J0.call(n):"";var o=n+"";return"0"==o&&1/n==-T?"-0":o}function _o(n,o,h){var p=-1,b=gc,M=n.length,D=!0,q=[],L=q;if(h)D=!1,b=Ph;else if(M>=200){var ne=o?null:Kx(n);if(ne)return vc(ne);D=!1,b=uu,L=new zo}else L=o?[]:q;e:for(;++p<M;){var ie=n[p],oe=o?o(ie):ie;if(ie=h||0!==ie?ie:0,D&&oe==oe){for(var pe=L.length;pe--;)if(L[pe]===oe)continue e;o&&L.push(oe),q.push(ie)}else b(L,oe,h)||(L!==q&&L.push(oe),q.push(ie))}return q}function ef(n,o){return null==(n=Hg(n,o=bo(o,n)))||delete n[Cs(Li(o))]}function yg(n,o,h,p){return yu(n,o,h(Zo(n,o)),p)}function qc(n,o,h,p){for(var b=n.length,M=p?b:-1;(p?M--:++M<b)&&o(n[M],M,n););return h?zi(n,p?0:M,p?M+1:b):zi(n,p?M+1:0,p?b:M)}function _g(n,o){var h=n;return h instanceof ct&&(h=h.value()),Rh(o,function(p,b){return b.func.apply(b.thisArg,go([p],b.args))},h)}function tf(n,o,h){var p=n.length;if(p<2)return p?_o(n[0]):[];for(var b=-1,M=V(p);++b<p;)for(var D=n[b],q=-1;++q<p;)q!=b&&(M[b]=gu(M[b]||D,n[q],o,h));return _o(Bn(M,1),o,h)}function bg(n,o,h){for(var p=-1,b=n.length,M=o.length,D={};++p<b;)h(D,n[p],p<M?o[p]:t);return D}function rf(n){return Kr(n)?n:[]}function nf(n){return"function"==typeof n?n:mi}function bo(n,o){return Je(n)?n:df(n,o)?[n]:Jg(St(n))}var Dx=nt;function wo(n,o,h){var p=n.length;return h=h===t?p:h,!o&&h>=p?n:zi(n,o,h)}var wg=wA||function(n){return Fn.clearTimeout(n)};function Ag(n,o){if(o)return n.slice();var h=n.length,p=Z0?Z0(h):new n.constructor(h);return n.copy(p),p}function sf(n){var o=new n.constructor(n.byteLength);return new xc(o).set(new xc(n)),o}function xg(n,o){var h=o?sf(n.buffer):n.buffer;return new n.constructor(h,n.byteOffset,n.length)}function Eg(n,o){if(n!==o){var h=n!==t,p=null===n,b=n==n,M=Mi(n),D=o!==t,q=null===o,L=o==o,ne=Mi(o);if(!q&&!ne&&!M&&n>o||M&&D&&L&&!q&&!ne||p&&D&&L||!h&&L||!b)return 1;if(!p&&!M&&!ne&&n<o||ne&&h&&b&&!p&&!M||q&&h&&b||!D&&b||!L)return-1}return 0}function Ig(n,o,h,p){for(var b=-1,M=n.length,D=h.length,q=-1,L=o.length,ne=gn(M-D,0),ie=V(L+ne),oe=!p;++q<L;)ie[q]=o[q];for(;++b<D;)(oe||b<M)&&(ie[h[b]]=n[b]);for(;ne--;)ie[q++]=n[b++];return ie}function Sg(n,o,h,p){for(var b=-1,M=n.length,D=-1,q=h.length,L=-1,ne=o.length,ie=gn(M-q,0),oe=V(ie+ne),pe=!p;++b<ie;)oe[b]=n[b];for(var Re=b;++L<ne;)oe[Re+L]=o[L];for(;++D<q;)(pe||b<M)&&(oe[Re+h[D]]=n[b++]);return oe}function di(n,o){var h=-1,p=n.length;for(o||(o=V(p));++h<p;)o[h]=n[h];return o}function Rs(n,o,h,p){var b=!h;h||(h={});for(var M=-1,D=o.length;++M<D;){var q=o[M],L=p?p(h[q],n[q],q,h,n):t;L===t&&(L=n[q]),b?Qs(h,q,L):pu(h,q,L)}return h}function kc(n,o){return function(h,p){var b=Je(h)?H3:ux,M=o?o():{};return b(h,n,qe(p,2),M)}}function Ia(n){return nt(function(o,h){var p=-1,b=h.length,M=b>1?h[b-1]:t,D=b>2?h[2]:t;for(M=n.length>3&&"function"==typeof M?(b--,M):t,D&&ti(h[0],h[1],D)&&(M=b<3?t:M,b=1),o=ar(o);++p<b;){var q=h[p];q&&n(o,q,p,M)}return o})}function Mg(n,o){return function(h,p){if(null==h)return h;if(!pi(h))return n(h,p);for(var b=h.length,M=o?b:-1,D=ar(h);(o?M--:++M<b)&&!1!==p(D[M],M,D););return h}}function Pg(n){return function(o,h,p){for(var b=-1,M=ar(o),D=p(o),q=D.length;q--;){var L=D[n?q:++b];if(!1===h(M[L],L,M))break}return o}}function Rg(n){return function(o){var h=ya(o=St(o))?Xi(o):t,p=h?h[0]:o.charAt(0),b=h?wo(h,1).join(""):o.slice(1);return p[n]()+b}}function Sa(n){return function(o){return Rh(M1(S1(o).replace(N3,"")),n,"")}}function _u(n){return function(){var o=arguments;switch(o.length){case 0:return new n;case 1:return new n(o[0]);case 2:return new n(o[0],o[1]);case 3:return new n(o[0],o[1],o[2]);case 4:return new n(o[0],o[1],o[2],o[3]);case 5:return new n(o[0],o[1],o[2],o[3],o[4]);case 6:return new n(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new n(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var h=Ea(n.prototype),p=n.apply(h,o);return Sr(p)?p:h}}function Cg(n){return function(o,h,p){var b=ar(o);if(!pi(o)){var M=qe(h,3);o=In(o),h=function(q){return M(b[q],q,b)}}var D=n(o,h,p);return D>-1?b[M?o[D]:D]:t}}function Ng(n){return Xs(function(o){var h=o.length,p=h,b=Ui.prototype.thru;for(n&&o.reverse();p--;){var M=o[p];if("function"!=typeof M)throw new ki(l);if(b&&!D&&"wrapper"==Zc(M))var D=new Ui([],!0)}for(p=D?p:h;++p<h;){var q=Zc(M=o[p]),L="wrapper"==q?lf(M):t;D=L&&pf(L[0])&&424==L[1]&&!L[4].length&&1==L[9]?D[Zc(L[0])].apply(D,L[3]):1==M.length&&pf(M)?D[q]():D.thru(M)}return function(){var ne=arguments,ie=ne[0];if(D&&1==ne.length&&Je(ie))return D.plant(ie).value();for(var oe=0,pe=h?o[oe].apply(this,ne):ie;++oe<h;)pe=o[oe].call(this,pe);return pe}})}function Uc(n,o,h,p,b,M,D,q,L,ne){var ie=128&o,oe=1&o,pe=2&o,Re=24&o,je=512&o,et=pe?t:_u(n);return function ze(){for(var ot=arguments.length,ft=V(ot),Pi=ot;Pi--;)ft[Pi]=arguments[Pi];if(Re)var ri=Ma(ze),Ri=function eA(z,Y){for(var V=z.length,Ee=0;V--;)z[V]===Y&&++Ee;return Ee}(ft,ri);if(p&&(ft=Ig(ft,p,b,Re)),M&&(ft=Sg(ft,M,D,Re)),ot-=Ri,Re&&ot<ne){var Hr=mo(ft,ri);return Dg(n,o,Uc,ze.placeholder,h,ft,Hr,q,L,ne-ot)}var rs=oe?h:this,no=pe?rs[n]:n;return ot=ft.length,q?ft=function u5(n,o){for(var h=n.length,p=Zn(o.length,h),b=di(n);p--;){var M=o[p];n[p]=eo(M,h)?b[M]:t}return n}(ft,q):je&&ot>1&&ft.reverse(),ie&&L<ot&&(ft.length=L),this&&this!==Fn&&this instanceof ze&&(no=et||_u(no)),no.apply(rs,ft)}}function Og(n,o){return function(h,p){return function mx(n,o,h,p){return Ps(n,function(b,M,D){o(p,h(b),M,D)}),p}(h,n,o(p),{})}}function jc(n,o){return function(h,p){var b;if(h===t&&p===t)return o;if(h!==t&&(b=h),p!==t){if(b===t)return p;"string"==typeof h||"string"==typeof p?(h=Si(h),p=Si(p)):(h=vg(h),p=vg(p)),b=n(h,p)}return b}}function of(n){return Xs(function(o){return o=Ar(o,Ii(qe())),nt(function(h){var p=this;return n(o,function(b){return Ei(b,p,h)})})})}function zc(n,o){var h=(o=o===t?" ":Si(o)).length;if(h<2)return h?Yh(o,n):o;var p=Yh(o,Mc(n/_a(o)));return ya(o)?wo(Xi(p),0,n).join(""):p.slice(0,n)}function Tg(n){return function(o,h,p){return p&&"number"!=typeof p&&ti(o,h,p)&&(h=p=t),o=ro(o),h===t?(h=o,o=0):h=ro(h),function Px(n,o,h,p){for(var b=-1,M=gn(Mc((o-n)/(h||1)),0),D=V(M);M--;)D[p?M:++b]=n,n+=h;return D}(o,h,p=p===t?o<h?1:-1:ro(p),n)}}function Lc(n){return function(o,h){return"string"==typeof o&&"string"==typeof h||(o=Zi(o),h=Zi(h)),n(o,h)}}function Dg(n,o,h,p,b,M,D,q,L,ne){var ie=8&o;o|=ie?32:64,4&(o&=~(ie?64:32))||(o&=-4);var et=[n,o,b,ie?M:t,ie?D:t,ie?t:M,ie?t:D,q,L,ne],ze=h.apply(t,et);return pf(n)&&$g(ze,et),ze.placeholder=p,Vg(ze,n,o)}function af(n){var o=pn[n];return function(h,p){if(h=Zi(h),(p=null==p?0:Zn(Xe(p),292))&&V0(h)){var b=(St(h)+"e").split("e");return+((b=(St(o(b[0]+"e"+(+b[1]+p)))+"e").split("e"))[0]+"e"+(+b[1]-p))}return o(h)}}var Kx=Aa&&1/vc(new Aa([,-0]))[1]==T?function(n){return new Aa(n)}:Rf;function Fg(n){return function(o){var h=Kn(o);return h==fe?Bh(o):h==dn?function aA(z){var Y=-1,V=Array(z.size);return z.forEach(function(Ee){V[++Y]=[Ee,Ee]}),V}(o):function X3(z,Y){return Ar(Y,function(V){return[V,z[V]]})}(o,n(o))}}function Ys(n,o,h,p,b,M,D,q){var L=2&o;if(!L&&"function"!=typeof n)throw new ki(l);var ne=p?p.length:0;if(ne||(o&=-97,p=b=t),D=D===t?D:gn(Xe(D),0),q=q===t?q:Xe(q),ne-=b?b.length:0,64&o){var ie=p,oe=b;p=b=t}var pe=L?t:lf(n),Re=[n,o,h,p,b,ie,oe,M,D,q];if(pe&&function s5(n,o){var h=n[1],p=o[1],b=h|p;if(!(b<131)&&!(128==p&&8==h||128==p&&256==h&&n[7].length<=o[8]||384==p&&o[7].length<=o[8]&&8==h))return n;1&p&&(n[2]=o[2],b|=1&h?0:4);var q=o[3];if(q){var L=n[3];n[3]=L?Ig(L,q,o[4]):q,n[4]=L?mo(n[3],w):o[4]}(q=o[5])&&(n[5]=(L=n[5])?Sg(L,q,o[6]):q,n[6]=L?mo(n[5],w):o[6]),(q=o[7])&&(n[7]=q),128&p&&(n[8]=null==n[8]?o[8]:Zn(n[8],o[8])),null==n[9]&&(n[9]=o[9]),n[0]=o[0],n[1]=b}(Re,pe),n=Re[0],o=Re[1],h=Re[2],p=Re[3],b=Re[4],!(q=Re[9]=Re[9]===t?L?0:n.length:gn(Re[9]-ne,0))&&24&o&&(o&=-25),o&&1!=o)je=8==o||16==o?function Lx(n,o,h){var p=_u(n);return function b(){for(var M=arguments.length,D=V(M),q=M,L=Ma(b);q--;)D[q]=arguments[q];var ne=M<3&&D[0]!==L&&D[M-1]!==L?[]:mo(D,L);return(M-=ne.length)<h?Dg(n,o,Uc,b.placeholder,t,D,ne,t,t,h-M):Ei(this&&this!==Fn&&this instanceof b?p:n,this,D)}}(n,o,q):32!=o&&33!=o||b.length?Uc.apply(t,Re):function Zx(n,o,h,p){var b=1&o,M=_u(n);return function D(){for(var q=-1,L=arguments.length,ne=-1,ie=p.length,oe=V(ie+L),pe=this&&this!==Fn&&this instanceof D?M:n;++ne<ie;)oe[ne]=p[ne];for(;L--;)oe[ne++]=arguments[++q];return Ei(pe,b?h:this,oe)}}(n,o,h,p);else var je=function zx(n,o,h){var p=1&o,b=_u(n);return function M(){return(this&&this!==Fn&&this instanceof M?b:n).apply(p?h:this,arguments)}}(n,o,h);return Vg((pe?gg:$g)(je,Re),n,o)}function Bg(n,o,h,p){return n===t||ts(n,wa[h])&&!Bt.call(p,h)?o:n}function qg(n,o,h,p,b,M){return Sr(n)&&Sr(o)&&(M.set(o,n),Fc(n,o,t,qg,M),M.delete(o)),n}function Hx(n){return Au(n)?t:n}function kg(n,o,h,p,b,M){var D=1&h,q=n.length,L=o.length;if(q!=L&&!(D&&L>q))return!1;var ne=M.get(n),ie=M.get(o);if(ne&&ie)return ne==o&&ie==n;var oe=-1,pe=!0,Re=2&h?new zo:t;for(M.set(n,o),M.set(o,n);++oe<q;){var je=n[oe],et=o[oe];if(p)var ze=D?p(et,je,oe,o,n,M):p(je,et,oe,n,o,M);if(ze!==t){if(ze)continue;pe=!1;break}if(Re){if(!Ch(o,function(ot,ft){if(!uu(Re,ft)&&(je===ot||b(je,ot,h,p,M)))return Re.push(ft)})){pe=!1;break}}else if(je!==et&&!b(je,et,h,p,M)){pe=!1;break}}return M.delete(n),M.delete(o),pe}function Xs(n){return mf(Kg(n,t,Xg),n+"")}function uf(n){return ig(n,In,ff)}function cf(n){return ig(n,gi,Ug)}var lf=Rc?function(n){return Rc.get(n)}:Rf;function Zc(n){for(var o=n.name+"",h=xa[o],p=Bt.call(xa,o)?h.length:0;p--;){var b=h[p],M=b.func;if(null==M||M==n)return b.name}return o}function Ma(n){return(Bt.call(E,"placeholder")?E:n).placeholder}function qe(){var n=E.iteratee||Mf;return n=n===Mf?ag:n,arguments.length?n(arguments[0],arguments[1]):n}function Kc(n,o){var h=n.__data__;return function t5(n){var o=typeof n;return"string"==o||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n}(o)?h["string"==typeof o?"string":"hash"]:h.map}function hf(n){for(var o=In(n),h=o.length;h--;){var p=o[h],b=n[p];o[h]=[p,b,Lg(b)]}return o}function Ko(n,o){var h=function iA(z,Y){return null==z?t:z[Y]}(n,o);return og(h)?h:t}var ff=kh?function(n){return null==n?[]:(n=ar(n),po(kh(n),function(o){return H0.call(n,o)}))}:Cf,Ug=kh?function(n){for(var o=[];n;)go(o,ff(n)),n=Ec(n);return o}:Cf,Kn=ei;function jg(n,o,h){for(var p=-1,b=(o=bo(o,n)).length,M=!1;++p<b;){var D=Cs(o[p]);if(!(M=null!=n&&h(n,D)))break;n=n[D]}return M||++p!=b?M:!!(b=null==n?0:n.length)&&Qc(b)&&eo(D,b)&&(Je(n)||$o(n))}function zg(n){return"function"!=typeof n.constructor||bu(n)?{}:Ea(Ec(n))}function e5(n){return Je(n)||$o(n)||!!($0&&n&&n[$0])}function eo(n,o){var h=typeof n;return!!(o=o??k)&&("number"==h||"symbol"!=h&&Ss.test(n))&&n>-1&&n%1==0&&n<o}function ti(n,o,h){if(!Sr(h))return!1;var p=typeof o;return!!("number"==p?pi(h)&&eo(o,h.length):"string"==p&&o in h)&&ts(h[o],n)}function df(n,o){if(Je(n))return!1;var h=typeof n;return!("number"!=h&&"symbol"!=h&&"boolean"!=h&&null!=n&&!Mi(n))||Xt.test(n)||!Hs.test(n)||null!=o&&n in ar(o)}function pf(n){var o=Zc(n),h=E[o];if("function"!=typeof h||!(o in ct.prototype))return!1;if(n===h)return!0;var p=lf(h);return!!p&&n===p[0]}(Uh&&Kn(new Uh(new ArrayBuffer(1)))!=mt||lu&&Kn(new lu)!=fe||jh&&Kn(jh.resolve())!=bs||Aa&&Kn(new Aa)!=dn||hu&&Kn(new hu)!=At)&&(Kn=function(n){var o=ei(n),h=o==ht?n.constructor:t,p=h?Ho(h):"";if(p)switch(p){case CA:return mt;case NA:return fe;case OA:return bs;case TA:return dn;case DA:return At}return o});var n5=_c?to:Nf;function bu(n){var o=n&&n.constructor;return n===("function"==typeof o&&o.prototype||wa)}function Lg(n){return n==n&&!Sr(n)}function Zg(n,o){return function(h){return null!=h&&h[n]===o&&(o!==t||n in ar(h))}}function Kg(n,o,h){return o=gn(o===t?n.length-1:o,0),function(){for(var p=arguments,b=-1,M=gn(p.length-o,0),D=V(M);++b<M;)D[b]=p[o+b];b=-1;for(var q=V(o+1);++b<o;)q[b]=p[b];return q[o]=h(D),Ei(n,this,q)}}function Hg(n,o){return o.length<2?n:Zo(n,zi(o,0,-1))}function gf(n,o){if(("constructor"!==o||"function"!=typeof n[o])&&"__proto__"!=o)return n[o]}var $g=Gg(gg),wu=xA||function(n,o){return Fn.setTimeout(n,o)},mf=Gg(Nx);function Vg(n,o,h){var p=o+"";return mf(n,function Xx(n,o){var h=o.length;if(!h)return n;var p=h-1;return o[p]=(h>1?"& ":"")+o[p],o=o.join(h>2?", ":" "),n.replace(rr,"{\n/* [wrapped with "+o+"] */\n")}(p,function c5(n,o){return qi(Pe,function(h){var p="_."+h[0];o&h[1]&&!gc(n,p)&&n.push(p)}),n.sort()}(function Wx(n){var o=n.match(nr);return o?o[1].split(Vs):[]}(p),h)))}function Gg(n){var o=0,h=0;return function(){var p=MA(),b=16-(p-h);if(h=p,b>0){if(++o>=800)return arguments[0]}else o=0;return n.apply(t,arguments)}}function Hc(n,o){var h=-1,p=n.length,b=p-1;for(o=o===t?p:o;++h<o;){var M=Qh(h,b),D=n[M];n[M]=n[h],n[h]=D}return n.length=o,n}var Jg=function i5(n){var o=Jc(n,function(p){return 500===h.size&&h.clear(),p}),h=o.cache;return o}(function(n){var o=[];return 46===n.charCodeAt(0)&&o.push(""),n.replace(er,function(h,p,b,M){o.push(b?M.replace(Gs,"$1"):p||h)}),o});function Cs(n){if("string"==typeof n||Mi(n))return n;var o=n+"";return"0"==o&&1/n==-T?"-0":o}function Ho(n){if(null!=n){try{return bc.call(n)}catch{}try{return n+""}catch{}}return""}function Wg(n){if(n instanceof ct)return n.clone();var o=new Ui(n.__wrapped__,n.__chain__);return o.__actions__=di(n.__actions__),o.__index__=n.__index__,o.__values__=n.__values__,o}var d5=nt(function(n,o){return Kr(n)?gu(n,Bn(o,1,Kr,!0)):[]}),p5=nt(function(n,o){var h=Li(o);return Kr(h)&&(h=t),Kr(n)?gu(n,Bn(o,1,Kr,!0),qe(h,2)):[]}),g5=nt(function(n,o){var h=Li(o);return Kr(h)&&(h=t),Kr(n)?gu(n,Bn(o,1,Kr,!0),t,h):[]});function Qg(n,o,h){var p=null==n?0:n.length;if(!p)return-1;var b=null==h?0:Xe(h);return b<0&&(b=gn(p+b,0)),mc(n,qe(o,3),b)}function Yg(n,o,h){var p=null==n?0:n.length;if(!p)return-1;var b=p-1;return h!==t&&(b=Xe(h),b=h<0?gn(p+b,0):Zn(b,p-1)),mc(n,qe(o,3),b,!0)}function Xg(n){return null!=n&&n.length?Bn(n,1):[]}function e1(n){return n&&n.length?n[0]:t}var S5=nt(function(n){var o=Ar(n,rf);return o.length&&o[0]===n[0]?$h(o):[]}),M5=nt(function(n){var o=Li(n),h=Ar(n,rf);return o===Li(h)?o=t:h.pop(),h.length&&h[0]===n[0]?$h(h,qe(o,2)):[]}),P5=nt(function(n){var o=Li(n),h=Ar(n,rf);return(o="function"==typeof o?o:t)&&h.pop(),h.length&&h[0]===n[0]?$h(h,t,o):[]});function Li(n){var o=null==n?0:n.length;return o?n[o-1]:t}var O5=nt(t1);function t1(n,o){return n&&n.length&&o&&o.length?Wh(n,o):n}var F5=Xs(function(n,o){var h=null==n?0:n.length,p=Lh(n,o);return pg(n,Ar(o,function(b){return eo(b,h)?+b:b}).sort(Eg)),p});function vf(n){return null==n?n:RA.call(n)}var Q5=nt(function(n){return _o(Bn(n,1,Kr,!0))}),Y5=nt(function(n){var o=Li(n);return Kr(o)&&(o=t),_o(Bn(n,1,Kr,!0),qe(o,2))}),X5=nt(function(n){var o=Li(n);return o="function"==typeof o?o:t,_o(Bn(n,1,Kr,!0),t,o)});function yf(n){if(!n||!n.length)return[];var o=0;return n=po(n,function(h){if(Kr(h))return o=gn(h.length,o),!0}),Dh(o,function(h){return Ar(n,Nh(h))})}function r1(n,o){if(!n||!n.length)return[];var h=yf(n);return null==o?h:Ar(h,function(p){return Ei(o,t,p)})}var nE=nt(function(n,o){return Kr(n)?gu(n,o):[]}),iE=nt(function(n){return tf(po(n,Kr))}),sE=nt(function(n){var o=Li(n);return Kr(o)&&(o=t),tf(po(n,Kr),qe(o,2))}),oE=nt(function(n){var o=Li(n);return o="function"==typeof o?o:t,tf(po(n,Kr),t,o)}),aE=nt(yf),lE=nt(function(n){var o=n.length,h=o>1?n[o-1]:t;return h="function"==typeof h?(n.pop(),h):t,r1(n,h)});function n1(n){var o=E(n);return o.__chain__=!0,o}function $c(n,o){return o(n)}var fE=Xs(function(n){var o=n.length,h=o?n[0]:0,p=this.__wrapped__,b=function(M){return Lh(M,n)};return!(o>1||this.__actions__.length)&&p instanceof ct&&eo(h)?((p=p.slice(h,+h+(o?1:0))).__actions__.push({func:$c,args:[b],thisArg:t}),new Ui(p,this.__chain__).thru(function(M){return o&&!M.length&&M.push(t),M})):this.thru(b)}),bE=kc(function(n,o,h){Bt.call(n,h)?++n[h]:Qs(n,h,1)}),xE=Cg(Qg),EE=Cg(Yg);function i1(n,o){return(Je(n)?qi:yo)(n,qe(o,3))}function s1(n,o){return(Je(n)?$3:tg)(n,qe(o,3))}var PE=kc(function(n,o,h){Bt.call(n,h)?n[h].push(o):Qs(n,h,[o])}),CE=nt(function(n,o,h){var p=-1,b="function"==typeof o,M=pi(n)?V(n.length):[];return yo(n,function(D){M[++p]=b?Ei(o,D,h):mu(D,o,h)}),M}),NE=kc(function(n,o,h){Qs(n,h,o)});function Vc(n,o){return(Je(n)?Ar:ug)(n,qe(o,3))}var TE=kc(function(n,o,h){n[h?0:1].push(o)},function(){return[[],[]]}),LE=nt(function(n,o){if(null==n)return[];var h=o.length;return h>1&&ti(n,o[0],o[1])?o=[]:h>2&&ti(o[0],o[1],o[2])&&(o=[o[0]]),fg(n,Bn(o,1),[])}),Gc=AA||function(){return Fn.Date.now()};function o1(n,o,h){return o=h?t:o,Ys(n,128,t,t,t,t,o=n&&null==o?n.length:o)}function a1(n,o){var h;if("function"!=typeof o)throw new ki(l);return n=Xe(n),function(){return--n>0&&(h=o.apply(this,arguments)),n<=1&&(o=t),h}}var _f=nt(function(n,o,h){var p=1;if(h.length){var b=mo(h,Ma(_f));p|=32}return Ys(n,p,o,h,b)}),u1=nt(function(n,o,h){var p=3;if(h.length){var b=mo(h,Ma(u1));p|=32}return Ys(o,p,n,h,b)});function h1(n,o,h){var p,b,M,D,q,L,ne=0,ie=!1,oe=!1,pe=!0;if("function"!=typeof n)throw new ki(l);function Re(Hr){var rs=p,no=b;return p=b=t,ne=Hr,D=n.apply(no,rs)}function ze(Hr){var rs=Hr-L;return L===t||rs>=o||rs<0||oe&&Hr-ne>=M}function ot(){var Hr=Gc();if(ze(Hr))return ft(Hr);q=wu(ot,function et(Hr){var C1=o-(Hr-L);return oe?Zn(C1,M-(Hr-ne)):C1}(Hr))}function ft(Hr){return q=t,pe&&p?Re(Hr):(p=b=t,D)}function Ri(){var Hr=Gc(),rs=ze(Hr);if(p=arguments,b=this,L=Hr,rs){if(q===t)return function je(Hr){return ne=Hr,q=wu(ot,o),ie?Re(Hr):D}(L);if(oe)return wg(q),q=wu(ot,o),Re(L)}return q===t&&(q=wu(ot,o)),D}return o=Zi(o)||0,Sr(h)&&(ie=!!h.leading,M=(oe="maxWait"in h)?gn(Zi(h.maxWait)||0,o):M,pe="trailing"in h?!!h.trailing:pe),Ri.cancel=function Pi(){q!==t&&wg(q),ne=0,p=L=b=q=t},Ri.flush=function ri(){return q===t?D:ft(Gc())},Ri}var KE=nt(function(n,o){return eg(n,1,o)}),HE=nt(function(n,o,h){return eg(n,Zi(o)||0,h)});function Jc(n,o){if("function"!=typeof n||null!=o&&"function"!=typeof o)throw new ki(l);var h=function(){var p=arguments,b=o?o.apply(this,p):p[0],M=h.cache;if(M.has(b))return M.get(b);var D=n.apply(this,p);return h.cache=M.set(b,D)||M,D};return h.cache=new(Jc.Cache||Ws),h}function Wc(n){if("function"!=typeof n)throw new ki(l);return function(){var o=arguments;switch(o.length){case 0:return!n.call(this);case 1:return!n.call(this,o[0]);case 2:return!n.call(this,o[0],o[1]);case 3:return!n.call(this,o[0],o[1],o[2])}return!n.apply(this,o)}}Jc.Cache=Ws;var GE=Dx(function(n,o){var h=(o=1==o.length&&Je(o[0])?Ar(o[0],Ii(qe())):Ar(Bn(o,1),Ii(qe()))).length;return nt(function(p){for(var b=-1,M=Zn(p.length,h);++b<M;)p[b]=o[b].call(this,p[b]);return Ei(n,this,p)})}),bf=nt(function(n,o){var h=mo(o,Ma(bf));return Ys(n,32,t,o,h)}),f1=nt(function(n,o){var h=mo(o,Ma(f1));return Ys(n,64,t,o,h)}),JE=Xs(function(n,o){return Ys(n,256,t,t,t,o)});function ts(n,o){return n===o||n!=n&&o!=o}var a8=Lc(Hh),u8=Lc(function(n,o){return n>=o}),$o=sg(function(){return arguments}())?sg:function(n){return qr(n)&&Bt.call(n,"callee")&&!H0.call(n,"callee")},Je=V.isArray,c8=S0?Ii(S0):function vx(n){return qr(n)&&ei(n)==xi};function pi(n){return null!=n&&Qc(n.length)&&!to(n)}function Kr(n){return qr(n)&&pi(n)}var Ao=EA||Nf,h8=M0?Ii(M0):function yx(n){return qr(n)&&ei(n)==be};function wf(n){if(!qr(n))return!1;var o=ei(n);return o==ye||"[object DOMException]"==o||"string"==typeof n.message&&"string"==typeof n.name&&!Au(n)}function to(n){if(!Sr(n))return!1;var o=ei(n);return o==Ce||o==He||"[object AsyncFunction]"==o||"[object Proxy]"==o}function d1(n){return"number"==typeof n&&n==Xe(n)}function Qc(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=k}function Sr(n){var o=typeof n;return null!=n&&("object"==o||"function"==o)}function qr(n){return null!=n&&"object"==typeof n}var p1=P0?Ii(P0):function bx(n){return qr(n)&&Kn(n)==fe};function g1(n){return"number"==typeof n||qr(n)&&ei(n)==yt}function Au(n){if(!qr(n)||ei(n)!=ht)return!1;var o=Ec(n);if(null===o)return!0;var h=Bt.call(o,"constructor")&&o.constructor;return"function"==typeof h&&h instanceof h&&bc.call(h)==yA}var Af=R0?Ii(R0):function wx(n){return qr(n)&&ei(n)==_t},m1=C0?Ii(C0):function Ax(n){return qr(n)&&Kn(n)==dn};function Yc(n){return"string"==typeof n||!Je(n)&&qr(n)&&ei(n)==wt}function Mi(n){return"symbol"==typeof n||qr(n)&&ei(n)==It}var Pa=N0?Ii(N0):function xx(n){return qr(n)&&Qc(n.length)&&!!vr[ei(n)]},M8=Lc(Jh),P8=Lc(function(n,o){return n<=o});function v1(n){if(!n)return[];if(pi(n))return Yc(n)?Xi(n):di(n);if(cu&&n[cu])return function oA(z){for(var Y,V=[];!(Y=z.next()).done;)V.push(Y.value);return V}(n[cu]());var o=Kn(n);return(o==fe?Bh:o==dn?vc:Ra)(n)}function ro(n){return n?(n=Zi(n))===T||n===-T?17976931348623157e292*(n<0?-1:1):n==n?n:0:0===n?n:0}function Xe(n){var o=ro(n),h=o%1;return o==o?h?o-h:o:0}function y1(n){return n?Lo(Xe(n),0,m):0}function Zi(n){if("number"==typeof n)return n;if(Mi(n))return N;if(Sr(n)){var o="function"==typeof n.valueOf?n.valueOf():n;n=Sr(o)?o+"":o}if("string"!=typeof n)return 0===n?n:+n;n=q0(n);var h=xs.test(n);return h||Is.test(n)?Z3(n.slice(2),h?2:8):As.test(n)?N:+n}function _1(n){return Rs(n,gi(n))}function St(n){return null==n?"":Si(n)}var C8=Ia(function(n,o){if(bu(o)||pi(o))Rs(o,In(o),n);else for(var h in o)Bt.call(o,h)&&pu(n,h,o[h])}),b1=Ia(function(n,o){Rs(o,gi(o),n)}),Xc=Ia(function(n,o,h,p){Rs(o,gi(o),n,p)}),N8=Ia(function(n,o,h,p){Rs(o,In(o),n,p)}),O8=Xs(Lh),D8=nt(function(n,o){n=ar(n);var h=-1,p=o.length,b=p>2?o[2]:t;for(b&&ti(o[0],o[1],b)&&(p=1);++h<p;)for(var M=o[h],D=gi(M),q=-1,L=D.length;++q<L;){var ne=D[q],ie=n[ne];(ie===t||ts(ie,wa[ne])&&!Bt.call(n,ne))&&(n[ne]=M[ne])}return n}),F8=nt(function(n){return n.push(t,qg),Ei(w1,t,n)});function xf(n,o,h){var p=null==n?t:Zo(n,o);return p===t?h:p}function Ef(n,o){return null!=n&&jg(n,o,px)}var H8=Og(function(n,o,h){null!=o&&"function"!=typeof o.toString&&(o=wc.call(o)),n[o]=h},Sf(mi)),$8=Og(function(n,o,h){null!=o&&"function"!=typeof o.toString&&(o=wc.call(o)),Bt.call(n,o)?n[o].push(h):n[o]=[h]},qe),V8=nt(mu);function In(n){return pi(n)?W0(n):Gh(n)}function gi(n){return pi(n)?W0(n,!0):function Ex(n){if(!Sr(n))return function o5(n){var o=[];if(null!=n)for(var h in ar(n))o.push(h);return o}(n);var o=bu(n),h=[];for(var p in n)"constructor"==p&&(o||!Bt.call(n,p))||h.push(p);return h}(n)}var W8=Ia(function(n,o,h){Fc(n,o,h)}),w1=Ia(function(n,o,h,p){Fc(n,o,h,p)}),Q8=Xs(function(n,o){var h={};if(null==n)return h;var p=!1;o=Ar(o,function(M){return M=bo(M,n),p||(p=M.length>1),M}),Rs(n,cf(n),h),p&&(h=ji(h,7,Hx));for(var b=o.length;b--;)ef(h,o[b]);return h}),X8=Xs(function(n,o){return null==n?{}:function Sx(n,o){return dg(n,o,function(h,p){return Ef(n,p)})}(n,o)});function A1(n,o){if(null==n)return{};var h=Ar(cf(n),function(p){return[p]});return o=qe(o),dg(n,h,function(p,b){return o(p,b[0])})}var x1=Fg(In),E1=Fg(gi);function Ra(n){return null==n?[]:Fh(n,In(n))}var hI=Sa(function(n,o,h){return o=o.toLowerCase(),n+(h?I1(o):o)});function I1(n){return If(St(n).toLowerCase())}function S1(n){return(n=St(n))&&n.replace(Ms,tA).replace(O3,"")}var gI=Sa(function(n,o,h){return n+(h?"-":"")+o.toLowerCase()}),mI=Sa(function(n,o,h){return n+(h?" ":"")+o.toLowerCase()}),vI=Rg("toLowerCase"),EI=Sa(function(n,o,h){return n+(h?"_":"")+o.toLowerCase()}),SI=Sa(function(n,o,h){return n+(h?" ":"")+If(o)}),BI=Sa(function(n,o,h){return n+(h?" ":"")+o.toUpperCase()}),If=Rg("toUpperCase");function M1(n,o,h){return n=St(n),(o=h?t:o)===t?function sA(z){return F3.test(z)}(n)?function dA(z){return z.match(T3)||[]}(n):function W3(z){return z.match(ir)||[]}(n):n.match(o)||[]}var P1=nt(function(n,o){try{return Ei(n,t,o)}catch(h){return wf(h)?h:new $e(h)}}),qI=Xs(function(n,o){return qi(o,function(h){h=Cs(h),Qs(n,h,_f(n[h],n))}),n});function Sf(n){return function(){return n}}var zI=Ng(),LI=Ng(!0);function mi(n){return n}function Mf(n){return ag("function"==typeof n?n:ji(n,1))}var HI=nt(function(n,o){return function(h){return mu(h,n,o)}}),$I=nt(function(n,o){return function(h){return mu(n,h,o)}});function Pf(n,o,h){var p=In(o),b=Dc(o,p);null==h&&(!Sr(o)||!b.length&&p.length)&&(h=o,o=n,n=this,b=Dc(o,In(o)));var M=!(Sr(h)&&"chain"in h&&!h.chain),D=to(n);return qi(b,function(q){var L=o[q];n[q]=L,D&&(n.prototype[q]=function(){var ne=this.__chain__;if(M||ne){var ie=n(this.__wrapped__);return(ie.__actions__=di(this.__actions__)).push({func:L,args:arguments,thisArg:n}),ie.__chain__=ne,ie}return L.apply(n,go([this.value()],arguments))})}),n}function Rf(){}var JI=of(Ar),WI=of(O0),QI=of(Ch);function R1(n){return df(n)?Nh(Cs(n)):function Mx(n){return function(o){return Zo(o,n)}}(n)}var XI=Tg(),e4=Tg(!0);function Cf(){return[]}function Nf(){return!1}var a4=jc(function(n,o){return n+o},0),u4=af("ceil"),c4=jc(function(n,o){return n/o},1),l4=af("floor"),v4=jc(function(n,o){return n*o},1),y4=af("round"),_4=jc(function(n,o){return n-o},0);return E.after=function ZE(n,o){if("function"!=typeof o)throw new ki(l);return n=Xe(n),function(){if(--n<1)return o.apply(this,arguments)}},E.ary=o1,E.assign=C8,E.assignIn=b1,E.assignInWith=Xc,E.assignWith=N8,E.at=O8,E.before=a1,E.bind=_f,E.bindAll=qI,E.bindKey=u1,E.castArray=function t8(){if(!arguments.length)return[];var n=arguments[0];return Je(n)?n:[n]},E.chain=n1,E.chunk=function l5(n,o,h){o=(h?ti(n,o,h):o===t)?1:gn(Xe(o),0);var p=null==n?0:n.length;if(!p||o<1)return[];for(var b=0,M=0,D=V(Mc(p/o));b<p;)D[M++]=zi(n,b,b+=o);return D},E.compact=function h5(n){for(var o=-1,h=null==n?0:n.length,p=0,b=[];++o<h;){var M=n[o];M&&(b[p++]=M)}return b},E.concat=function f5(){var n=arguments.length;if(!n)return[];for(var o=V(n-1),h=arguments[0],p=n;p--;)o[p-1]=arguments[p];return go(Je(h)?di(h):[h],Bn(o,1))},E.cond=function kI(n){var o=null==n?0:n.length,h=qe();return n=o?Ar(n,function(p){if("function"!=typeof p[1])throw new ki(l);return[h(p[0]),p[1]]}):[],nt(function(p){for(var b=-1;++b<o;){var M=n[b];if(Ei(M[0],this,p))return Ei(M[1],this,p)}})},E.conforms=function UI(n){return function lx(n){var o=In(n);return function(h){return X0(h,n,o)}}(ji(n,1))},E.constant=Sf,E.countBy=bE,E.create=function T8(n,o){var h=Ea(n);return null==o?h:Y0(h,o)},E.curry=function c1(n,o,h){var p=Ys(n,8,t,t,t,t,t,o=h?t:o);return p.placeholder=c1.placeholder,p},E.curryRight=function l1(n,o,h){var p=Ys(n,16,t,t,t,t,t,o=h?t:o);return p.placeholder=l1.placeholder,p},E.debounce=h1,E.defaults=D8,E.defaultsDeep=F8,E.defer=KE,E.delay=HE,E.difference=d5,E.differenceBy=p5,E.differenceWith=g5,E.drop=function m5(n,o,h){var p=null==n?0:n.length;return p?zi(n,(o=h||o===t?1:Xe(o))<0?0:o,p):[]},E.dropRight=function v5(n,o,h){var p=null==n?0:n.length;return p?zi(n,0,(o=p-(o=h||o===t?1:Xe(o)))<0?0:o):[]},E.dropRightWhile=function y5(n,o){return n&&n.length?qc(n,qe(o,3),!0,!0):[]},E.dropWhile=function _5(n,o){return n&&n.length?qc(n,qe(o,3),!0):[]},E.fill=function b5(n,o,h,p){var b=null==n?0:n.length;return b?(h&&"number"!=typeof h&&ti(n,o,h)&&(h=0,p=b),function fx(n,o,h,p){var b=n.length;for((h=Xe(h))<0&&(h=-h>b?0:b+h),(p=p===t||p>b?b:Xe(p))<0&&(p+=b),p=h>p?0:y1(p);h<p;)n[h++]=o;return n}(n,o,h,p)):[]},E.filter=function AE(n,o){return(Je(n)?po:rg)(n,qe(o,3))},E.flatMap=function IE(n,o){return Bn(Vc(n,o),1)},E.flatMapDeep=function SE(n,o){return Bn(Vc(n,o),T)},E.flatMapDepth=function ME(n,o,h){return h=h===t?1:Xe(h),Bn(Vc(n,o),h)},E.flatten=Xg,E.flattenDeep=function w5(n){return null!=n&&n.length?Bn(n,T):[]},E.flattenDepth=function A5(n,o){return null!=n&&n.length?Bn(n,o=o===t?1:Xe(o)):[]},E.flip=function $E(n){return Ys(n,512)},E.flow=zI,E.flowRight=LI,E.fromPairs=function x5(n){for(var o=-1,h=null==n?0:n.length,p={};++o<h;){var b=n[o];p[b[0]]=b[1]}return p},E.functions=function L8(n){return null==n?[]:Dc(n,In(n))},E.functionsIn=function Z8(n){return null==n?[]:Dc(n,gi(n))},E.groupBy=PE,E.initial=function I5(n){return null!=n&&n.length?zi(n,0,-1):[]},E.intersection=S5,E.intersectionBy=M5,E.intersectionWith=P5,E.invert=H8,E.invertBy=$8,E.invokeMap=CE,E.iteratee=Mf,E.keyBy=NE,E.keys=In,E.keysIn=gi,E.map=Vc,E.mapKeys=function G8(n,o){var h={};return o=qe(o,3),Ps(n,function(p,b,M){Qs(h,o(p,b,M),p)}),h},E.mapValues=function J8(n,o){var h={};return o=qe(o,3),Ps(n,function(p,b,M){Qs(h,b,o(p,b,M))}),h},E.matches=function ZI(n){return cg(ji(n,1))},E.matchesProperty=function KI(n,o){return lg(n,ji(o,1))},E.memoize=Jc,E.merge=W8,E.mergeWith=w1,E.method=HI,E.methodOf=$I,E.mixin=Pf,E.negate=Wc,E.nthArg=function GI(n){return n=Xe(n),nt(function(o){return hg(o,n)})},E.omit=Q8,E.omitBy=function Y8(n,o){return A1(n,Wc(qe(o)))},E.once=function VE(n){return a1(2,n)},E.orderBy=function OE(n,o,h,p){return null==n?[]:(Je(o)||(o=null==o?[]:[o]),Je(h=p?t:h)||(h=null==h?[]:[h]),fg(n,o,h))},E.over=JI,E.overArgs=GE,E.overEvery=WI,E.overSome=QI,E.partial=bf,E.partialRight=f1,E.partition=TE,E.pick=X8,E.pickBy=A1,E.property=R1,E.propertyOf=function YI(n){return function(o){return null==n?t:Zo(n,o)}},E.pull=O5,E.pullAll=t1,E.pullAllBy=function T5(n,o,h){return n&&n.length&&o&&o.length?Wh(n,o,qe(h,2)):n},E.pullAllWith=function D5(n,o,h){return n&&n.length&&o&&o.length?Wh(n,o,t,h):n},E.pullAt=F5,E.range=XI,E.rangeRight=e4,E.rearg=JE,E.reject=function BE(n,o){return(Je(n)?po:rg)(n,Wc(qe(o,3)))},E.remove=function B5(n,o){var h=[];if(!n||!n.length)return h;var p=-1,b=[],M=n.length;for(o=qe(o,3);++p<M;){var D=n[p];o(D,p,n)&&(h.push(D),b.push(p))}return pg(n,b),h},E.rest=function WE(n,o){if("function"!=typeof n)throw new ki(l);return nt(n,o=o===t?o:Xe(o))},E.reverse=vf,E.sampleSize=function kE(n,o,h){return o=(h?ti(n,o,h):o===t)?1:Xe(o),(Je(n)?ox:Cx)(n,o)},E.set=function tI(n,o,h){return null==n?n:yu(n,o,h)},E.setWith=function rI(n,o,h,p){return p="function"==typeof p?p:t,null==n?n:yu(n,o,h,p)},E.shuffle=function UE(n){return(Je(n)?ax:Ox)(n)},E.slice=function q5(n,o,h){var p=null==n?0:n.length;return p?(h&&"number"!=typeof h&&ti(n,o,h)?(o=0,h=p):(o=null==o?0:Xe(o),h=h===t?p:Xe(h)),zi(n,o,h)):[]},E.sortBy=LE,E.sortedUniq=function K5(n){return n&&n.length?mg(n):[]},E.sortedUniqBy=function H5(n,o){return n&&n.length?mg(n,qe(o,2)):[]},E.split=function II(n,o,h){return h&&"number"!=typeof h&&ti(n,o,h)&&(o=h=t),(h=h===t?m:h>>>0)?(n=St(n))&&("string"==typeof o||null!=o&&!Af(o))&&!(o=Si(o))&&ya(n)?wo(Xi(n),0,h):n.split(o,h):[]},E.spread=function QE(n,o){if("function"!=typeof n)throw new ki(l);return o=null==o?0:gn(Xe(o),0),nt(function(h){var p=h[o],b=wo(h,0,o);return p&&go(b,p),Ei(n,this,b)})},E.tail=function $5(n){var o=null==n?0:n.length;return o?zi(n,1,o):[]},E.take=function V5(n,o,h){return n&&n.length?zi(n,0,(o=h||o===t?1:Xe(o))<0?0:o):[]},E.takeRight=function G5(n,o,h){var p=null==n?0:n.length;return p?zi(n,(o=p-(o=h||o===t?1:Xe(o)))<0?0:o,p):[]},E.takeRightWhile=function J5(n,o){return n&&n.length?qc(n,qe(o,3),!1,!0):[]},E.takeWhile=function W5(n,o){return n&&n.length?qc(n,qe(o,3)):[]},E.tap=function hE(n,o){return o(n),n},E.throttle=function YE(n,o,h){var p=!0,b=!0;if("function"!=typeof n)throw new ki(l);return Sr(h)&&(p="leading"in h?!!h.leading:p,b="trailing"in h?!!h.trailing:b),h1(n,o,{leading:p,maxWait:o,trailing:b})},E.thru=$c,E.toArray=v1,E.toPairs=x1,E.toPairsIn=E1,E.toPath=function s4(n){return Je(n)?Ar(n,Cs):Mi(n)?[n]:di(Jg(St(n)))},E.toPlainObject=_1,E.transform=function nI(n,o,h){var p=Je(n),b=p||Ao(n)||Pa(n);if(o=qe(o,4),null==h){var M=n&&n.constructor;h=b?p?new M:[]:Sr(n)&&to(M)?Ea(Ec(n)):{}}return(b?qi:Ps)(n,function(D,q,L){return o(h,D,q,L)}),h},E.unary=function XE(n){return o1(n,1)},E.union=Q5,E.unionBy=Y5,E.unionWith=X5,E.uniq=function eE(n){return n&&n.length?_o(n):[]},E.uniqBy=function tE(n,o){return n&&n.length?_o(n,qe(o,2)):[]},E.uniqWith=function rE(n,o){return o="function"==typeof o?o:t,n&&n.length?_o(n,t,o):[]},E.unset=function iI(n,o){return null==n||ef(n,o)},E.unzip=yf,E.unzipWith=r1,E.update=function sI(n,o,h){return null==n?n:yg(n,o,nf(h))},E.updateWith=function oI(n,o,h,p){return p="function"==typeof p?p:t,null==n?n:yg(n,o,nf(h),p)},E.values=Ra,E.valuesIn=function aI(n){return null==n?[]:Fh(n,gi(n))},E.without=nE,E.words=M1,E.wrap=function e8(n,o){return bf(nf(o),n)},E.xor=iE,E.xorBy=sE,E.xorWith=oE,E.zip=aE,E.zipObject=function uE(n,o){return bg(n||[],o||[],pu)},E.zipObjectDeep=function cE(n,o){return bg(n||[],o||[],yu)},E.zipWith=lE,E.entries=x1,E.entriesIn=E1,E.extend=b1,E.extendWith=Xc,Pf(E,E),E.add=a4,E.attempt=P1,E.camelCase=hI,E.capitalize=I1,E.ceil=u4,E.clamp=function uI(n,o,h){return h===t&&(h=o,o=t),h!==t&&(h=(h=Zi(h))==h?h:0),o!==t&&(o=(o=Zi(o))==o?o:0),Lo(Zi(n),o,h)},E.clone=function r8(n){return ji(n,4)},E.cloneDeep=function i8(n){return ji(n,5)},E.cloneDeepWith=function s8(n,o){return ji(n,5,o="function"==typeof o?o:t)},E.cloneWith=function n8(n,o){return ji(n,4,o="function"==typeof o?o:t)},E.conformsTo=function o8(n,o){return null==o||X0(n,o,In(o))},E.deburr=S1,E.defaultTo=function jI(n,o){return null==n||n!=n?o:n},E.divide=c4,E.endsWith=function fI(n,o,h){n=St(n),o=Si(o);var p=n.length,b=h=h===t?p:Lo(Xe(h),0,p);return(h-=o.length)>=0&&n.slice(h,b)==o},E.eq=ts,E.escape=function dI(n){return(n=St(n))&&Qt.test(n)?n.replace(ws,rA):n},E.escapeRegExp=function pI(n){return(n=St(n))&&tr.test(n)?n.replace(Yi,"\\$&"):n},E.every=function wE(n,o,h){var p=Je(n)?O0:hx;return h&&ti(n,o,h)&&(o=t),p(n,qe(o,3))},E.find=xE,E.findIndex=Qg,E.findKey=function B8(n,o){return T0(n,qe(o,3),Ps)},E.findLast=EE,E.findLastIndex=Yg,E.findLastKey=function q8(n,o){return T0(n,qe(o,3),Kh)},E.floor=l4,E.forEach=i1,E.forEachRight=s1,E.forIn=function k8(n,o){return null==n?n:Zh(n,qe(o,3),gi)},E.forInRight=function U8(n,o){return null==n?n:ng(n,qe(o,3),gi)},E.forOwn=function j8(n,o){return n&&Ps(n,qe(o,3))},E.forOwnRight=function z8(n,o){return n&&Kh(n,qe(o,3))},E.get=xf,E.gt=a8,E.gte=u8,E.has=function K8(n,o){return null!=n&&jg(n,o,dx)},E.hasIn=Ef,E.head=e1,E.identity=mi,E.includes=function RE(n,o,h,p){n=pi(n)?n:Ra(n),h=h&&!p?Xe(h):0;var b=n.length;return h<0&&(h=gn(b+h,0)),Yc(n)?h<=b&&n.indexOf(o,h)>-1:!!b&&va(n,o,h)>-1},E.indexOf=function E5(n,o,h){var p=null==n?0:n.length;if(!p)return-1;var b=null==h?0:Xe(h);return b<0&&(b=gn(p+b,0)),va(n,o,b)},E.inRange=function cI(n,o,h){return o=ro(o),h===t?(h=o,o=0):h=ro(h),function gx(n,o,h){return n>=Zn(o,h)&&n<gn(o,h)}(n=Zi(n),o,h)},E.invoke=V8,E.isArguments=$o,E.isArray=Je,E.isArrayBuffer=c8,E.isArrayLike=pi,E.isArrayLikeObject=Kr,E.isBoolean=function l8(n){return!0===n||!1===n||qr(n)&&ei(n)==re},E.isBuffer=Ao,E.isDate=h8,E.isElement=function f8(n){return qr(n)&&1===n.nodeType&&!Au(n)},E.isEmpty=function d8(n){if(null==n)return!0;if(pi(n)&&(Je(n)||"string"==typeof n||"function"==typeof n.splice||Ao(n)||Pa(n)||$o(n)))return!n.length;var o=Kn(n);if(o==fe||o==dn)return!n.size;if(bu(n))return!Gh(n).length;for(var h in n)if(Bt.call(n,h))return!1;return!0},E.isEqual=function p8(n,o){return vu(n,o)},E.isEqualWith=function g8(n,o,h){var p=(h="function"==typeof h?h:t)?h(n,o):t;return p===t?vu(n,o,t,h):!!p},E.isError=wf,E.isFinite=function m8(n){return"number"==typeof n&&V0(n)},E.isFunction=to,E.isInteger=d1,E.isLength=Qc,E.isMap=p1,E.isMatch=function v8(n,o){return n===o||Vh(n,o,hf(o))},E.isMatchWith=function y8(n,o,h){return h="function"==typeof h?h:t,Vh(n,o,hf(o),h)},E.isNaN=function _8(n){return g1(n)&&n!=+n},E.isNative=function b8(n){if(n5(n))throw new $e("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return og(n)},E.isNil=function A8(n){return null==n},E.isNull=function w8(n){return null===n},E.isNumber=g1,E.isObject=Sr,E.isObjectLike=qr,E.isPlainObject=Au,E.isRegExp=Af,E.isSafeInteger=function x8(n){return d1(n)&&n>=-k&&n<=k},E.isSet=m1,E.isString=Yc,E.isSymbol=Mi,E.isTypedArray=Pa,E.isUndefined=function E8(n){return n===t},E.isWeakMap=function I8(n){return qr(n)&&Kn(n)==At},E.isWeakSet=function S8(n){return qr(n)&&"[object WeakSet]"==ei(n)},E.join=function R5(n,o){return null==n?"":IA.call(n,o)},E.kebabCase=gI,E.last=Li,E.lastIndexOf=function C5(n,o,h){var p=null==n?0:n.length;if(!p)return-1;var b=p;return h!==t&&(b=(b=Xe(h))<0?gn(p+b,0):Zn(b,p-1)),o==o?function cA(z,Y,V){for(var Ee=V+1;Ee--;)if(z[Ee]===Y)return Ee;return Ee}(n,o,b):mc(n,D0,b,!0)},E.lowerCase=mI,E.lowerFirst=vI,E.lt=M8,E.lte=P8,E.max=function h4(n){return n&&n.length?Tc(n,mi,Hh):t},E.maxBy=function f4(n,o){return n&&n.length?Tc(n,qe(o,2),Hh):t},E.mean=function d4(n){return F0(n,mi)},E.meanBy=function p4(n,o){return F0(n,qe(o,2))},E.min=function g4(n){return n&&n.length?Tc(n,mi,Jh):t},E.minBy=function m4(n,o){return n&&n.length?Tc(n,qe(o,2),Jh):t},E.stubArray=Cf,E.stubFalse=Nf,E.stubObject=function t4(){return{}},E.stubString=function r4(){return""},E.stubTrue=function n4(){return!0},E.multiply=v4,E.nth=function N5(n,o){return n&&n.length?hg(n,Xe(o)):t},E.noConflict=function VI(){return Fn._===this&&(Fn._=_A),this},E.noop=Rf,E.now=Gc,E.pad=function yI(n,o,h){n=St(n);var p=(o=Xe(o))?_a(n):0;if(!o||p>=o)return n;var b=(o-p)/2;return zc(Pc(b),h)+n+zc(Mc(b),h)},E.padEnd=function _I(n,o,h){n=St(n);var p=(o=Xe(o))?_a(n):0;return o&&p<o?n+zc(o-p,h):n},E.padStart=function bI(n,o,h){n=St(n);var p=(o=Xe(o))?_a(n):0;return o&&p<o?zc(o-p,h)+n:n},E.parseInt=function wI(n,o,h){return h||null==o?o=0:o&&(o=+o),PA(St(n).replace(Ft,""),o||0)},E.random=function lI(n,o,h){if(h&&"boolean"!=typeof h&&ti(n,o,h)&&(o=h=t),h===t&&("boolean"==typeof o?(h=o,o=t):"boolean"==typeof n&&(h=n,n=t)),n===t&&o===t?(n=0,o=1):(n=ro(n),o===t?(o=n,n=0):o=ro(o)),n>o){var p=n;n=o,o=p}if(h||n%1||o%1){var b=G0();return Zn(n+b*(o-n+L3("1e-"+((b+"").length-1))),o)}return Qh(n,o)},E.reduce=function DE(n,o,h){var p=Je(n)?Rh:B0,b=arguments.length<3;return p(n,qe(o,4),h,b,yo)},E.reduceRight=function FE(n,o,h){var p=Je(n)?V3:B0,b=arguments.length<3;return p(n,qe(o,4),h,b,tg)},E.repeat=function AI(n,o,h){return o=(h?ti(n,o,h):o===t)?1:Xe(o),Yh(St(n),o)},E.replace=function xI(){var n=arguments,o=St(n[0]);return n.length<3?o:o.replace(n[1],n[2])},E.result=function eI(n,o,h){var p=-1,b=(o=bo(o,n)).length;for(b||(b=1,n=t);++p<b;){var M=null==n?t:n[Cs(o[p])];M===t&&(p=b,M=h),n=to(M)?M.call(n):M}return n},E.round=y4,E.runInContext=z,E.sample=function qE(n){return(Je(n)?Q0:Rx)(n)},E.size=function jE(n){if(null==n)return 0;if(pi(n))return Yc(n)?_a(n):n.length;var o=Kn(n);return o==fe||o==dn?n.size:Gh(n).length},E.snakeCase=EI,E.some=function zE(n,o,h){var p=Je(n)?Ch:Tx;return h&&ti(n,o,h)&&(o=t),p(n,qe(o,3))},E.sortedIndex=function k5(n,o){return Bc(n,o)},E.sortedIndexBy=function U5(n,o,h){return Xh(n,o,qe(h,2))},E.sortedIndexOf=function j5(n,o){var h=null==n?0:n.length;if(h){var p=Bc(n,o);if(p<h&&ts(n[p],o))return p}return-1},E.sortedLastIndex=function z5(n,o){return Bc(n,o,!0)},E.sortedLastIndexBy=function L5(n,o,h){return Xh(n,o,qe(h,2),!0)},E.sortedLastIndexOf=function Z5(n,o){if(null!=n&&n.length){var p=Bc(n,o,!0)-1;if(ts(n[p],o))return p}return-1},E.startCase=SI,E.startsWith=function MI(n,o,h){return n=St(n),h=null==h?0:Lo(Xe(h),0,n.length),o=Si(o),n.slice(h,h+o.length)==o},E.subtract=_4,E.sum=function b4(n){return n&&n.length?Th(n,mi):0},E.sumBy=function w4(n,o){return n&&n.length?Th(n,qe(o,2)):0},E.template=function PI(n,o,h){var p=E.templateSettings;h&&ti(n,o,h)&&(o=t),n=St(n),o=Xc({},o,p,Bg);var q,L,b=Xc({},o.imports,p.imports,Bg),M=In(b),D=Fh(b,M),ne=0,ie=o.interpolate||ho,oe="__p += '",pe=qh((o.escape||ho).source+"|"+ie.source+"|"+(ie===jt?or:ho).source+"|"+(o.evaluate||ho).source+"|$","g"),Re="//# sourceURL="+(Bt.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++q3+"]")+"\n";n.replace(pe,function(ze,ot,ft,Pi,ri,Ri){return ft||(ft=Pi),oe+=n.slice(ne,Ri).replace(eu,nA),ot&&(q=!0,oe+="' +\n__e("+ot+") +\n'"),ri&&(L=!0,oe+="';\n"+ri+";\n__p += '"),ft&&(oe+="' +\n((__t = ("+ft+")) == null ? '' : __t) +\n'"),ne=Ri+ze.length,ze}),oe+="';\n";var je=Bt.call(o,"variable")&&o.variable;if(je){if(sr.test(je))throw new $e("Invalid `variable` option passed into `_.template`")}else oe="with (obj) {\n"+oe+"\n}\n";oe=(L?oe.replace(Gt,""):oe).replace(Zs,"$1").replace(Jt,"$1;"),oe="function("+(je||"obj")+") {\n"+(je?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(q?", __e = _.escape":"")+(L?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+oe+"return __p\n}";var et=P1(function(){return xt(M,Re+"return "+oe).apply(t,D)});if(et.source=oe,wf(et))throw et;return et},E.times=function i4(n,o){if((n=Xe(n))<1||n>k)return[];var h=m,p=Zn(n,m);o=qe(o),n-=m;for(var b=Dh(p,o);++h<n;)o(h);return b},E.toFinite=ro,E.toInteger=Xe,E.toLength=y1,E.toLower=function RI(n){return St(n).toLowerCase()},E.toNumber=Zi,E.toSafeInteger=function R8(n){return n?Lo(Xe(n),-k,k):0===n?n:0},E.toString=St,E.toUpper=function CI(n){return St(n).toUpperCase()},E.trim=function NI(n,o,h){if((n=St(n))&&(h||o===t))return q0(n);if(!n||!(o=Si(o)))return n;var p=Xi(n),b=Xi(o);return wo(p,k0(p,b),U0(p,b)+1).join("")},E.trimEnd=function OI(n,o,h){if((n=St(n))&&(h||o===t))return n.slice(0,z0(n)+1);if(!n||!(o=Si(o)))return n;var p=Xi(n);return wo(p,0,U0(p,Xi(o))+1).join("")},E.trimStart=function TI(n,o,h){if((n=St(n))&&(h||o===t))return n.replace(Ft,"");if(!n||!(o=Si(o)))return n;var p=Xi(n);return wo(p,k0(p,Xi(o))).join("")},E.truncate=function DI(n,o){var h=30,p="...";if(Sr(o)){var b="separator"in o?o.separator:b;h="length"in o?Xe(o.length):h,p="omission"in o?Si(o.omission):p}var M=(n=St(n)).length;if(ya(n)){var D=Xi(n);M=D.length}if(h>=M)return n;var q=h-_a(p);if(q<1)return p;var L=D?wo(D,0,q).join(""):n.slice(0,q);if(b===t)return L+p;if(D&&(q+=L.length-q),Af(b)){if(n.slice(q).search(b)){var ne,ie=L;for(b.global||(b=qh(b.source,St(zt.exec(b))+"g")),b.lastIndex=0;ne=b.exec(ie);)var oe=ne.index;L=L.slice(0,oe===t?q:oe)}}else if(n.indexOf(Si(b),q)!=q){var pe=L.lastIndexOf(b);pe>-1&&(L=L.slice(0,pe))}return L+p},E.unescape=function FI(n){return(n=St(n))&&Wt.test(n)?n.replace(Ut,lA):n},E.uniqueId=function o4(n){var o=++vA;return St(n)+o},E.upperCase=BI,E.upperFirst=If,E.each=i1,E.eachRight=s1,E.first=e1,Pf(E,function(){var n={};return Ps(E,function(o,h){Bt.call(E.prototype,h)||(n[h]=o)}),n}(),{chain:!1}),E.VERSION="4.17.21",qi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){E[n].placeholder=E}),qi(["drop","take"],function(n,o){ct.prototype[n]=function(h){h=h===t?1:gn(Xe(h),0);var p=this.__filtered__&&!o?new ct(this):this.clone();return p.__filtered__?p.__takeCount__=Zn(h,p.__takeCount__):p.__views__.push({size:Zn(h,m),type:n+(p.__dir__<0?"Right":"")}),p},ct.prototype[n+"Right"]=function(h){return this.reverse()[n](h).reverse()}}),qi(["filter","map","takeWhile"],function(n,o){var h=o+1,p=1==h||3==h;ct.prototype[n]=function(b){var M=this.clone();return M.__iteratees__.push({iteratee:qe(b,3),type:h}),M.__filtered__=M.__filtered__||p,M}}),qi(["head","last"],function(n,o){var h="take"+(o?"Right":"");ct.prototype[n]=function(){return this[h](1).value()[0]}}),qi(["initial","tail"],function(n,o){var h="drop"+(o?"":"Right");ct.prototype[n]=function(){return this.__filtered__?new ct(this):this[h](1)}}),ct.prototype.compact=function(){return this.filter(mi)},ct.prototype.find=function(n){return this.filter(n).head()},ct.prototype.findLast=function(n){return this.reverse().find(n)},ct.prototype.invokeMap=nt(function(n,o){return"function"==typeof n?new ct(this):this.map(function(h){return mu(h,n,o)})}),ct.prototype.reject=function(n){return this.filter(Wc(qe(n)))},ct.prototype.slice=function(n,o){n=Xe(n);var h=this;return h.__filtered__&&(n>0||o<0)?new ct(h):(n<0?h=h.takeRight(-n):n&&(h=h.drop(n)),o!==t&&(h=(o=Xe(o))<0?h.dropRight(-o):h.take(o-n)),h)},ct.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},ct.prototype.toArray=function(){return this.take(m)},Ps(ct.prototype,function(n,o){var h=/^(?:filter|find|map|reject)|While$/.test(o),p=/^(?:head|last)$/.test(o),b=E[p?"take"+("last"==o?"Right":""):o],M=p||/^find/.test(o);b&&(E.prototype[o]=function(){var D=this.__wrapped__,q=p?[1]:arguments,L=D instanceof ct,ne=q[0],ie=L||Je(D),oe=function(ot){var ft=b.apply(E,go([ot],q));return p&&pe?ft[0]:ft};ie&&h&&"function"==typeof ne&&1!=ne.length&&(L=ie=!1);var pe=this.__chain__,je=M&&!pe,et=L&&!this.__actions__.length;if(!M&&ie){D=et?D:new ct(this);var ze=n.apply(D,q);return ze.__actions__.push({func:$c,args:[oe],thisArg:t}),new Ui(ze,pe)}return je&&et?n.apply(this,q):(ze=this.thru(oe),je?p?ze.value()[0]:ze.value():ze)})}),qi(["pop","push","shift","sort","splice","unshift"],function(n){var o=yc[n],h=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",p=/^(?:pop|shift)$/.test(n);E.prototype[n]=function(){var b=arguments;if(p&&!this.__chain__){var M=this.value();return o.apply(Je(M)?M:[],b)}return this[h](function(D){return o.apply(Je(D)?D:[],b)})}}),Ps(ct.prototype,function(n,o){var h=E[o];if(h){var p=h.name+"";Bt.call(xa,p)||(xa[p]=[]),xa[p].push({name:o,func:h})}}),xa[Uc(t,2).name]=[{name:"wrapper",func:t}],ct.prototype.clone=function FA(){var n=new ct(this.__wrapped__);return n.__actions__=di(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=di(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=di(this.__views__),n},ct.prototype.reverse=function BA(){if(this.__filtered__){var n=new ct(this);n.__dir__=-1,n.__filtered__=!0}else(n=this.clone()).__dir__*=-1;return n},ct.prototype.value=function qA(){var n=this.__wrapped__.value(),o=this.__dir__,h=Je(n),p=o<0,b=h?n.length:0,M=function Jx(n,o,h){for(var p=-1,b=h.length;++p<b;){var M=h[p],D=M.size;switch(M.type){case"drop":n+=D;break;case"dropRight":o-=D;break;case"take":o=Zn(o,n+D);break;case"takeRight":n=gn(n,o-D)}}return{start:n,end:o}}(0,b,this.__views__),D=M.start,q=M.end,L=q-D,ne=p?q:D-1,ie=this.__iteratees__,oe=ie.length,pe=0,Re=Zn(L,this.__takeCount__);if(!h||!p&&b==L&&Re==L)return _g(n,this.__actions__);var je=[];e:for(;L--&&pe<Re;){for(var et=-1,ze=n[ne+=o];++et<oe;){var ot=ie[et],Pi=ot.type,ri=(0,ot.iteratee)(ze);if(2==Pi)ze=ri;else if(!ri){if(1==Pi)continue e;break e}}je[pe++]=ze}return je},E.prototype.at=fE,E.prototype.chain=function dE(){return n1(this)},E.prototype.commit=function pE(){return new Ui(this.value(),this.__chain__)},E.prototype.next=function gE(){this.__values__===t&&(this.__values__=v1(this.value()));var n=this.__index__>=this.__values__.length;return{done:n,value:n?t:this.__values__[this.__index__++]}},E.prototype.plant=function vE(n){for(var o,h=this;h instanceof Nc;){var p=Wg(h);p.__index__=0,p.__values__=t,o?b.__wrapped__=p:o=p;var b=p;h=h.__wrapped__}return b.__wrapped__=n,o},E.prototype.reverse=function yE(){var n=this.__wrapped__;if(n instanceof ct){var o=n;return this.__actions__.length&&(o=new ct(this)),(o=o.reverse()).__actions__.push({func:$c,args:[vf],thisArg:t}),new Ui(o,this.__chain__)}return this.thru(vf)},E.prototype.toJSON=E.prototype.valueOf=E.prototype.value=function _E(){return _g(this.__wrapped__,this.__actions__)},E.prototype.first=E.prototype.head,cu&&(E.prototype[cu]=function mE(){return this}),E}();ko?((ko.exports=ba)._=ba,Sh._=ba):Fn._=ba}).call(Xa)}(ph,ph.exports);var q6=Object.defineProperty,k6=Object.defineProperties,U6=Object.getOwnPropertyDescriptors,Vp=Object.getOwnPropertySymbols,j6=Object.prototype.hasOwnProperty,z6=Object.prototype.propertyIsEnumerable,Gp=(r,e,t)=>e in r?q6(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ac=(r,e)=>{for(var t in e||(e={}))j6.call(e,t)&&Gp(r,t,e[t]);if(Vp)for(var t of Vp(e))z6.call(e,t)&&Gp(r,t,e[t]);return r},L6=(r,e)=>k6(r,U6(e));function zs(r,e,t){var s;const a=G(r);return(null==(s=e.rpcMap)?void 0:s[a.reference])||`https://rpc.walletconnect.com/v1/?chainId=${a.namespace}:${a.reference}&projectId=${t}`}function qo(r){return r.includes(":")?r.split(":")[1]:r}function Jp(r){return r.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function gh(r={},e={}){const t=Wp(r),s=Wp(e);return ph.exports.merge(t,s)}function Wp(r){var e,t,s,a;const u={};if(!ua(r))return u;for(const[l,d]of Object.entries(r)){const y=Qu(l)?[l]:d.chains,g=d.methods||[],w=d.events||[],I=d.rpcMap||{},O=aa(l);u[O]=L6(ac(ac({},u[O]),d),{chains:_i(y,null==(e=u[O])?void 0:e.chains),methods:_i(g,null==(t=u[O])?void 0:t.methods),events:_i(w,null==(s=u[O])?void 0:s.events),rpcMap:ac(ac({},I),null==(a=u[O])?void 0:a.rpcMap)})}return u}function K6(r){return r.includes(":")?r.split(":")[2]:r}function Qp(r){const e={};for(const[t,s]of Object.entries(r)){const a=s.methods||[],u=s.events||[],l=s.accounts||[],d=Qu(t)?[t]:s.chains?s.chains:Jp(s.accounts);e[t]={chains:d,methods:a,events:u,accounts:l}}return e}function mh(r){return"number"==typeof r?r:r.includes("0x")?parseInt(r,16):(r=r.includes(":")?r.split(":")[1]:r,isNaN(Number(r))?r:Number(r))}const Yp={},Kt=r=>Yp[r],vh=(r,e)=>{Yp[r]=e};class H6{constructor(e){this.name="polkadot",this.namespace=e.namespace,this.events=Kt("events"),this.client=Kt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit("default_chain_changed",`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e&&e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var s;const a=qo(t);e[a]=this.createHttpProvider(a,null==(s=this.namespace.rpcMap)?void 0:s[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const s=this.createHttpProvider(e,t);s&&(this.httpProviders[e]=s)}createHttpProvider(e,t){const s=t||zs(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new ms.r(new js.Z(s,Kt("disableProviderPing")))}}var $6=Object.defineProperty,V6=Object.defineProperties,G6=Object.getOwnPropertyDescriptors,Xp=Object.getOwnPropertySymbols,J6=Object.prototype.hasOwnProperty,W6=Object.prototype.propertyIsEnumerable,e0=(r,e,t)=>e in r?$6(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,t0=(r,e)=>{for(var t in e||(e={}))J6.call(e,t)&&e0(r,t,e[t]);if(Xp)for(var t of Xp(e))W6.call(e,t)&&e0(r,t,e[t]);return r},r0=(r,e)=>V6(r,G6(e));class Q6{constructor(e){this.name="eip155",this.namespace=e.namespace,this.events=Kt("events"),this.client=Kt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}request(e){var t=this;return(0,S.Z)(function*(){switch(e.request.method){case"eth_requestAccounts":case"eth_accounts":return t.getAccounts();case"wallet_switchEthereumChain":return yield t.handleSwitchChain(e);case"eth_chainId":return parseInt(t.getDefaultChain());case"wallet_getCapabilities":return yield t.getCapabilities(e)}return t.namespace.methods.includes(e.request.method)?yield t.client.request(e):t.getHttpProvider().request(e.request)})()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit("default_chain_changed",`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){const s=t||zs(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new ms.r(new js.k(s,Kt("disableProviderPing")))}setHttpProvider(e,t){const s=this.createHttpProvider(e,t);s&&(this.httpProviders[e]=s)}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var s;const a=parseInt(qo(t));e[a]=this.createHttpProvider(a,null==(s=this.namespace.rpcMap)?void 0:s[t])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}handleSwitchChain(e){var t=this;return(0,S.Z)(function*(){var s,a;let u=e.request.params?null==(s=e.request.params[0])?void 0:s.chainId:"0x0";u=u.startsWith("0x")?u:`0x${u}`;const l=parseInt(u,16);if(t.isChainApproved(l))t.setDefaultChain(`${l}`);else{if(!t.namespace.methods.includes("wallet_switchEthereumChain"))throw new Error(`Failed to switch to chain 'eip155:${l}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);yield t.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:u}]},chainId:null==(a=t.namespace.chains)?void 0:a[0]}),t.setDefaultChain(`${l}`)}return null})()}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}getCapabilities(e){var t=this;return(0,S.Z)(function*(){var s,a,u;const l=null==(a=null==(s=e.request)?void 0:s.params)?void 0:a[0];if(!l)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const d=t.client.session.get(e.topic),y=(null==(u=d?.sessionProperties)?void 0:u.capabilities)||{};if(null!=y&&y[l])return y?.[l];const g=yield t.client.request(e);try{yield t.client.session.update(e.topic,{sessionProperties:r0(t0({},d.sessionProperties||{}),{capabilities:r0(t0({},y||{}),{[l]:g})})})}catch(w){console.warn("Failed to update session with capabilities",w)}return g})()}}class Y6{constructor(e){this.name="solana",this.namespace=e.namespace,this.events=Kt("events"),this.client=Kt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit("default_chain_changed",`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var s;const a=qo(t);e[a]=this.createHttpProvider(a,null==(s=this.namespace.rpcMap)?void 0:s[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const s=this.createHttpProvider(e,t);s&&(this.httpProviders[e]=s)}createHttpProvider(e,t){const s=t||zs(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new ms.r(new js.Z(s,Kt("disableProviderPing")))}}class X6{constructor(e){this.name="cosmos",this.namespace=e.namespace,this.events=Kt("events"),this.client=Kt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var s;const a=qo(t);e[a]=this.createHttpProvider(a,null==(s=this.namespace.rpcMap)?void 0:s[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const s=this.createHttpProvider(e,t);s&&(this.httpProviders[e]=s)}createHttpProvider(e,t){const s=t||zs(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new ms.r(new js.Z(s,Kt("disableProviderPing")))}}class e3{constructor(e){this.name="cip34",this.namespace=e.namespace,this.events=Kt("events"),this.client=Kt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{const s=this.getCardanoRPCUrl(t),a=qo(t);e[a]=this.createHttpProvider(a,s)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){const t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){const s=this.createHttpProvider(e,t);s&&(this.httpProviders[e]=s)}createHttpProvider(e,t){const s=t||this.getCardanoRPCUrl(e);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new ms.r(new js.Z(s,Kt("disableProviderPing")))}}class t3{constructor(e){this.name="elrond",this.namespace=e.namespace,this.events=Kt("events"),this.client=Kt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit("default_chain_changed",`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var s;const a=qo(t);e[a]=this.createHttpProvider(a,null==(s=this.namespace.rpcMap)?void 0:s[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const s=this.createHttpProvider(e,t);s&&(this.httpProviders[e]=s)}createHttpProvider(e,t){const s=t||zs(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new ms.r(new js.Z(s,Kt("disableProviderPing")))}}class r3{constructor(e){this.name="multiversx",this.namespace=e.namespace,this.events=Kt("events"),this.client=Kt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit("default_chain_changed",`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var s;const a=qo(t);e[a]=this.createHttpProvider(a,null==(s=this.namespace.rpcMap)?void 0:s[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const s=this.createHttpProvider(e,t);s&&(this.httpProviders[e]=s)}createHttpProvider(e,t){const s=t||zs(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new ms.r(new js.Z(s,Kt("disableProviderPing")))}}class n3{constructor(e){this.name="near",this.namespace=e.namespace,this.events=Kt("events"),this.client=Kt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const s=t||zs(`${this.name}:${e}`,this.namespace);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,s)}this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e&&e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var s;e[t]=this.createHttpProvider(t,null==(s=this.namespace.rpcMap)?void 0:s[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const s=this.createHttpProvider(e,t);s&&(this.httpProviders[e]=s)}createHttpProvider(e,t){const s=t||zs(e,this.namespace);return typeof s>"u"?void 0:new ms.r(new js.Z(s,Kt("disableProviderPing")))}}class i3{constructor(e){this.name=ha,this.namespace=e.namespace,this.events=Kt("events"),this.client=Kt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit("default_chain_changed",`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){var e,t;const s={};return null==(t=null==(e=this.namespace)?void 0:e.accounts)||t.forEach(a=>{const u=G(a);s[`${u.namespace}:${u.reference}`]=this.createHttpProvider(a)}),s}getHttpProvider(e){const t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const s=this.createHttpProvider(e,t);s&&(this.httpProviders[e]=s)}createHttpProvider(e,t){const s=t||zs(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new ms.r(new js.Z(s,Kt("disableProviderPing")))}}var s3=Object.defineProperty,o3=Object.defineProperties,a3=Object.getOwnPropertyDescriptors,n0=Object.getOwnPropertySymbols,u3=Object.prototype.hasOwnProperty,c3=Object.prototype.propertyIsEnumerable,i0=(r,e,t)=>e in r?s3(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,uc=(r,e)=>{for(var t in e||(e={}))u3.call(e,t)&&i0(r,t,e[t]);if(n0)for(var t of n0(e))c3.call(e,t)&&i0(r,t,e[t]);return r},yh=(r,e)=>o3(r,a3(e));class _h{constructor(e){this.events=new(pr()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=e,this.logger=typeof e?.logger<"u"&&"string"!=typeof e?.logger?e.logger:(0,lt.gw)((0,lt.jI)({level:e?.logger||"error"})),this.disableProviderPing=e?.disableProviderPing||!1}static init(e){return(0,S.Z)(function*(){const t=new _h(e);return yield t.initialize(),t})()}request(e,t,s){var a=this;return(0,S.Z)(function*(){const[u,l]=a.validateChain(t);if(!a.session)throw new Error("Please call connect() before request()");return yield a.getProvider(u).request({request:uc({},e),chainId:`${u}:${l}`,topic:a.session.topic,expiry:s})})()}sendAsync(e,t,s,a){const u=(new Date).getTime();this.request(e,s,a).then(l=>t(null,(0,De.formatJsonRpcResult)(u,l))).catch(l=>t(l,void 0))}enable(){var e=this;return(0,S.Z)(function*(){if(!e.client)throw new Error("Sign Client not initialized");return e.session||(yield e.connect({namespaces:e.namespaces,optionalNamespaces:e.optionalNamespaces,sessionProperties:e.sessionProperties})),yield e.requestAccounts()})()}disconnect(){var e=this;return(0,S.Z)(function*(){var t;if(!e.session)throw new Error("Please call connect() before enable()");yield e.client.disconnect({topic:null==(t=e.session)?void 0:t.topic,reason:Pt("USER_DISCONNECTED")}),yield e.cleanup()})()}connect(e){var t=this;return(0,S.Z)(function*(){if(!t.client)throw new Error("Sign Client not initialized");if(t.setNamespaces(e),yield t.cleanupPendingPairings(),!e.skipPairing)return yield t.pair(e.pairingTopic)})()}authenticate(e){var t=this;return(0,S.Z)(function*(){if(!t.client)throw new Error("Sign Client not initialized");t.setNamespaces(e),yield t.cleanupPendingPairings();const{uri:s,response:a}=yield t.client.authenticate(e);s&&(t.uri=s,t.events.emit("display_uri",s));const u=yield a();if(t.session=u.session,t.session){const l=Qp(t.session.namespaces);t.namespaces=gh(t.namespaces,l),t.persist("namespaces",t.namespaces),t.onConnect()}return u})()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}pair(e){var t=this;return(0,S.Z)(function*(){t.shouldAbortPairingAttempt=!1;let s=0;do{if(t.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(s>=t.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:a,approval:u}=yield t.client.connect({pairingTopic:e,requiredNamespaces:t.namespaces,optionalNamespaces:t.optionalNamespaces,sessionProperties:t.sessionProperties});a&&(t.uri=a,t.events.emit("display_uri",a)),yield u().then(l=>{t.session=l;const d=Qp(l.namespaces);t.namespaces=gh(t.namespaces,d),t.persist("namespaces",t.namespaces)}).catch(l=>{if(l.message!==Lp)throw l;s++})}while(!t.session);return t.onConnect(),t.session})()}setDefaultChain(e,t){try{if(!this.session)return;const[s,a]=this.validateChain(e),u=this.getProvider(s);u.setDefaultChain(u.name===ha?`${s}:${a}`:a,t)}catch(s){if(!/Please call connect/.test(s.message))throw s}}cleanupPendingPairings(e={}){var t=this;return(0,S.Z)(function*(){t.logger.info("Cleaning up inactive pairings...");const s=t.client.pairing.getAll();if(gs(s)){for(const a of s)e.deletePairings?t.client.core.expirer.set(a.topic,0):yield t.client.core.relayer.subscriber.unsubscribe(a.topic);t.logger.info(`Inactive pairings cleared: ${s.length}`)}})()}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}checkStorage(){var e=this;return(0,S.Z)(function*(){e.namespaces=yield e.getFromStore("namespaces"),e.optionalNamespaces=(yield e.getFromStore("optionalNamespaces"))||{},e.client.session.length&&(e.session=e.client.session.get(e.client.session.keys[e.client.session.keys.length-1]),e.createProviders())})()}initialize(){var e=this;return(0,S.Z)(function*(){e.logger.trace("Initialized"),yield e.createClient(),yield e.checkStorage(),e.registerEventListeners()})()}createClient(){var e=this;return(0,S.Z)(function*(){e.client=e.providerOpts.client||(yield dh.init({logger:e.providerOpts.logger||"error",relayUrl:e.providerOpts.relayUrl||"wss://relay.walletconnect.com",projectId:e.providerOpts.projectId,metadata:e.providerOpts.metadata,storageOptions:e.providerOpts.storageOptions,storage:e.providerOpts.storage,name:e.providerOpts.name})),e.logger.trace("SignClient Initialized")})()}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(t=>aa(t)))];vh("client",this.client),vh("events",this.events),vh("disableProviderPing",this.disableProviderPing),e.forEach(t=>{if(!this.session)return;const s=function Z6(r,e){const t=Object.keys(e.namespaces).filter(a=>a.includes(r));if(!t.length)return[];const s=[];return t.forEach(a=>{s.push(...e.namespaces[a].accounts)}),s}(t,this.session),a=Jp(s),u=gh(this.namespaces,this.optionalNamespaces),l=yh(uc({},u[t]),{accounts:s,chains:a});switch(t){case"eip155":this.rpcProviders[t]=new Q6({namespace:l});break;case"solana":this.rpcProviders[t]=new Y6({namespace:l});break;case"cosmos":this.rpcProviders[t]=new X6({namespace:l});break;case"polkadot":this.rpcProviders[t]=new H6({namespace:l});break;case"cip34":this.rpcProviders[t]=new e3({namespace:l});break;case"elrond":this.rpcProviders[t]=new t3({namespace:l});break;case"multiversx":this.rpcProviders[t]=new r3({namespace:l});break;case"near":this.rpcProviders[t]=new n3({namespace:l});break;default:this.rpcProviders[ha]?this.rpcProviders[ha].updateNamespace(l):this.rpcProviders[ha]=new i3({namespace:l})}})}registerEventListeners(){var e=this;if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{const{params:s}=t,{event:a}=s;if("accountsChanged"===a.name){const u=a.data;u&&gs(u)&&this.events.emit("accountsChanged",u.map(K6))}else if("chainChanged"===a.name){const u=s.chainId,l=s.event.data,d=aa(u),y=mh(u)!==mh(l)?`${d}:${mh(l)}`:u;this.onChainChanged(y)}else this.events.emit(a.name,a.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:s})=>{var a;const{namespaces:u}=s,l=null==(a=this.client)?void 0:a.session.get(t);this.session=yh(uc({},l),{namespaces:u}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:s})}),this.client.on("session_delete",function(){var t=(0,S.Z)(function*(s){yield e.cleanup(),e.events.emit("session_delete",s),e.events.emit("disconnect",yh(uc({},Pt("USER_DISCONNECTED")),{data:s.topic}))});return function(s){return t.apply(this,arguments)}}()),this.on("default_chain_changed",t=>{this.onChainChanged(t,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[ha]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace(null==(t=this.session)?void 0:t.namespaces[e])})}setNamespaces(e){const{namespaces:t,optionalNamespaces:s,sessionProperties:a}=e;t&&Object.keys(t).length&&(this.namespaces=t),s&&Object.keys(s).length&&(this.optionalNamespaces=s),this.sessionProperties=a,this.persist("namespaces",t),this.persist("optionalNamespaces",s)}validateChain(e){const[t,s]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,s];if(t&&!Object.keys(this.namespaces||{}).map(l=>aa(l)).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&s)return[t,s];const a=aa(Object.keys(this.namespaces)[0]);return[a,this.rpcProviders[a].getDefaultChain()]}requestAccounts(){var e=this;return(0,S.Z)(function*(){const[t]=e.validateChain();return yield e.getProvider(t).requestAccounts()})()}onChainChanged(e,t=!1){if(!this.namespaces)return;const[s,a]=this.validateChain(e);a&&(t||this.getProvider(s).setDefaultChain(a),this.namespaces[s]?this.namespaces[s].defaultChain=a:this.namespaces[`${s}:${a}`]?this.namespaces[`${s}:${a}`].defaultChain=a:this.namespaces[`${s}:${a}`]={defaultChain:a},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",a))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}cleanup(){var e=this;return(0,S.Z)(function*(){e.session=void 0,e.namespaces=void 0,e.optionalNamespaces=void 0,e.sessionProperties=void 0,e.persist("namespaces",void 0),e.persist("optionalNamespaces",void 0),e.persist("sessionProperties",void 0),yield e.cleanupPendingPairings({deletePairings:!0})})()}persist(e,t){this.client.core.storage.setItem(`${$p}/${e}`,t)}getFromStore(e){var t=this;return(0,S.Z)(function*(){return yield t.client.core.storage.getItem(`${$p}/${e}`)})()}}const l3=_h,cc=["eth_sendTransaction","personal_sign"],s0=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],lc=["chainChanged","accountsChanged"],o0=["chainChanged","accountsChanged","message","disconnect","connect"];var g3=Object.defineProperty,m3=Object.defineProperties,v3=Object.getOwnPropertyDescriptors,a0=Object.getOwnPropertySymbols,y3=Object.prototype.hasOwnProperty,_3=Object.prototype.propertyIsEnumerable,u0=(r,e,t)=>e in r?g3(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,fa=(r,e)=>{for(var t in e||(e={}))y3.call(e,t)&&u0(r,t,e[t]);if(a0)for(var t of a0(e))_3.call(e,t)&&u0(r,t,e[t]);return r},bh=(r,e)=>m3(r,v3(e));function hc(r){return Number(r[0].split(":")[1])}function fc(r){return`0x${r.toString(16)}`}class dc{constructor(){this.events=new ur.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY="wc@2:ethereum_provider:",this.on=(e,t)=>(this.events.on(e,t),this),this.once=(e,t)=>(this.events.once(e,t),this),this.removeListener=(e,t)=>(this.events.removeListener(e,t),this),this.off=(e,t)=>(this.events.off(e,t),this),this.parseAccount=e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e,this.signer={},this.rpc={}}static init(e){return(0,S.Z)(function*(){const t=new dc;return yield t.initialize(e),t})()}request(e,t){var s=this;return(0,S.Z)(function*(){return yield s.signer.request(e,s.formatChainId(s.chainId),t)})()}sendAsync(e,t,s){this.signer.sendAsync(e,t,this.formatChainId(this.chainId),s)}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}enable(){var e=this;return(0,S.Z)(function*(){return e.session||(yield e.connect()),yield e.request({method:"eth_requestAccounts"})})()}connect(e){var t=this;return(0,S.Z)(function*(){if(!t.signer.client)throw new Error("Provider not initialized. Call init() first");t.loadConnectOpts(e);const{required:s,optional:a}=function b3(r){const{chains:e,optionalChains:t,methods:s,optionalMethods:a,events:u,optionalEvents:l,rpcMap:d}=r;if(!gs(e))throw new Error("Invalid chains");const y={chains:e,methods:s||cc,events:u||lc,rpcMap:fa({},e.length?{[hc(e)]:d[hc(e)]}:{})},g=u?.filter(F=>!lc.includes(F)),w=s?.filter(F=>!cc.includes(F));if(!(t||l||a||null!=g&&g.length||null!=w&&w.length))return{required:e.length?y:void 0};const O={chains:[...new Set(g?.length&&w?.length||!t?y.chains.concat(t||[]):t)],methods:[...new Set(y.methods.concat(null!=a&&a.length?a:s0))],events:[...new Set(y.events.concat(null!=l&&l.length?l:o0))],rpcMap:d};return{required:e.length?y:void 0,optional:t.length?O:void 0}}(t.rpc);try{const u=yield new Promise(function(){var d=(0,S.Z)(function*(y,g){var w;t.rpc.showQrModal&&(null==(w=t.modal)||w.subscribeModal(I=>{!I.open&&!t.signer.session&&(t.signer.abortPairingAttempt(),g(new Error("Connection request reset. Please try again.")))})),yield t.signer.connect(bh(fa({namespaces:fa({},s&&{[t.namespace]:s})},a&&{optionalNamespaces:{[t.namespace]:a}}),{pairingTopic:e?.pairingTopic})).then(I=>{y(I)}).catch(I=>{g(new Error(I.message))})});return function(y,g){return d.apply(this,arguments)}}());if(!u)return;const l=Mt(u.namespaces,[t.namespace]);t.setChainIds(t.rpc.chains.length?t.rpc.chains:l),t.setAccounts(l),t.events.emit("connect",{chainId:fc(t.chainId)})}catch(u){throw t.signer.logger.error(u),u}finally{t.modal&&t.modal.closeModal()}})()}authenticate(e){var t=this;return(0,S.Z)(function*(){if(!t.signer.client)throw new Error("Provider not initialized. Call init() first");t.loadConnectOpts({chains:e?.chains});try{const s=yield new Promise(function(){var u=(0,S.Z)(function*(l,d){var y;t.rpc.showQrModal&&(null==(y=t.modal)||y.subscribeModal(g=>{!g.open&&!t.signer.session&&(t.signer.abortPairingAttempt(),d(new Error("Connection request reset. Please try again.")))})),yield t.signer.authenticate(bh(fa({},e),{chains:t.rpc.chains})).then(g=>{l(g)}).catch(g=>{d(new Error(g.message))})});return function(l,d){return u.apply(this,arguments)}}()),a=s.session;if(a){const u=Mt(a.namespaces,[t.namespace]);t.setChainIds(t.rpc.chains.length?t.rpc.chains:u),t.setAccounts(u),t.events.emit("connect",{chainId:fc(t.chainId)})}return s}catch(s){throw t.signer.logger.error(s),s}finally{t.modal&&t.modal.closeModal()}})()}disconnect(){var e=this;return(0,S.Z)(function*(){e.session&&(yield e.signer.disconnect()),e.reset()})()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:t}=e,{event:s}=t;"accountsChanged"===s.name?(this.accounts=this.parseAccounts(s.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===s.name?this.setChainId(this.formatChainId(s.data)):this.events.emit(s.name,s.data),this.events.emit("session_event",e)}),this.signer.on("chainChanged",e=>{const t=parseInt(e);this.chainId=t,this.events.emit("chainChanged",fc(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",bh(fa({},Pt("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{var t,s;this.rpc.showQrModal&&(null==(t=this.modal)||t.closeModal(),null==(s=this.modal)||s.openModal({uri:e})),this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return"string"==typeof e&&e.startsWith(`${this.namespace}:`)}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const t=e.filter(s=>this.isCompatibleChainId(s)).map(s=>this.parseChainId(s));t.length&&(this.chainId=t[0],this.events.emit("chainChanged",fc(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}parseAccountId(e){const[t,s,a]=e.split(":");return{chainId:`${t}:${s}`,address:a}}setAccounts(e){this.accounts=e.filter(t=>this.parseChainId(this.parseAccountId(t).chainId)===this.chainId).map(t=>this.parseAccountId(t).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var t,s;const a=null!=(t=e?.chains)?t:[],u=null!=(s=e?.optionalChains)?s:[],l=a.concat(u);if(!l.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const d=a.length?e?.methods||cc:[],y=a.length?e?.events||lc:[],g=e?.optionalMethods||[],w=e?.optionalEvents||[],I=e?.rpcMap||this.buildRpcMap(l,e.projectId),O=e?.qrModalOptions||void 0;return{chains:a?.map(F=>this.formatChainId(F)),optionalChains:u.map(F=>this.formatChainId(F)),methods:d,events:y,optionalMethods:g,optionalEvents:w,rpcMap:I,showQrModal:!(null==e||!e.showQrModal),qrModalOptions:O,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,t){const s={};return e.forEach(a=>{s[a]=this.getRpcUrl(a,t)}),s}initialize(e){var t=this;return(0,S.Z)(function*(){if(t.rpc=t.getRpcConfig(e),t.chainId=hc(t.rpc.chains.length?t.rpc.chains:t.rpc.optionalChains),t.signer=yield l3.init({projectId:t.rpc.projectId,metadata:t.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storageOptions:e.storageOptions}),t.registerEventListeners(),yield t.loadPersistedSession(),t.rpc.showQrModal){let s;try{const{WalletConnectModal:a}=yield ke.e(301).then(ke.bind(ke,93301));s=a}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(s)try{t.modal=new s(fa({projectId:t.rpc.projectId},t.rpc.qrModalOptions))}catch(a){throw t.signer.logger.error(a),new Error("Could not generate WalletConnectModal Instance")}}})()}loadConnectOpts(e){if(!e)return;const{chains:t,optionalChains:s,rpcMap:a}=e;t&&gs(t)&&(this.rpc.chains=t.map(u=>this.formatChainId(u)),t.forEach(u=>{this.rpc.rpcMap[u]=a?.[u]||this.getRpcUrl(u)})),s&&gs(s)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=s?.map(u=>this.formatChainId(u)),s.forEach(u=>{this.rpc.rpcMap[u]=a?.[u]||this.getRpcUrl(u)}))}getRpcUrl(e,t){var s;return(null==(s=this.rpc.rpcMap)?void 0:s[e])||`https://rpc.walletconnect.com/v1/?chainId=eip155:${e}&projectId=${t||this.rpc.projectId}`}loadPersistedSession(){var e=this;return(0,S.Z)(function*(){if(e.session)try{const t=yield e.signer.client.core.storage.getItem(`${e.STORAGE_KEY}/chainId`),s=e.session.namespaces[`${e.namespace}:${t}`]?e.session.namespaces[`${e.namespace}:${t}`]:e.session.namespaces[e.namespace];e.setChainIds(t?[e.formatChainId(t)]:s?.accounts),e.setAccounts(s?.accounts)}catch(t){e.signer.logger.error("Failed to load persisted session, clearing state..."),e.signer.logger.error(t),yield e.disconnect().catch(s=>e.signer.logger.warn(s))}})()}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return"string"==typeof e||e instanceof String?[this.parseAccount(e)]:e.map(t=>this.parseAccount(t))}}const w3=dc},82768:()=>{},9557:(ni,at,ke)=>{ni.exports=self.fetch||(self.fetch=ke(28456).default||ke(28456))},12650:(ni,at,ke)=>{ni=ke.nmd(ni);var ur="__lodash_hash_undefined__",pr=1,vi=2,we=9007199254740991,gr="[object Arguments]",dt="[object Array]",Ue="[object AsyncFunction]",Te="[object Boolean]",We="[object Date]",Hn="[object Error]",en="[object Function]",$r="[object GeneratorFunction]",Ze="[object Map]",$n="[object Number]",ii="[object Null]",mn="[object Object]",kr="[object Promise]",Ci="[object Proxy]",yi="[object RegExp]",si="[object Set]",ce="[object String]",tt="[object Undefined]",Ur="[object WeakMap]",jr="[object ArrayBuffer]",oi="[object DataView]",Vr=/^\[object .+?Constructor\]$/,Pr=/^(?:0|[1-9]\d*)$/,Qe={};Qe["[object Float32Array]"]=Qe["[object Float64Array]"]=Qe["[object Int8Array]"]=Qe["[object Int16Array]"]=Qe["[object Int32Array]"]=Qe["[object Uint8Array]"]=Qe["[object Uint8ClampedArray]"]=Qe["[object Uint16Array]"]=Qe["[object Uint32Array]"]=!0,Qe[gr]=Qe[dt]=Qe[jr]=Qe[Te]=Qe[oi]=Qe[We]=Qe[Hn]=Qe[en]=Qe[Ze]=Qe[$n]=Qe[mn]=Qe[yi]=Qe[si]=Qe[ce]=Qe[Ur]=!1;var tn="object"==typeof global&&global&&global.Object===Object&&global,xo="object"==typeof self&&self&&self.Object===Object&&self,Gr=tn||xo||Function("return this")(),G=at&&!at.nodeType&&at,Q=G&&ni&&!ni.nodeType&&ni,K=Q&&Q.exports===G,v=K&&tn.process,U=function(){try{return v&&v.binding&&v.binding("util")}catch{}}(),Ne=U&&U.isTypedArray;function mr(P,j){for(var ee=-1,se=null==P?0:P.length;++ee<se;)if(j(P[ee],ee,P))return!0;return!1}function rn(P,j){return P.has(j)}function zr(P){var j=-1,ee=Array(P.size);return P.forEach(function(se,it){ee[++j]=[it,se]}),ee}function Rr(P){var j=-1,ee=Array(P.size);return P.forEach(function(se){ee[++j]=se}),ee}var P,Cr=Array.prototype,qt=Object.prototype,kt=Gr["__core-js_shared__"],lr=Function.prototype.toString,Ye=qt.hasOwnProperty,Nr=(P=/[^.]+$/.exec(kt&&kt.keys&&kt.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"",vn=qt.toString,Mn=RegExp("^"+lr.call(Ye).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yn=K?Gr.Buffer:void 0,Pn=Gr.Symbol,Gn=Gr.Uint8Array,_n=qt.propertyIsEnumerable,Rn=Cr.splice,Or=Pn?Pn.toStringTag:void 0,qn=Object.getOwnPropertySymbols,Ns=yn?yn.isBuffer:void 0,io=function Jr(P,j){return function(ee){return P(j(ee))}}(Object.keys,Object),Os=wi(Gr,"DataView"),Ts=wi(Gr,"Map"),Tr=wi(Gr,"Promise"),Dr=wi(Gr,"Set"),Fr=wi(Gr,"WeakMap"),yr=wi(Object,"create"),nn=bn(Os),on=bn(Ts),Wr=bn(Tr),an=bn(Dr),hr=bn(Fr),Lr=Pn?Pn.prototype:void 0,Ir=Lr?Lr.valueOf:void 0;function Lt(P){var j=-1,ee=null==P?0:P.length;for(this.clear();++j<ee;){var se=P[j];this.set(se[0],se[1])}}function kn(P){var j=-1,ee=null==P?0:P.length;for(this.clear();++j<ee;){var se=P[j];this.set(se[0],se[1])}}function Un(P){var j=-1,ee=null==P?0:P.length;for(this.clear();++j<ee;){var se=P[j];this.set(se[0],se[1])}}function so(P){var j=-1,ee=null==P?0:P.length;for(this.__data__=new Un;++j<ee;)this.add(P[j])}function ns(P){var j=this.__data__=new kn(P);this.size=j.size}function Eo(P,j){for(var ee=P.length;ee--;)if(Da(P[ee][0],j))return ee;return-1}function Io(P){return null==P?void 0===P?tt:ii:Or&&Or in Object(P)?function br(P){var j=Ye.call(P,Or),ee=P[Or];try{P[Or]=void 0;var se=!0}catch{}var it=vn.call(P);return se&&(j?P[Or]=ee:delete P[Or]),it}(P):function Tu(P){return vn.call(P)}(P)}function Oa(P){return Wn(P)&&Io(P)==gr}function Go(P,j,ee,se,it){return P===j||(null==P||null==j||!Wn(P)&&!Wn(j)?P!=P&&j!=j:function bi(P,j,ee,se,it,Ge){var st=Mo(P),wr=Mo(j),Yr=st?dt:is(P),fr=wr?dt:is(j),jn=(Yr=Yr==gr?mn:Yr)==mn,Nn=(fr=fr==gr?mn:fr)==mn,Xr=Yr==fr;if(Xr&&Ba(P)){if(!Ba(j))return!1;st=!0,jn=!1}if(Xr&&!jn)return Ge||(Ge=new ns),st||Jo(P)?_r(P,j,ee,se,it,Ge):function Nu(P,j,ee,se,it,Ge,st){switch(ee){case oi:if(P.byteLength!=j.byteLength||P.byteOffset!=j.byteOffset)return!1;P=P.buffer,j=j.buffer;case jr:return!(P.byteLength!=j.byteLength||!Ge(new Gn(P),new Gn(j)));case Te:case We:case $n:return Da(+P,+j);case Hn:return P.name==j.name&&P.message==j.message;case yi:case ce:return P==j+"";case Ze:var wr=zr;case si:if(wr||(wr=Rr),P.size!=j.size&&!(se&pr))return!1;var fr=st.get(P);if(fr)return fr==j;se|=vi,st.set(P,j);var jn=_r(wr(P),wr(j),se,it,Ge,st);return st.delete(P),jn;case"[object Symbol]":if(Ir)return Ir.call(P)==Ir.call(j)}return!1}(P,j,Yr,ee,se,it,Ge);if(!(ee&pr)){var zn=jn&&Ye.call(P,"__wrapped__"),Br=Nn&&Ye.call(j,"__wrapped__");if(zn||Br){var Qn=zn?P.value():P,Zt=Br?j.value():j;return Ge||(Ge=new ns),it(Qn,Zt,ee,se,Ge)}}return!!Xr&&(Ge||(Ge=new ns),function oo(P,j,ee,se,it,Ge){var st=ee&pr,wr=Ou(P),Yr=wr.length;if(Yr!=Ou(j).length&&!st)return!1;for(var Nn=Yr;Nn--;){var Xr=wr[Nn];if(!(st?Xr in j:Ye.call(j,Xr)))return!1}var zn=Ge.get(P);if(zn&&Ge.get(j))return zn==j;var Br=!0;Ge.set(P,j),Ge.set(j,P);for(var Qn=st;++Nn<Yr;){var Zt=P[Xr=wr[Nn]],ss=j[Xr];if(se)var Bu=st?se(ss,Zt,Xr,j,P,Ge):se(Zt,ss,Xr,P,j,Ge);if(!(void 0===Bu?Zt===ss||it(Zt,ss,ee,se,Ge):Bu)){Br=!1;break}Qn||(Qn="constructor"==Xr)}if(Br&&!Qn){var Wo=P.constructor,Ro=j.constructor;Wo!=Ro&&"constructor"in P&&"constructor"in j&&!("function"==typeof Wo&&Wo instanceof Wo&&"function"==typeof Ro&&Ro instanceof Ro)&&(Br=!1)}return Ge.delete(P),Ge.delete(j),Br}(P,j,ee,se,it,Ge))}(P,j,ee,se,Go,it))}function _r(P,j,ee,se,it,Ge){var st=ee&pr,wr=P.length,Yr=j.length;if(wr!=Yr&&!(st&&Yr>wr))return!1;var fr=Ge.get(P);if(fr&&Ge.get(j))return fr==j;var jn=-1,Nn=!0,Xr=ee&vi?new so:void 0;for(Ge.set(P,j),Ge.set(j,P);++jn<wr;){var zn=P[jn],Br=j[jn];if(se)var Qn=st?se(Br,zn,jn,j,P,Ge):se(zn,Br,jn,P,j,Ge);if(void 0!==Qn){if(Qn)continue;Nn=!1;break}if(Xr){if(!mr(j,function(Zt,ss){if(!rn(Xr,ss)&&(zn===Zt||it(zn,Zt,ee,se,Ge)))return Xr.push(ss)})){Nn=!1;break}}else if(zn!==Br&&!it(zn,Br,ee,se,Ge)){Nn=!1;break}}return Ge.delete(P),Ge.delete(j),Nn}function Ou(P){return function Na(P,j,ee){var se=j(P);return Mo(P)?se:function Et(P,j){for(var ee=-1,se=j.length,it=P.length;++ee<se;)P[it+ee]=j[ee];return P}(se,ee(P))}(P,Du,al)}function So(P,j){var ee=P.__data__;return function Ta(P){var j=typeof P;return"string"==j||"number"==j||"symbol"==j||"boolean"==j?"__proto__"!==P:null===P}(j)?ee["string"==typeof j?"string":"hash"]:ee.map}function wi(P,j){var ee=function Sn(P,j){return P?.[j]}(P,j);return function Cu(P){return!(!Po(P)||function Cn(P){return!!Nr&&Nr in P}(P))&&(Le(P)?Mn:Vr).test(bn(P))}(ee)?ee:void 0}Lt.prototype.clear=function un(){this.__data__=yr?yr(null):{},this.size=0},Lt.prototype.delete=function cn(P){var j=this.has(P)&&delete this.__data__[P];return this.size-=j?1:0,j},Lt.prototype.get=function Qr(P){var j=this.__data__;if(yr){var ee=j[P];return ee===ur?void 0:ee}return Ye.call(j,P)?j[P]:void 0},Lt.prototype.has=function ln(P){var j=this.__data__;return yr?void 0!==j[P]:Ye.call(j,P)},Lt.prototype.set=function Ds(P,j){var ee=this.__data__;return this.size+=this.has(P)?0:1,ee[P]=yr&&void 0===j?ur:j,this},kn.prototype.clear=function xu(){this.__data__=[],this.size=0},kn.prototype.delete=function el(P){var j=this.__data__,ee=Eo(j,P);return!(ee<0||(ee==j.length-1?j.pop():Rn.call(j,ee,1),--this.size,0))},kn.prototype.get=function tl(P){var j=this.__data__,ee=Eo(j,P);return ee<0?void 0:j[ee][1]},kn.prototype.has=function Eu(P){return Eo(this.__data__,P)>-1},kn.prototype.set=function hn(P,j){var ee=this.__data__,se=Eo(ee,P);return se<0?(++this.size,ee.push([P,j])):ee[se][1]=j,this},Un.prototype.clear=function rt(){this.size=0,this.__data__={hash:new Lt,map:new(Ts||kn),string:new Lt}},Un.prototype.delete=function _i(P){var j=So(this,P).delete(P);return this.size-=j?1:0,j},Un.prototype.get=function rl(P){return So(this,P).get(P)},Un.prototype.has=function Ca(P){return So(this,P).has(P)},Un.prototype.set=function nl(P,j){var ee=So(this,P),se=ee.size;return ee.set(P,j),this.size+=ee.size==se?0:1,this},so.prototype.add=so.prototype.push=function Iu(P){return this.__data__.set(P,ur),this},so.prototype.has=function Su(P){return this.__data__.has(P)},ns.prototype.clear=function Mu(){this.__data__=new kn,this.size=0},ns.prototype.delete=function il(P){var j=this.__data__,ee=j.delete(P);return this.size=j.size,ee},ns.prototype.get=function sl(P){return this.__data__.get(P)},ns.prototype.has=function Pu(P){return this.__data__.has(P)},ns.prototype.set=function Ru(P,j){var ee=this.__data__;if(ee instanceof kn){var se=ee.__data__;if(!Ts||se.length<199)return se.push([P,j]),this.size=++ee.size,this;ee=this.__data__=new Un(se)}return ee.set(P,j),this.size=ee.size,this};var al=qn?function(P){return null==P?[]:(P=Object(P),function Ke(P,j){for(var ee=-1,se=null==P?0:P.length,it=0,Ge=[];++ee<se;){var st=P[ee];j(st,ee,P)&&(Ge[it++]=st)}return Ge}(qn(P),function(j){return _n.call(P,j)}))}:function hl(){return[]},is=Io;function Jn(P,j){return!!(j=j??we)&&("number"==typeof P||Pr.test(P))&&P>-1&&P%1==0&&P<j}function bn(P){if(null!=P){try{return lr.call(P)}catch{}try{return P+""}catch{}}return""}function Da(P,j){return P===j||P!=P&&j!=j}(Os&&is(new Os(new ArrayBuffer(1)))!=oi||Ts&&is(new Ts)!=Ze||Tr&&is(Tr.resolve())!=kr||Dr&&is(new Dr)!=si||Fr&&is(new Fr)!=Ur)&&(is=function(P){var j=Io(P),ee=j==mn?P.constructor:void 0,se=ee?bn(ee):"";if(se)switch(se){case nn:return oi;case on:return Ze;case Wr:return kr;case an:return si;case hr:return Ur}return j});var Fa=Oa(function(){return arguments}())?Oa:function(P){return Wn(P)&&Ye.call(P,"callee")&&!_n.call(P,"callee")},Mo=Array.isArray,Ba=Ns||function Fu(){return!1};function Le(P){if(!Po(P))return!1;var j=Io(P);return j==en||j==$r||j==Ue||j==Ci}function qa(P){return"number"==typeof P&&P>-1&&P%1==0&&P<=we}function Po(P){var j=typeof P;return null!=P&&("object"==j||"function"==j)}function Wn(P){return null!=P&&"object"==typeof P}var Jo=Ne?function Mt(P){return function(j){return P(j)}}(Ne):function Ve(P){return Wn(P)&&qa(P.length)&&!!Qe[Io(P)]};function Du(P){return function cl(P){return null!=P&&qa(P.length)&&!Le(P)}(P)?function Vo(P,j){var ee=Mo(P),se=!ee&&Fa(P),it=!ee&&!se&&Ba(P),Ge=!ee&&!se&&!it&&Jo(P),st=ee||se||it||Ge,wr=st?function vt(P,j){for(var ee=-1,se=Array(P);++ee<P;)se[ee]=j(ee);return se}(P.length,String):[],Yr=wr.length;for(var fr in P)(j||Ye.call(P,fr))&&(!st||!("length"==fr||it&&("offset"==fr||"parent"==fr)||Ge&&("buffer"==fr||"byteLength"==fr||"byteOffset"==fr)||Jn(fr,Yr)))&&wr.push(fr);return wr}(P):function ol(P){if(!function ul(P){var j=P&&P.constructor;return P===("function"==typeof j&&j.prototype||qt)}(P))return io(P);var j=[];for(var ee in Object(P))Ye.call(P,ee)&&"constructor"!=ee&&j.push(ee);return j}(P)}ni.exports=function ll(P,j){return Go(P,j)}},28456:(ni,at,ke)=>{"use strict";function S(ur,pr){return pr=pr||{},new Promise(function(vi,we){var gr=new XMLHttpRequest,dt=[],Ue=[],Te={},We=function(){return{ok:2==(gr.status/100|0),statusText:gr.statusText,status:gr.status,url:gr.responseURL,text:function(){return Promise.resolve(gr.responseText)},json:function(){return Promise.resolve(gr.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([gr.response]))},clone:We,headers:{keys:function(){return dt},entries:function(){return Ue},get:function(en){return Te[en.toLowerCase()]},has:function(en){return en.toLowerCase()in Te}}}};for(var Hn in gr.open(pr.method||"get",ur,!0),gr.onload=function(){gr.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(en,$r,Ze){dt.push($r=$r.toLowerCase()),Ue.push([$r,Ze]),Te[$r]=Te[$r]?Te[$r]+","+Ze:Ze}),vi(We())},gr.onerror=we,gr.withCredentials="include"==pr.credentials,pr.headers)gr.setRequestHeader(Hn,pr.headers[Hn]);gr.send(pr.body||null)})}ke.r(at),ke.d(at,{default:()=>S})},3569:ni=>{"use strict";ni.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}}]);